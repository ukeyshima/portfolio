(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{166:function(e,t,n){"use strict";n.r(t);n(4),n(5),n(6);var o=n(0),r=n.n(o),i=n(23),u=n.n(i),a=n(434),p=n.n(a),c=n(437),l=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b,m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,h(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.a.Component),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",{style:{height:37,padding:5,margin:10}},r.a.createElement("div",{style:{margin:"auto",width:140,height:37}},r.a.createElement("div",{style:{backgroundImage:"url(".concat(l.a,")"),width:37,height:37,backgroundSize:"cover",float:"left"}}),r.a.createElement("div",{style:{fontSize:25,margin:"0 0 0 15px",float:"left"}},"BillBill")))}}])&&f(n.prototype,o),i&&f(n,i),t}(),g=n(12),w=n(194);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x,k=Object(g.b)(function(e,t){var n=e.state;return{updateGroupeNum:n.updateGroupeNum,groupe:n.groupes[t.num],removeGroupe:n.removeGroupe,calculate:n.calculate}})(b=Object(g.c)(b=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=E(this,(e=S(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.updateGroupeNum(n.props.num,Math.floor(e.target.value)),n.props.calculate()},n.handleClick=function(){n.props.removeGroupe(n.props.num),n.props.calculate()},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r.a.Component),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w.FaMinusSquare,{onClick:this.handleClick,style:{float:"left",color:"rgb(175,254,255)",margin:5,width:14,height:14}}),r.a.createElement("div",{style:{float:"left"}},"グループ".concat(this.props.num+1)),r.a.createElement("div",null,": ".concat(this.props.groupe.bill,"円")),r.a.createElement("div",null,r.a.createElement("input",{pattern:"\\d*",type:"number",style:{textAlign:"right",width:83.5,margin:"0 0 0 24px"},onChange:this.handleChange,value:this.props.groupe.num}),"人"))}}])&&O(n.prototype,o),i&&O(n,i),t}())||b)||b;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T,C=Object(g.b)(function(e,t){var n=e.state;return{groupes:n.groupes,windowSize:n.windowSize,updateGroupeRate:n.updateGroupeRate,calculate:n.calculate,rateBox:n.rateBox}})(x=Object(g.c)(x=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=_(this,(e=R(t)).call.apply(e,[this].concat(r)))).handleMouseDown=function(e){n.frontElement=document.getElementById("rate".concat(n.props.num-1)),n.frontElementBoundingRect=n.frontElement.getBoundingClientRect(),n.currentElement=document.getElementById("rate".concat(n.props.num)),n.currentElementBoundingRect=n.currentElement.getBoundingClientRect(),n.barStartX="changedTouches"in e?e.changedTouches[0].pageX:e.pageX,n.rate=n.props.rate,n.frontRate=n.props.groupes[n.props.num-1].rate,window.addEventListener("mousemove",n.handleMouseMoveOrTouchMove),window.addEventListener("mouseup",n.handleMouseUpOrTouchEnd),window.addEventListener("touchmove",n.handleMouseMoveOrTouchMove),window.addEventListener("touchend",n.handleMouseUpOrTouchEnd)},n.handleMouseMoveOrTouchMove=function(e){var t="changedTouches"in e?e.changedTouches[0].pageX:e.pageX;if(t>n.frontElementBoundingRect.left+2&&t<n.currentElementBoundingRect.right){var o=(t-n.barStartX)/(n.props.windowSize.width-70-n.props.groupes.length-1);n.props.updateGroupeRate(n.props.num-1,n.frontRate+o),n.props.updateGroupeRate(n.props.num,n.rate-o),n.props.calculate()}},n.handleMouseUpOrTouchEnd=function(){window.removeEventListener("mousemove",n.handleMouseMoveOrTouchMove),window.removeEventListener("mouseup",n.handleMouseUpOrTouchEnd),window.removeEventListener("touchmove",n.handleMouseMoveOrTouchMove),window.removeEventListener("touchend",n.handleMouseUpOrTouchEnd)},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r.a.Component),n=t,(o=[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,0!==this.props.num&&r.a.createElement("div",{style:{float:"left",width:1,height:38,cursor:"col-resize"}}),0!==this.props.num&&r.a.createElement("div",{id:"inVisibleBar".concat(this.props.num),onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,style:{position:"absolute",left:this.props.rateBox.getBoundingClientRect().left+this.props.groupes.slice(0,this.props.num).reduce(function(t,n){return t+n.rate*(e.props.windowSize.width-70-e.props.groupes.length-1)},0)-15,width:31,height:38,backgroundColor:"rgba(0,0,0,0)",cursor:"col-resize"}}),r.a.createElement("div",{id:"rate".concat(this.props.num),style:{backgroundColor:"rgb(".concat(Math.floor(175-this.props.num/this.props.groupes.length*19),",").concat(Math.floor(254-this.props.num/this.props.groupes.length*96),",").concat(Math.floor(255-this.props.num/this.props.groupes.length*10),")"),float:"left",width:(this.props.windowSize.width-70-this.props.groupes.length-1)*this.props.rate,height:38}}))}}])&&z(n.prototype,o),i&&z(n,i),t}())||x)||x;function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W,U,N,X,I,F,q,H,J,V,$,K,Q,Y,Z,ee=Object(g.b)(function(e){var t=e.state;return{totalAmount:t.totalAmount,updateTotalAmount:t.updateTotalAmount,groupes:t.groupes,addGroupe:t.addGroupe,updateWindowSize:t.updateWindowSize,windowSize:t.windowSize,calculate:t.calculate,change:t.change,updateRateBox:t.updateRateBox}})(T=Object(g.c)(T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=A(this,(e=D(t)).call.apply(e,[this].concat(r)))).windowResize=function(){n.props.updateWindowSize(window.innerWidth,window.innerHeiight)},n.addGroupe=function(){n.props.addGroupe()},n.totalAmountUpdate=function(e){n.props.updateTotalAmount(Math.floor(e.target.value)),n.props.calculate()},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,r.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.windowResize),this.props.calculate(),this.props.updateRateBox(this.rateBox)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.windowResize)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{height:50,margin:10}},r.a.createElement(w.FaPlusSquare,{onClick:this.addGroupe,style:{margin:"5px 5px 5px 0",borderRadius:5,boxShadow:"5px 5px 20px #bbb",float:"left",height:40,width:40,textAlign:"center"}}),r.a.createElement("div",{ref:function(t){return e.rateBox=t},style:{margin:"5px 0 5px 5px",backgroundColor:"#fff",width:this.props.windowSize.width-72,height:38,float:"left",boxShadow:"5px 5px 20px #bbb",padding:1}},this.props.groupes.map(function(e,t){return r.a.createElement(C,{key:t,num:t,rate:e.rate})}))),r.a.createElement("div",{style:{margin:10,backgroundColor:"#fff",color:"#000",borderRadius:5,padding:10,boxShadow:"5px 5px 20px #bbb"}},r.a.createElement("div",{style:{margin:"0 0 0 24px"}},"総額"),r.a.createElement("div",null,r.a.createElement("input",{pattern:"\\d*",type:"number",onChange:this.totalAmountUpdate,value:this.props.totalAmount,style:{width:83.5,margin:"0 0 0 24px",textAlign:"right"}}),"円"),this.props.groupes.map(function(e,t){return r.a.createElement(k,{key:t,num:t})}),r.a.createElement("div",null,r.a.createElement("div",{style:{margin:"0 0 0 24px"}},"お釣り: ",this.props.change,"円"))))}}])&&G(n.prototype,o),i&&G(n,i),t}())||T)||T,te=(n(34),n(96),n(33),n(1)),ne=n(242),oe=n.n(ne);function re(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe={state:new(W=te.d.bound,U=te.d.bound,N=te.d.bound,X=te.d.bound,I=te.d.bound,F=te.d.bound,q=te.d.bound,H=te.d.bound,J=te.d.bound,$=ue((V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),re(this,"windowSize",$,this),re(this,"groupes",K,this),re(this,"rateBox",Q,this),re(this,"totalAmount",Y,this),re(this,"change",Z,this)}var t,n,o;return t=e,(n=[{key:"updateWindowSize",value:function(e,t){this.windowSize.width=e,this.windowSize.height=t}},{key:"updateGroupeNum",value:function(e,t){this.groupes[e].num=t}},{key:"updateGroupeRate",value:function(e,t){this.groupes[e].rate=t}},{key:"addGroupe",value:function(){var e=this.groupes.length,t=this.groupes[e-1];this.groupes[e-1].rate=t.rate/2,this.groupes.push({rate:t.rate,num:1,bill:0})}},{key:"updateRateBox",value:function(e){this.rateBox=e}},{key:"updateTotalAmount",value:function(e){this.totalAmount=e}},{key:"updateChange",value:function(e){this.change=e}},{key:"removeGroupe",value:function(e){this.groupes.length>1&&(0===e?this.groupes[e+1].rate+=this.groupes[e].rate:this.groupes[e-1].rate+=this.groupes[e].rate,this.groupes=this.groupes.filter(function(t,n){return n!==e}))}},{key:"calculate",value:function(){var e=this.groupes.map(function(e){return e.num}),t=this.groupes.map(function(e){return e.rate}),n=this.totalAmount/e.reduce(function(e,n,o){return e+n*t[o]},0),o=t.map(function(e){return e*n}),r=o.map(function(e){var t=[];return t[0]=-e%100,t[1]=100+t[0],t}),i=e.reduce(function(e,t,n){var o=[];return e.forEach(function(e){r[n].forEach(function(n){var r=oe.a.cloneDeep(e.frac);r.push(n),o.push({res:e.res+t*n,frac:r})})}),o},[{res:0,frac:[]}]).filter(function(e){return e.res>=0}),u=i.reduce(function(e,t){return e.res>t.res?t:e},i[0]),a=0;this.groupes.forEach(function(e,t){e.bill=u.frac[t]+o[t],a+=e.bill*e.num}),this.updateChange(a-this.totalAmount)}}])&&ie(t.prototype,n),o&&ie(t,o),e}()).prototype,"windowSize",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{width:window.innerWidth,feight:window.innerHeight}}}),ue(V.prototype,"updateWindowSize",[W],Object.getOwnPropertyDescriptor(V.prototype,"updateWindowSize"),V.prototype),K=ue(V.prototype,"groupes",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{rate:.7,num:1,bill:0},{rate:.3,num:1,bill:0}]}}),ue(V.prototype,"updateGroupeNum",[U],Object.getOwnPropertyDescriptor(V.prototype,"updateGroupeNum"),V.prototype),ue(V.prototype,"updateGroupeRate",[N],Object.getOwnPropertyDescriptor(V.prototype,"updateGroupeRate"),V.prototype),ue(V.prototype,"addGroupe",[X],Object.getOwnPropertyDescriptor(V.prototype,"addGroupe"),V.prototype),Q=ue(V.prototype,"rateBox",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return document.createElement("div")}}),ue(V.prototype,"updateRateBox",[I],Object.getOwnPropertyDescriptor(V.prototype,"updateRateBox"),V.prototype),Y=ue(V.prototype,"totalAmount",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue(V.prototype,"updateTotalAmount",[F],Object.getOwnPropertyDescriptor(V.prototype,"updateTotalAmount"),V.prototype),Z=ue(V.prototype,"change",[te.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue(V.prototype,"updateChange",[q],Object.getOwnPropertyDescriptor(V.prototype,"updateChange"),V.prototype),ue(V.prototype,"removeGroupe",[H],Object.getOwnPropertyDescriptor(V.prototype,"removeGroupe"),V.prototype),ue(V.prototype,"calculate",[J],Object.getOwnPropertyDescriptor(V.prototype,"calculate"),V.prototype),V)},de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,le(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){p.a.use()}},{key:"componentWillUnmount",value:function(){p.a.unuse()}},{key:"render",value:function(){return r.a.createElement(g.a,fe,r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(ee,null)))}}])&&pe(n.prototype,o),i&&pe(n,i),t}();u.a.render(r.a.createElement(de,null),document.getElementById("root"))},290:function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},291:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},434:function(e,t,n){var o,r=0,i=n(435),u={hmr:!0};u.insertInto=void 0,"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(t.locals=i.locals),t.use=t.ref=function(){return r++||(o=n(60)(i,u)),t},t.unuse=t.unref=function(){r>0&&!--r&&(o(),o=null)}},435:function(e,t,n){t=e.exports=n(59)(!1);var o=n(290)(n(436));t.push([e.i,"html {\n  background: linear-gradient(135deg, #affeff, #9c9ef5);\n  height: 100%; }\n\n@font-face {\n  font-family: Regular;\n  src: url("+o+"); }\n\nbody {\n  font-family: Regular;\n  color: #fff;\n  margin: 0; }\n",""])},436:function(e,t,n){e.exports=n.p+"7ed4b9a7daaf1d1c71903a92059434fb.otf"},437:function(e,t,n){e.exports=n.p+"d1d977f8e175ec08a04de4c3c1ae67ed.png"}}]);