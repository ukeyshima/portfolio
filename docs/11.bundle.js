(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{84:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r=n(3),a=n.n(r),c=n(4),s=n.n(c),u=n(5),l=n.n(u),f=n(6),v=n.n(f),d=n(0),h=n.n(d),p=n(24),m=n.n(p),g=n(926),R=n.n(g),A=n(927),E=n.n(A),F=function(e,t,n,i){var o=function(e,n){var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;alert(t.getShaderInfoLog(i)),console.log(t.getShaderInfoLog(i))},r=function(e,n){var i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?(t.useProgram(i),i):null}(o(n,t.VERTEX_SHADER),o(i,t.FRAGMENT_SHADER)),a=[];a[0]=t.getUniformLocation(r,"time"),a[1]=t.getUniformLocation(r,"resolution");var c,s,u=[0,2,1,1,2,3],l=[],f=[],v=(c=[-1,1,0,1,1,0,-1,-1,0,1,-1,0],s=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),s);l[0]=t.getAttribLocation(r,"position"),f[0]=3;var d=function(e){var n=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Int16Array(e),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),n}(u);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d),t.clearColor(1,0,0,1);var h=(new Date).getTime();return function(){var n,i,o=.001*((new Date).getTime()-h);o%=3,t.clear(t.COLOR_BUFFER_BIT),t.uniform1f(a[0],o),t.uniform2fv(a[1],[e.width,e.height]),n=l,i=f,[v].forEach(function(e,o,r){t.bindBuffer(t.ARRAY_BUFFER,e),t.enableVertexAttribArray(n[o]),t.vertexAttribPointer(n[o],i[o],t.FLOAT,!1,0,0)}),t.drawElements(t.TRIANGLES,u.length,t.UNSIGNED_SHORT,0),t.flush()}},w=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).requestId=0,n}return v()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestId)}},{key:"updateCanvas",value:function(){var e=this;this.canvas.width=this.props.style.width,this.canvas.height=this.props.style.height,this.gl=this.canvas.getContext("webgl");var t=F(this.canvas,this.gl,R()(),E()());!function n(){t(),e.requestId=requestAnimationFrame(n)}()}},{key:"handleResize",value:function(e,t){this.canvas.width=e,this.canvas.height=t,this.gl.viewport(0,0,e,t)}},{key:"render",value:function(){var e=this;return h.a.createElement("canvas",m()({},this.props,{ref:function(t){e.canvas=t}}))}}]),t}(h.a.Component),b=n(928),y=n.n(b);n.d(t,"default",function(){return x});var x=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).state={width:window.innerWidth,height:window.innerHeight},n}return v()(t,e),a()(t,[{key:"componentDidMount",value:function(){y.a.use(),this.tempHandleResize=this.handleResize.bind(this),window.addEventListener("resize",this.tempHandleResize)}},{key:"componentWillUnmount",value:function(){y.a.unuse(),window.removeEventListener("resize",this.tempHandleResize)}},{key:"handleResize",value:function(e){var t=e.target.innerWidth,n=e.target.innerHeight;this.refs.createCanvas.handleResize(t,n),this.setState({width:t,height:n})}},{key:"render",value:function(){return h.a.createElement(w,{ref:"createCanvas",style:{width:this.state.width,height:this.state.height}})}}]),t}(h.a.Component)},926:function(e,t){e.exports=function(){return["attribute vec3 position;","void main(void){","    gl_Position = vec4(position, 1.0);","}"].join("\n")}},927:function(e,t){e.exports=function(){return["precision mediump float;","uniform float time;","uniform vec2  resolution;","float random(vec3 p){","    return fract(sin(dot(p.xyz,vec3(12.9898,0.0,78.233)))*36.253);","}","float valueNoise(vec3 p){","    vec3 i=vec3(floor(p.x),p.y,floor(p.z));","    vec3 f=vec3(fract(p.x),p.y,fract(p.z));","    float f1=random(i);","    float f2=random(i+vec3(1.0,0.0,0.0));","    float f3=random(i+vec3(0.0,0.0,1.0));","    float f4=random(i+vec3(1.0,0.0,1.0));","    // f=smoothstep(0.0,1.0,f);","    f=f*f*(3.0-2.0*f);","    return (f1*(1.0-f.x)+f2*f.x)*(1.0-f.z)+(f3*(1.0-f.x)+f4*f.x)*f.z;","}","float octaveValueNoise(vec3 p){","float value=0.0;","float maxValue=0.0;","for(float i=0.0;i<9.0;i++){","    value+=pow(0.5,i)*valueNoise(vec3(p.x*pow(2.0,i),p.y,p.z*pow(2.0,i)));","    maxValue+=pow(0.5,i);","}","return value/maxValue;","}","float mountainDistFunc(vec3 p){","    vec3 pos=vec3(0.0,1.0,0.0);","    vec3 n=normalize(pos);","    return dot(p,n)/5.0+octaveValueNoise(p)/3.0;","}","float distFunc(vec3 p){","    float obj1;","    obj1=mountainDistFunc(p);","    return obj1;","}","vec3 genNormal(vec3 p){","    float d=0.001;","    return normalize(vec3(","        distFunc(p+vec3(d,0.0,0.0))-distFunc(p+vec3(-d,0.0,0.0)),","        distFunc(p+vec3(0.0,d,0.0))-distFunc(p+vec3(0.0,-d,0.0)),","        distFunc(p+vec3(0.0,0.0,d))-distFunc(p+vec3(0.0,0.0,-d))","        ));","}","void main(void){    ","    vec2 p = (gl_FragCoord.xy*2.0 - resolution) / min(resolution.x,resolution.y);    ","    vec3 lightPos=vec3(30.0,30.0,0.0);","    vec3 ambientColor=vec3(0.1);","    vec3 cPos=vec3(0.0,0.0,10.0);","    cPos.z=-3.0*time;","    vec3 cDir=vec3(0.0,-0.5,-1.0);","    vec3 cUp=vec3(0.0,1.0,0.0);","    vec3 cSide=cross(cDir,cUp);    ","    float targetDepth=1.0;","    vec3 ray=normalize(cSide*p.x+cUp*p.y+cDir*targetDepth);","    float distance=0.0;","    float rLen=0.0;","    vec3 rPos=cPos;","    vec3 color=vec3(242.0/255.0,242.0/255.0,232.0/255.0);","    float maxDist=100.0;","    for(int i=0;i<70;i++){","        distance=distFunc(rPos);","        if(abs(distance)<0.09){","            color=vec3(octaveValueNoise(vec3(rPos.x,0.0,0.0)),octaveValueNoise(vec3(rPos.x,0.0,rPos.z)),octaveValueNoise(vec3(0.0,0.0,rPos.z)));","            vec3 normal=genNormal(rPos);","            color=color*vec3(clamp(dot(lightPos,normal),0.0,1.0))+ambientColor+rLen/30.0;","            break;","        }","        rLen+=distance;","        rPos=cPos+ray*rLen;","        if(rLen>maxDist){","            break;","        }","    }    ","    gl_FragColor=vec4(color,1.0);","}"].join("\n")}},928:function(e,t,n){var i,o=0,r=n(929);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(t.locals=r.locals),t.use=t.ref=function(){return o++||(i=n(23)(r,{hmr:!0})),t},t.unuse=t.unref=function(){o>0&&!--o&&(i(),i=null)}},929:function(e,t,n){(e.exports=n(22)(!1)).push([e.i,"body {\n  margin: 0;\n  padding: 0;\n  overflow: hidden; }\n\n#root {\n  font-size: 0; }\n",""])}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW91bnRhaW4vY3JlYXRlQ2FudmFzLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbW91bnRhaW4vbWFpbi5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21vdW50YWluL3ZlcnRleFNoYWRlci5nbHNsIiwid2VicGFjazovLy8uL3NyYy9tb3VudGFpbi9mcmFnbWVudFNoYWRlci5nbHNsIiwid2VicGFjazovLy8uL3NyYy9tb3VudGFpbi9zdHlsZS5zY3NzPzU1OTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vdW50YWluL3N0eWxlLnNjc3MiXSwibmFtZXMiOlsid2ViR0xTdGFydCIsImNhbnZhcyIsImdsIiwidnMiLCJmcyIsImNyZWF0ZV9zaGFkZXIiLCJ0ZXh0IiwidHlwZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImFsZXJ0IiwiZ2V0U2hhZGVySW5mb0xvZyIsImNvbnNvbGUiLCJsb2ciLCJwcmciLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwidXNlUHJvZ3JhbSIsImNyZWF0ZV9wcm9ncmFtIiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsInVuaUxvY2F0aW9uIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZGF0YSIsInZibyIsImluZGV4IiwiYXR0TG9jYXRpb24iLCJhdHRTdHJpZGUiLCJ2UG9zaXRpb24iLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJ2SW5kZXgiLCJpYm8iLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkludDE2QXJyYXkiLCJjcmVhdGVfaWJvIiwiY2xlYXJDb2xvciIsInN0YXJ0VGltZSIsIkRhdGUiLCJnZXRUaW1lIiwiYXR0TCIsImF0dFMiLCJ0aW1lIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwidW5pZm9ybTFmIiwidW5pZm9ybTJmdiIsIndpZHRoIiwiaGVpZ2h0IiwiZm9yRWFjaCIsImUiLCJpIiwiYSIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwibGVuZ3RoIiwiVU5TSUdORURfU0hPUlQiLCJmbHVzaCIsIkNyZWF0ZUNhbnZhcyIsInByb3BzIiwiX3RoaXMiLCJjbGFzc0NhbGxDaGVja19kZWZhdWx0IiwidGhpcyIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5fZGVmYXVsdCIsImdldFByb3RvdHlwZU9mX2RlZmF1bHQiLCJjYWxsIiwicmVxdWVzdElkIiwidXBkYXRlQ2FudmFzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfdGhpczIiLCJzdHlsZSIsImdldENvbnRleHQiLCJyZW5kZXIiLCJ2ZXJ0IiwiZnJhZyIsImxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3IiwiaCIsInZpZXdwb3J0IiwiX3RoaXMzIiwicmVhY3RfZGVmYXVsdCIsImNyZWF0ZUVsZW1lbnQiLCJleHRlbmRzX2RlZmF1bHQiLCJyZWYiLCJSZWFjdCIsIkNvbXBvbmVudCIsIk1vdW50YWluIiwic3RhdGUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ1c2UiLCJ0ZW1wSGFuZGxlUmVzaXplIiwiaGFuZGxlUmVzaXplIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1bnVzZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJyZWZzIiwiY3JlYXRlQ2FudmFzIiwic2V0U3RhdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiam9pbiIsImRpc3Bvc2UiLCJjb250ZW50IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImxvY2FscyIsImhtciIsInVucmVmIiwicHVzaCJdLCJtYXBwaW5ncyI6IjBQQUdNQSxFQUFhLFNBQUNDLEVBQVFDLEVBQUlDLEVBQUlDLEdBQ2xDLElBWU1DLEVBQWdCLFNBQUNDLEVBQU1DLEdBQzNCLElBQU1DLEVBQVNOLEVBQUdPLGFBQWFGLEdBRy9CLEdBRkFMLEVBQUdRLGFBQWFGLEVBQVFGLEdBQ3hCSixFQUFHUyxjQUFjSCxHQUNiTixFQUFHVSxtQkFBbUJKLEVBQVFOLEVBQUdXLGdCQUNuQyxPQUFPTCxFQUVQTSxNQUFNWixFQUFHYSxpQkFBaUJQLElBQzFCUSxRQUFRQyxJQUFJZixFQUFHYSxpQkFBaUJQLEtBNEI5QlUsRUFoRGlCLFNBQUNmLEVBQUlDLEdBQzFCLElBQU1lLEVBQVVqQixFQUFHa0IsZ0JBSW5CLE9BSEFsQixFQUFHbUIsYUFBYUYsRUFBU2hCLEdBQ3pCRCxFQUFHbUIsYUFBYUYsRUFBU2YsR0FDekJGLEVBQUdvQixZQUFZSCxHQUNYakIsRUFBR3FCLG9CQUFvQkosRUFBU2pCLEVBQUdzQixjQUNyQ3RCLEVBQUd1QixXQUFXTixHQUNQQSxHQUVBLEtBdUNDTyxDQUNWckIsRUFBY0YsRUFBSUQsRUFBR3lCLGVBQ3JCdEIsRUFBY0QsRUFBSUYsRUFBRzBCLGtCQUVqQkMsRUFBYyxHQUNwQkEsRUFBWSxHQUFLM0IsRUFBRzRCLG1CQUFtQlosRUFBSyxRQUM1Q1csRUFBWSxHQUFLM0IsRUFBRzRCLG1CQUFtQlosRUFBSyxjQUU1QyxJQWpDbUJhLEVBQ1hDLEVBOENGQyxFQUFRLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3hCQyxFQUFjLEdBQ2RDLEVBQVksR0FFWkMsR0FuRGFMLEVBaUNGLEVBQ2QsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsR0FDQSxFQUNELEVBQ0EsR0FDQyxFQUNELEdBNUNNQyxFQUFNOUIsRUFBR21DLGVBQ2ZuQyxFQUFHb0MsV0FBV3BDLEVBQUdxQyxhQUFjUCxHQUMvQjlCLEVBQUdzQyxXQUFXdEMsRUFBR3FDLGFBQWMsSUFBSUUsYUFBYVYsR0FBTzdCLEVBQUd3QyxhQUMxRHhDLEVBQUdvQyxXQUFXcEMsRUFBR3FDLGFBQWMsTUFDeEJQLEdBK0NURSxFQUFZLEdBQUtoQyxFQUFHeUMsa0JBQWtCekIsRUFBSyxZQUMzQ2lCLEVBQVUsR0FBSyxFQUVmLElBQU1TLEVBaERhLFNBQUFiLEdBQ2pCLElBQU1jLEVBQU0zQyxFQUFHbUMsZUFRZixPQVBBbkMsRUFBR29DLFdBQVdwQyxFQUFHNEMscUJBQXNCRCxHQUN2QzNDLEVBQUdzQyxXQUNEdEMsRUFBRzRDLHFCQUNILElBQUlDLFdBQVdoQixHQUNmN0IsRUFBR3dDLGFBRUx4QyxFQUFHb0MsV0FBV3BDLEVBQUc0QyxxQkFBc0IsTUFDaENELEVBdUNNRyxDQUFXZixHQUMxQi9CLEVBQUdvQyxXQUFXcEMsRUFBRzRDLHFCQUFzQkYsR0FFdkMxQyxFQUFHK0MsV0FBVyxFQUFLLEVBQUssRUFBSyxHQUU3QixJQUFNQyxHQUFZLElBQUlDLE1BQU9DLFVBVzdCLE9BVmUsV0FDYixJQTVDMEJDLEVBQU1DLEVBNEM1QkMsRUFBNEMsT0FBcEMsSUFBSUosTUFBT0MsVUFBWUYsR0FDbkNLLEdBQWMsRUFDZHJELEVBQUdzRCxNQUFNdEQsRUFBR3VELGtCQUNadkQsRUFBR3dELFVBQVU3QixFQUFZLEdBQUkwQixHQUM3QnJELEVBQUd5RCxXQUFXOUIsRUFBWSxHQUFJLENBQUM1QixFQUFPMkQsTUFBTzNELEVBQU80RCxTQWhEMUJSLEVBaURDbkIsRUFqREtvQixFQWlEUW5CLEVBQTFCLENBQUNDLEdBaERYMEIsUUFBUSxTQUFDQyxFQUFHQyxFQUFHQyxHQUNqQi9ELEVBQUdvQyxXQUFXcEMsRUFBR3FDLGFBQWN3QixHQUMvQjdELEVBQUdnRSx3QkFBd0JiLEVBQUtXLElBQ2hDOUQsRUFBR2lFLG9CQUFvQmQsRUFBS1csR0FBSVYsRUFBS1UsR0FBSTlELEVBQUdrRSxPQUFPLEVBQU8sRUFBRyxLQThDL0RsRSxFQUFHbUUsYUFBYW5FLEVBQUdvRSxVQUFXckMsRUFBTXNDLE9BQVFyRSxFQUFHc0UsZUFBZ0IsR0FDL0R0RSxFQUFHdUUsVUEyQ1FDLGNBckNiLFNBQUFBLEVBQVlDLEdBQU8sSUFBQUMsRUFBQSxPQUFBQyxJQUFBQyxLQUFBSixJQUNqQkUsRUFBQUcsSUFBQUQsS0FBQUUsSUFBQU4sR0FBQU8sS0FBQUgsS0FBTUgsS0FDRE8sVUFBWSxFQUZBTixtRUFLakJFLEtBQUtLLDhEQUdMQyxxQkFBcUJOLEtBQUtJLGtEQUViLElBQUFHLEVBQUFQLEtBQ2JBLEtBQUs3RSxPQUFPMkQsTUFBUWtCLEtBQUtILE1BQU1XLE1BQU0xQixNQUNyQ2tCLEtBQUs3RSxPQUFPNEQsT0FBU2lCLEtBQUtILE1BQU1XLE1BQU16QixPQUN0Q2lCLEtBQUs1RSxHQUFLNEUsS0FBSzdFLE9BQU9zRixXQUFXLFNBQ2pDLElBQU1DLEVBQVN4RixFQUFXOEUsS0FBSzdFLE9BQVE2RSxLQUFLNUUsR0FBSXVGLE1BQVFDLFFBQzNDLFNBQVBDLElBQ0pILElBQ0FILEVBQUtILFVBQVlVLHNCQUFzQkQsR0FFekNBLHdDQUVXRSxFQUFHQyxHQUNkaEIsS0FBSzdFLE9BQU8yRCxNQUFRaUMsRUFDcEJmLEtBQUs3RSxPQUFPNEQsT0FBU2lDLEVBQ3JCaEIsS0FBSzVFLEdBQUc2RixTQUFTLEVBQUcsRUFBR0YsRUFBR0Msb0NBRW5CLElBQUFFLEVBQUFsQixLQUNQLE9BQ0VtQixFQUFBaEMsRUFBQWlDLGNBQUEsU0FBQUMsSUFBQSxHQUNNckIsS0FBS0gsTUFEWCxDQUVFeUIsSUFBSyxTQUFBckMsR0FDSGlDLEVBQUsvRixPQUFTOEQsYUFoQ0dzQyxJQUFNQyx1RUNqR1pDLGNBQ25CLFNBQUFBLEVBQVk1QixHQUFPLElBQUFDLEVBQUEsT0FBQUMsSUFBQUMsS0FBQXlCLElBQ2pCM0IsRUFBQUcsSUFBQUQsS0FBQUUsSUFBQXVCLEdBQUF0QixLQUFBSCxLQUFNSCxLQUNENkIsTUFBUSxDQUNYNUMsTUFBTzZDLE9BQU9DLFdBQ2Q3QyxPQUFRNEMsT0FBT0UsYUFKQS9CLG1FQVFqQlUsSUFBTXNCLE1BQ045QixLQUFLK0IsaUJBQW1CL0IsS0FBS2dDLGFBQWFDLEtBQUtqQyxNQUMvQzJCLE9BQU9PLGlCQUFpQixTQUFVbEMsS0FBSytCLGlFQUd2Q3ZCLElBQU0yQixRQUNOUixPQUFPUyxvQkFBb0IsU0FBVXBDLEtBQUsrQix1REFFL0I5QyxHQUNYLElBQU1ILEVBQVFHLEVBQUVvRCxPQUFPVCxXQUNqQjdDLEVBQVNFLEVBQUVvRCxPQUFPUixZQUN4QjdCLEtBQUtzQyxLQUFLQyxhQUFhUCxhQUFhbEQsRUFBT0MsR0FDM0NpQixLQUFLd0MsU0FBUyxDQUNaMUQsTUFBT0EsRUFDUEMsT0FBUUEscUNBSVYsT0FDRW9DLEVBQUFoQyxFQUFBaUMsY0FBQ21CLEVBQUQsQ0FDRWpCLElBQUksZUFDSmQsTUFBTyxDQUNMMUIsTUFBT2tCLEtBQUswQixNQUFNNUMsTUFDbEJDLE9BQVFpQixLQUFLMEIsTUFBTTNDLGlCQWhDU3dDLElBQU1DLDhCQ0o1Q2lCLEVBQUFDLFFBQUEsV0FBNEIsa0NBQWlDLG1CQUFtQix5Q0FBeUMsS0FBSUMsS0FBQSwwQkNBN0hGLEVBQUFDLFFBQUEsV0FBNEIsa0NBQWlDLHNCQUFzQiw0QkFBNEIsd0JBQXdCLHFFQUFxRSxJQUFJLDRCQUE0Qiw4Q0FBOEMsOENBQThDLDBCQUEwQiw0Q0FBNEMsNENBQTRDLDRDQUE0QyxrQ0FBa0MseUJBQXlCLHdFQUF3RSxJQUFJLGtDQUFrQyxtQkFBbUIsc0JBQXNCLDhCQUE4Qiw2RUFBNkUsNEJBQTRCLElBQUkseUJBQXlCLElBQUksa0NBQWtDLGtDQUFrQyw2QkFBNkIsbURBQW1ELElBQUksMEJBQTBCLGtCQUFrQixnQ0FBZ0MsbUJBQW1CLElBQUksMEJBQTBCLHFCQUFxQixzUEFBc1AsSUFBSSx1QkFBbUIsd0ZBQXdGLHlDQUE2QyxtQ0FBbUMsb0NBQW9DLHdCQUF3QixxQ0FBcUMsa0NBQWtDLHNDQUFrQyw2QkFBaUMsOERBQThELDBCQUEwQixzQkFBc0Isc0JBQXNCLDREQUE0RCwyQkFBMkIsNkJBQTZCLG1DQUFtQyxrQ0FBa0MsbUpBQW1KLDJDQUEyQyw0RkFBNEYscUJBQXFCLFlBQVksMEJBQTBCLDhCQUE4Qiw0QkFBNEIscUJBQXFCLFlBQVksWUFBUSxvQ0FBd0MsS0FBSUMsS0FBQSw0QkNBdGlGLElBQ0FDLEVBREFOLEVBQUEsRUFFQU8sRUFBY0MsRUFBUSxLQUV0QixpQkFBQUQsTUFBQSxFQUE0Q0osRUFBQXZELEVBQVMyRCxFQUFBLE1BQ3JEQSxFQUFBRSxTQUFBTCxFQUFBSyxPQUFBRixFQUFBRSxRQUVBTCxFQUFBWixJQUFBWSxFQUFBcEIsSUFBQSxXQUtBLE9BSkFnQixNQUNBTSxFQUFZRSxFQUFRLEdBQVJBLENBQTJERCxFQUFBLENBQVlHLEtBQUEsS0FHbkZOLEdBR0FBLEVBQUFQLE1BQUFPLEVBQUFPLE1BQUEsV0FDQVgsRUFBQSxNQUFBQSxJQUNBTSxJQUNBQSxFQUFBLDZCQ2xCQUgsRUFBQUMsUUFBMkJJLEVBQVEsR0FBUkEsRUFBdUQsSUFLbEZJLEtBQUEsQ0FBY1QsRUFBQXZELEVBQVMsNkZBQTJGIiwiZmlsZSI6IjExLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB2ZXJ0IGZyb20gXCIuL3ZlcnRleFNoYWRlci5nbHNsXCI7XG5pbXBvcnQgZnJhZyBmcm9tIFwiLi9mcmFnbWVudFNoYWRlci5nbHNsXCI7XG5jb25zdCB3ZWJHTFN0YXJ0ID0gKGNhbnZhcywgZ2wsIHZzLCBmcykgPT4ge1xuICBjb25zdCBjcmVhdGVfcHJvZ3JhbSA9ICh2cywgZnMpID0+IHtcbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2cyk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZzKTtcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBpZiAoZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuICBjb25zdCBjcmVhdGVfc2hhZGVyID0gKHRleHQsIHR5cGUpID0+IHtcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgdGV4dCk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIGlmIChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY3JlYXRlX3ZibyA9IGRhdGEgPT4ge1xuICAgIGNvbnN0IHZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2Ym8pO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgIHJldHVybiB2Ym87XG4gIH07XG4gIGNvbnN0IGNyZWF0ZV9pYm8gPSBkYXRhID0+IHtcbiAgICBjb25zdCBpYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpYm8pO1xuICAgIGdsLmJ1ZmZlckRhdGEoXG4gICAgICBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixcbiAgICAgIG5ldyBJbnQxNkFycmF5KGRhdGEpLFxuICAgICAgZ2wuU1RBVElDX0RSQVdcbiAgICApO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgIHJldHVybiBpYm87XG4gIH07XG4gIGNvbnN0IHNldF9hdHRyaWJ1dGUgPSAodmJvLCBhdHRMLCBhdHRTKSA9PiB7XG4gICAgdmJvLmZvckVhY2goKGUsIGksIGEpID0+IHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBlKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dExbaV0pO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRMW2ldLCBhdHRTW2ldLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBwcmcgPSBjcmVhdGVfcHJvZ3JhbShcbiAgICBjcmVhdGVfc2hhZGVyKHZzLCBnbC5WRVJURVhfU0hBREVSKSxcbiAgICBjcmVhdGVfc2hhZGVyKGZzLCBnbC5GUkFHTUVOVF9TSEFERVIpXG4gICk7XG4gIGNvbnN0IHVuaUxvY2F0aW9uID0gW107XG4gIHVuaUxvY2F0aW9uWzBdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJ0aW1lXCIpO1xuICB1bmlMb2NhdGlvblsxXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIFwicmVzb2x1dGlvblwiKTtcblxuICBjb25zdCBwb3NpdGlvbiA9IFtcbiAgICAtMS4wLFxuICAgIDEuMCxcbiAgICAwLjAsXG4gICAgMS4wLFxuICAgIDEuMCxcbiAgICAwLjAsXG4gICAgLTEuMCxcbiAgICAtMS4wLFxuICAgIDAuMCxcbiAgICAxLjAsXG4gICAgLTEuMCxcbiAgICAwLjBcbiAgXTtcbiAgY29uc3QgaW5kZXggPSBbMCwgMiwgMSwgMSwgMiwgM107XG4gIGNvbnN0IGF0dExvY2F0aW9uID0gW107XG4gIGNvbnN0IGF0dFN0cmlkZSA9IFtdO1xuXG4gIGNvbnN0IHZQb3NpdGlvbiA9IGNyZWF0ZV92Ym8ocG9zaXRpb24pO1xuICBhdHRMb2NhdGlvblswXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByZywgXCJwb3NpdGlvblwiKTtcbiAgYXR0U3RyaWRlWzBdID0gMztcblxuICBjb25zdCB2SW5kZXggPSBjcmVhdGVfaWJvKGluZGV4KTtcbiAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdkluZGV4KTtcblxuICBnbC5jbGVhckNvbG9yKDEuMCwgMC4wLCAwLjAsIDEuMCk7XG5cbiAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICBsZXQgdGltZSA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0VGltZSkgKiAwLjAwMTtcbiAgICB0aW1lID0gdGltZSAlIDM7XG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgZ2wudW5pZm9ybTFmKHVuaUxvY2F0aW9uWzBdLCB0aW1lKTtcbiAgICBnbC51bmlmb3JtMmZ2KHVuaUxvY2F0aW9uWzFdLCBbY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0XSk7XG4gICAgc2V0X2F0dHJpYnV0ZShbdlBvc2l0aW9uXSwgYXR0TG9jYXRpb24sIGF0dFN0cmlkZSk7XG4gICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgaW5kZXgubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgZ2wuZmx1c2goKTtcbiAgfTtcbiAgcmV0dXJuIHJlbmRlcjtcbn07XG5cbmNsYXNzIENyZWF0ZUNhbnZhcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMucmVxdWVzdElkID0gMDtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnVwZGF0ZUNhbnZhcygpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmVxdWVzdElkKTtcbiAgfVxuICB1cGRhdGVDYW52YXMoKSB7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLnByb3BzLnN0eWxlLndpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0O1xuICAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XG4gICAgY29uc3QgcmVuZGVyID0gd2ViR0xTdGFydCh0aGlzLmNhbnZhcywgdGhpcy5nbCwgdmVydCgpLCBmcmFnKCkpO1xuICAgIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgICByZW5kZXIoKTtcbiAgICAgIHRoaXMucmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIH1cbiAgICBsb29wKCk7XG4gIH1cbiAgaGFuZGxlUmVzaXplKHcsIGgpIHtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHc7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaDtcbiAgICB0aGlzLmdsLnZpZXdwb3J0KDAsIDAsIHcsIGgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGNhbnZhc1xuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgcmVmPXtlID0+IHtcbiAgICAgICAgICB0aGlzLmNhbnZhcyA9IGU7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IENyZWF0ZUNhbnZhcztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ3JlYXRlQ2FudmFzIGZyb20gJy4vY3JlYXRlQ2FudmFzLmpzeCc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZS5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW91bnRhaW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB9O1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHN0eWxlLnVzZSgpO1xuICAgIHRoaXMudGVtcEhhbmRsZVJlc2l6ZSA9IHRoaXMuaGFuZGxlUmVzaXplLmJpbmQodGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMudGVtcEhhbmRsZVJlc2l6ZSk7XG4gIH1cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgc3R5bGUudW51c2UoKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy50ZW1wSGFuZGxlUmVzaXplKTtcbiAgfVxuICBoYW5kbGVSZXNpemUoZSkge1xuICAgIGNvbnN0IHdpZHRoID0gZS50YXJnZXQuaW5uZXJXaWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBlLnRhcmdldC5pbm5lckhlaWdodDtcbiAgICB0aGlzLnJlZnMuY3JlYXRlQ2FudmFzLmhhbmRsZVJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Q3JlYXRlQ2FudmFzXG4gICAgICAgIHJlZj0nY3JlYXRlQ2FudmFzJ1xuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5oZWlnaHRcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpe3JldHVybihbJ2F0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOycsJ3ZvaWQgbWFpbih2b2lkKXsnLCcgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAxLjApOycsJ30nXS5qb2luKCdcXG4nKSl9IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpe3JldHVybihbJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsJ3VuaWZvcm0gZmxvYXQgdGltZTsnLCd1bmlmb3JtIHZlYzIgIHJlc29sdXRpb247JywnZmxvYXQgcmFuZG9tKHZlYzMgcCl7JywnICAgIHJldHVybiBmcmFjdChzaW4oZG90KHAueHl6LHZlYzMoMTIuOTg5OCwwLjAsNzguMjMzKSkpKjM2LjI1Myk7JywnfScsJ2Zsb2F0IHZhbHVlTm9pc2UodmVjMyBwKXsnLCcgICAgdmVjMyBpPXZlYzMoZmxvb3IocC54KSxwLnksZmxvb3IocC56KSk7JywnICAgIHZlYzMgZj12ZWMzKGZyYWN0KHAueCkscC55LGZyYWN0KHAueikpOycsJyAgICBmbG9hdCBmMT1yYW5kb20oaSk7JywnICAgIGZsb2F0IGYyPXJhbmRvbShpK3ZlYzMoMS4wLDAuMCwwLjApKTsnLCcgICAgZmxvYXQgZjM9cmFuZG9tKGkrdmVjMygwLjAsMC4wLDEuMCkpOycsJyAgICBmbG9hdCBmND1yYW5kb20oaSt2ZWMzKDEuMCwwLjAsMS4wKSk7JywnICAgIC8vIGY9c21vb3Roc3RlcCgwLjAsMS4wLGYpOycsJyAgICBmPWYqZiooMy4wLTIuMCpmKTsnLCcgICAgcmV0dXJuIChmMSooMS4wLWYueCkrZjIqZi54KSooMS4wLWYueikrKGYzKigxLjAtZi54KStmNCpmLngpKmYuejsnLCd9JywnZmxvYXQgb2N0YXZlVmFsdWVOb2lzZSh2ZWMzIHApeycsJ2Zsb2F0IHZhbHVlPTAuMDsnLCdmbG9hdCBtYXhWYWx1ZT0wLjA7JywnZm9yKGZsb2F0IGk9MC4wO2k8OS4wO2krKyl7JywnICAgIHZhbHVlKz1wb3coMC41LGkpKnZhbHVlTm9pc2UodmVjMyhwLngqcG93KDIuMCxpKSxwLnkscC56KnBvdygyLjAsaSkpKTsnLCcgICAgbWF4VmFsdWUrPXBvdygwLjUsaSk7JywnfScsJ3JldHVybiB2YWx1ZS9tYXhWYWx1ZTsnLCd9JywnZmxvYXQgbW91bnRhaW5EaXN0RnVuYyh2ZWMzIHApeycsJyAgICB2ZWMzIHBvcz12ZWMzKDAuMCwxLjAsMC4wKTsnLCcgICAgdmVjMyBuPW5vcm1hbGl6ZShwb3MpOycsJyAgICByZXR1cm4gZG90KHAsbikvNS4wK29jdGF2ZVZhbHVlTm9pc2UocCkvMy4wOycsJ30nLCdmbG9hdCBkaXN0RnVuYyh2ZWMzIHApeycsJyAgICBmbG9hdCBvYmoxOycsJyAgICBvYmoxPW1vdW50YWluRGlzdEZ1bmMocCk7JywnICAgIHJldHVybiBvYmoxOycsJ30nLCd2ZWMzIGdlbk5vcm1hbCh2ZWMzIHApeycsJyAgICBmbG9hdCBkPTAuMDAxOycsJyAgICByZXR1cm4gbm9ybWFsaXplKHZlYzMoJywnICAgICAgICBkaXN0RnVuYyhwK3ZlYzMoZCwwLjAsMC4wKSktZGlzdEZ1bmMocCt2ZWMzKC1kLDAuMCwwLjApKSwnLCcgICAgICAgIGRpc3RGdW5jKHArdmVjMygwLjAsZCwwLjApKS1kaXN0RnVuYyhwK3ZlYzMoMC4wLC1kLDAuMCkpLCcsJyAgICAgICAgZGlzdEZ1bmMocCt2ZWMzKDAuMCwwLjAsZCkpLWRpc3RGdW5jKHArdmVjMygwLjAsMC4wLC1kKSknLCcgICAgICAgICkpOycsJ30nLCd2b2lkIG1haW4odm9pZCl7ICAgICcsJyAgICB2ZWMyIHAgPSAoZ2xfRnJhZ0Nvb3JkLnh5KjIuMCAtIHJlc29sdXRpb24pIC8gbWluKHJlc29sdXRpb24ueCxyZXNvbHV0aW9uLnkpOyAgICAnLCcgICAgdmVjMyBsaWdodFBvcz12ZWMzKDMwLjAsMzAuMCwwLjApOycsJyAgICB2ZWMzIGFtYmllbnRDb2xvcj12ZWMzKDAuMSk7JywnICAgIHZlYzMgY1Bvcz12ZWMzKDAuMCwwLjAsMTAuMCk7JywnICAgIGNQb3Muej0tMy4wKnRpbWU7JywnICAgIHZlYzMgY0Rpcj12ZWMzKDAuMCwtMC41LC0xLjApOycsJyAgICB2ZWMzIGNVcD12ZWMzKDAuMCwxLjAsMC4wKTsnLCcgICAgdmVjMyBjU2lkZT1jcm9zcyhjRGlyLGNVcCk7ICAgICcsJyAgICBmbG9hdCB0YXJnZXREZXB0aD0xLjA7JywnICAgIHZlYzMgcmF5PW5vcm1hbGl6ZShjU2lkZSpwLngrY1VwKnAueStjRGlyKnRhcmdldERlcHRoKTsnLCcgICAgZmxvYXQgZGlzdGFuY2U9MC4wOycsJyAgICBmbG9hdCByTGVuPTAuMDsnLCcgICAgdmVjMyByUG9zPWNQb3M7JywnICAgIHZlYzMgY29sb3I9dmVjMygyNDIuMC8yNTUuMCwyNDIuMC8yNTUuMCwyMzIuMC8yNTUuMCk7JywnICAgIGZsb2F0IG1heERpc3Q9MTAwLjA7JywnICAgIGZvcihpbnQgaT0wO2k8NzA7aSsrKXsnLCcgICAgICAgIGRpc3RhbmNlPWRpc3RGdW5jKHJQb3MpOycsJyAgICAgICAgaWYoYWJzKGRpc3RhbmNlKTwwLjA5KXsnLCcgICAgICAgICAgICBjb2xvcj12ZWMzKG9jdGF2ZVZhbHVlTm9pc2UodmVjMyhyUG9zLngsMC4wLDAuMCkpLG9jdGF2ZVZhbHVlTm9pc2UodmVjMyhyUG9zLngsMC4wLHJQb3MueikpLG9jdGF2ZVZhbHVlTm9pc2UodmVjMygwLjAsMC4wLHJQb3MueikpKTsnLCcgICAgICAgICAgICB2ZWMzIG5vcm1hbD1nZW5Ob3JtYWwoclBvcyk7JywnICAgICAgICAgICAgY29sb3I9Y29sb3IqdmVjMyhjbGFtcChkb3QobGlnaHRQb3Msbm9ybWFsKSwwLjAsMS4wKSkrYW1iaWVudENvbG9yK3JMZW4vMzAuMDsnLCcgICAgICAgICAgICBicmVhazsnLCcgICAgICAgIH0nLCcgICAgICAgIHJMZW4rPWRpc3RhbmNlOycsJyAgICAgICAgclBvcz1jUG9zK3JheSpyTGVuOycsJyAgICAgICAgaWYockxlbj5tYXhEaXN0KXsnLCcgICAgICAgICAgICBicmVhazsnLCcgICAgICAgIH0nLCcgICAgfSAgICAnLCcgICAgZ2xfRnJhZ0NvbG9yPXZlYzQoY29sb3IsMS4wKTsnLCd9J10uam9pbignXFxuJykpfSIsInZhciByZWZzID0gMDtcbnZhciBkaXNwb3NlO1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIGV4cG9ydHMubG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbmV4cG9ydHMudXNlID0gZXhwb3J0cy5yZWYgPSBmdW5jdGlvbigpIHtcblx0aWYoIShyZWZzKyspKSB7XG5cdFx0ZGlzcG9zZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHtcImhtclwiOnRydWV9KTtcblx0fVxuXG5cdHJldHVybiBleHBvcnRzO1xufTtcblxuZXhwb3J0cy51bnVzZSA9IGV4cG9ydHMudW5yZWYgPSBmdW5jdGlvbigpIHtcbiAgaWYocmVmcyA+IDAgJiYgISgtLXJlZnMpKSB7XG5cdCAgIGRpc3Bvc2UoKTtcblx0XHQgZGlzcG9zZSA9IG51bGw7XG4gIH1cbn07XG5pZihtb2R1bGUuaG90KSB7XG5cdHZhciBsYXN0UmVmcyA9IG1vZHVsZS5ob3QuZGF0YSAmJiBtb2R1bGUuaG90LmRhdGEucmVmcyB8fCAwO1xuXG5cdGlmKGxhc3RSZWZzKSB7XG5cdFx0ZXhwb3J0cy5yZWYoKTtcblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdHJlZnMgPSBsYXN0UmVmcztcblx0XHR9XG5cdH1cblxuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdCgpO1xuXHR9XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRkYXRhLnJlZnMgPSBjb250ZW50LmxvY2FscyA/IDAgOiByZWZzO1xuXG5cdFx0aWYoZGlzcG9zZSkge1xuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBvdmVyZmxvdzogaGlkZGVuOyB9XFxuXFxuI3Jvb3Qge1xcbiAgZm9udC1zaXplOiAwOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIl0sInNvdXJjZVJvb3QiOiIifQ==