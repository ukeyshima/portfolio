(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1002:function(e,t){e.exports="precision mediump float;\nuniform float time;\nuniform vec2 resolution;\n\nfloat r1(vec2 p){\n    return fract(sin(dot(p,vec2(12.9,78.2)))*36.2);\n}\nfloat r2(vec2 p){\n    return fract(sin(dot(p,vec2(31.7,91.3)))*63.12);\n}\nfloat n(float x,float y){\n    vec2 p=vec2(x,y);\n    vec2 i=floor(p);\n    vec2 j=fract(p);\n    vec2 a=vec2(r1(i),r2(i));\n    vec2 b=vec2(r1(i+vec2(1.0,0.0)),r2(i+vec2(1.0,0.0)));\n    vec2 c=vec2(r1(i+vec2(0.0,1.0)),r2(i+vec2(0.0,1.0)));\n    vec2 d=vec2(r1(i+vec2(1.0,1.0)),r2(i+vec2(1.0,1.0)));\n    vec2 e=p-i;\n    vec2 f=p-(i+vec2(1.0,0.0));\n    vec2 g=p-(i+vec2(0.0,1.0));\n    vec2 h=p-(i+vec2(1.0,1.0));\n    j=j*j*(3.0-2.0*j);\n    return ((dot(a,e)*(1.0-j.x)+dot(b,f)*j.x)*(1.0-j.y)+(dot(c,g)*(1.0-j.x)+dot(d,h)*j.x)*j.y)*0.5+0.5;\n}\nfloat t(float x,float z){\n    float v=0.0;\n    float m=0.0;                                   \n    for(float i=0.0;i<5.0;i++){\n        v+=pow(0.5,i)*n(pow(2.0,i)*x,pow(2.0,i)*z);\n        m+=pow(0.5,i);\n    }\n    return v/m;\n}\n\nfloat m(vec3 p){\n    vec3 pos=vec3(0.0,1.0,0.0);\n    vec3 n=normalize(pos);\n    return dot(p,n)/5.0+t(p.x,p.z)*1.3;\n}\n\nfloat d(vec3 p){\n    float obj1;\n    obj1=m(p);\n    return obj1;\n}\n\nvec3 genNormal(vec3 p){\n    float delta=0.01;\n    return normalize(vec3(\n        d(p+vec3(delta,0.0,0.0))-d(p+vec3(-delta,0.0,0.0)),\n        d(p+vec3(0.0,delta,0.0))-d(p+vec3(0.0,-delta,0.0)),\n        d(p+vec3(0.0,0.0,delta))-d(p+vec3(0.0,0.0,-delta))\n        ));\n}\n\nvoid main(void){\n    vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n    vec3 lightPos=vec3(30.0,30.0,0.0);\n    vec3 ambientColor=vec3(0.1);\n    vec3 cPos=vec3(0.0,-2.0,10.0);\n    cPos.z=-3.0*time;    \n    vec3 cDir=vec3(0.0,-0.5,-1.0);\n    vec3 cUp=vec3(0.0,1.0,0.0);\n    vec3 cSide=cross(cDir,cUp);\n    float targetDepth=1.0;\n    vec3 y=normalize(cSide*p.x+cUp*p.y+cDir*targetDepth);\n    vec3 z=cPos;\n    vec3 color=vec3(242.0/255.0,242.0/255.0,232.0/255.0);\n    float maxDist=10.0;\n    for(int i=0;i<50;i++){\n        z+=d(z)*y;\n        if(abs(d(z))<0.1){\n            color=vec3(t(z.x,0.0),t(z.x,z.z),t(0.0,z.z));\n            vec3 normal=genNormal(z);\n            color=color*vec3(clamp(dot(lightPos,normal),0.0,1.0))+ambientColor;\n            break;\n        }\n    }\n    \n    gl_FragColor=vec4(color,1.0);\n}"},1003:function(e,t){e.exports="attribute vec3 position;\nvoid main(void){\n    gl_Position = vec4(position, 1.0);\n}"},1004:function(e,t){e.exports='const create_program = (vs, fs) => {\n  const program = gl.createProgram();\n  gl.attachShader(program, vs);\n  gl.attachShader(program, fs);\n  gl.linkProgram(program);\n  if (gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    gl.useProgram(program);\n    return program;\n  } else {\n    return null;\n  }\n};\nconst create_shader = (text, type) => {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, text);\n  gl.compileShader(shader);\n  if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    return shader;\n  } else { \n    console.log(gl.getShaderInfoLog(shader));\n  }\n};\nconst create_vbo = data => {\n  const vbo = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  return vbo;\n};\nconst create_ibo = data => {\n  const ibo = gl.createBuffer();\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\n  gl.bufferData(\n    gl.ELEMENT_ARRAY_BUFFER,\n    new Int16Array(data),\n    gl.STATIC_DRAW\n  );\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n  return ibo;\n};\nconst set_attribute = (vbo, attL, attS) => {\n  vbo.forEach((e, i, a) => {\n    gl.bindBuffer(gl.ARRAY_BUFFER, e);\n    gl.enableVertexAttribArray(attL[i]);\n    gl.vertexAttribPointer(attL[i], attS[i], gl.FLOAT, false, 0, 0);\n  });\n};\n\nconst canvas = document.getElementById("canvas");\ncanvas.width = canvas.clientWidth;\ncanvas.height = canvas.clientHeight;\n\nconst gl = canvas.getContext("webgl");\n   \nconst fs = document.getElementById("fs").text;\nconst vs = document.getElementById("vs").text;\n\nconst prg = create_program(\n  create_shader(vs, gl.VERTEX_SHADER),\n  create_shader(fs, gl.FRAGMENT_SHADER)\n);\nconst uniLocation = [];\nuniLocation[0] = gl.getUniformLocation(prg, "time");\nuniLocation[1] = gl.getUniformLocation(prg, "resolution");\n\nconst position = [\n  -1.0,1.0,0.0,\n  1.0,1.0,0.0,\n  -1.0,-1.0,0.0,\n  1.0,-1.0,0.0\n];\n\nconst index = [0, 2, 1, 1, 2, 3];\nconst attLocation = [];\nconst attStride = [];\n\nconst vPosition = create_vbo(position);\nattLocation[0] = gl.getAttribLocation(prg, "position");\nattStride[0] = 3;\n\nconst vIndex = create_ibo(index);\ngl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, vIndex);\n\ngl.clearColor(1.0, 0.0, 0.0, 1.0);\n\nconst startTime = new Date().getTime();\nconst render = () => {\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.viewport(0,0,canvas.width,canvas.height);     \n    gl.uniform1f(uniLocation[0], (new Date().getTime() - startTime) * 0.001);\n    gl.uniform2fv(uniLocation[1], [canvas.width, canvas.height]);  \n    set_attribute([vPosition], attLocation, attStride);\n    gl.drawElements(gl.TRIANGLES, index.length, gl.UNSIGNED_SHORT, 0);\n    gl.flush();\n    requestAnimationFrame(render);\n  };\nrender();'},1005:function(e,t){e.exports="body{\n    overflow:hidden;\n    margin:0;\n    padding:0;\n}\ncanvas{\n    width:100vw;\n    height:100vh;\n}"},1006:function(e,t){e.exports='<html>\n    <head>\n    <link rel="stylesheet" href="main.css">\n\t<script id="fs" type="fragmentShader.glsl"><\/script>\n\t<script id="vs" type="vertexShader.glsl"><\/script>    \n    </head>\n    <body>\n        <canvas id="canvas"></canvas>        \n        <script src="main.js"><\/script>\n</body>\n</html>'},1007:function(e){e.exports={}},1008:function(e,t){e.exports="const canvas=document.getElementById('canvas');\ncanvas.width=canvas.clientWidth;\ncanvas.height=canvas.clientHeight;\nconst context=canvas.getContext('2d');\nconst w=canvas.width;\nconst h=canvas.height;\n\ncontext.fillStyle='#000';\ncontext.fillRect(0,0,canvas.width,canvas.height);\n\nconst d=(a,b)=>{\n    return a[0]*b[0]+a[1]*b[1];\n}\nconst f=(n)=>{\n    return n-Math.floor(n);\n}\nconst r=[];\nr[0] = (x,y)=>{\n    return f(Math.sin(d([x,y],[12.9,78.2]))*437.5)*2.0-1.0;\n}\nr[1] = (x,y)=>{\n    return f(Math.sin(d([x,y],[47.3,23.6]))*892.1)*2.0-1.0;\n}\nconst t=(x,y,r)=>{\n    return [x,y].map((e,i)=>e+r[i]);\n}\nconst p = (x,y)=>{\n    const a=[x,y].map(i=>Math.floor(i));\n    let b=[x,y].map(i=>f(i));\n    const i=[];\n    i[0]=a;\n    i[1]=t(a[0],a[1],[1,0]);\n    i[2]=t(a[0],a[1],[0,1]);\n    i[3]=t(a[0],a[1],[1,1]);\n    const l=[];\n    l[0]=t(x,y,i[0].map(e=>-e));\n    l[1]=t(x,y,i[1].map(e=>-e));\n    l[2]=t(x,y,i[2].map(e=>-e));\n    l[3]=t(x,y,i[3].map(e=>-e));\n    const v=[];\n    v[0]=[r[0](i[0][0],i[0][1]),r[1](i[0][0],i[0][1])];\n    v[1]=[r[0](i[1][0],i[1][1]),r[1](i[1][0],i[1][1])];\n    v[2]=[r[0](i[2][0],i[2][1]),r[1](i[2][0],i[2][1])];\n    v[3]=[r[0](i[3][0],i[3][1]),r[1](i[3][0],i[3][1])];\n    b=b.map(e=>e*e*(3-2*e));\n    return ((d([v[0][0],v[0][1]],[l[0][0],l[0][1]])*(1-b[0])+d([v[1][0],v[1][1]],[l[1][0],l[1][1]])*b[0])*(1-b[1])+(d([v[2][0],v[2][1]],[l[2][0],l[2][1]])*(1-b[0])+d([v[3][0],v[3][1]],[l[3][0],l[3][1]])*b[0])*b[1])*0.5+0.5;\n}\nconst o =(x,y) =>{\n    let v=0;\n    let m=0;\n    for(let i=0;i<5;i++){\n        v+=Math.pow(0.5,i)*p(x*Math.pow(2,i),y*Math.pow(2,i));\n        m+=Math.pow(0.5,i);\n    }\n    return v/m;\n}\n\nfor(let x=0;x<w;x++){\n    for(let y=0;y<h;y++){\n        const norX=(2*x-w)/w;\n        const norY=(2*y-h)/h;\n        const brightness=Math.floor(p(norX,norY)*255);\n        context.fillStyle=`rgb(${brightness},${brightness},${brightness})`;\n        context.fillRect(x,y,1,1);\n    }\n}"},1009:function(e,t){e.exports="body{\n    overflow:hidden;\n    margin:0;\n    padding:0;\n}\ncanvas{\n    width:100vw;\n    height:100vh;\n}"},1010:function(e,t){e.exports='<html>\n    <head>\n    <link rel="stylesheet" href="main.css">\n    </head>\n    <body>\n        <canvas id="canvas"></canvas>\n\t    <script src="main.js"><\/script>  \n    </body>\n</html>'},1011:function(e,t){e.exports="precision mediump float;\nuniform mat4 invMatrix;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvoid main(void){\n    vec3 color=vec3(1.0,0.0,1.0);    \n    vec3 ambientColor=vec3(0.1);\n    vec3 lightPosition=vec3(0.0,10.0,-70.0);\n    vec3 eyeDirection=vec3(0.0,2.0,1.0);\n    vec3  lightVec  = lightPosition - vPosition;\n    vec3  invLight  = normalize(invMatrix * vec4(lightVec, 0.0)).xyz;\n    vec3  invEye    = normalize(invMatrix * vec4(eyeDirection, 0.0)).xyz;\n    vec3  halfLE    = normalize(invLight + invEye);\n    float diffuse   = clamp(dot(vNormal, invLight), 0.1, 1.0) + 0.1;\n    float specular  = pow(clamp(dot(vNormal, halfLE), 0.1, 1.0), 30.0);\n    color = color * vec3(diffuse) + vec3(specular) + ambientColor;\n    gl_FragColor=vec4(color,1.0);\n}"},1012:function(e,t){e.exports="attribute vec3 position;\nattribute vec3 normal;                  \nuniform vec2 resolution;\nuniform float time;\nuniform mat4 mMatrix;\nuniform mat4 mvpMatrix;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\n#define PI 3.141592    \n\nvoid main(void){     \n  vPosition   = (mMatrix * vec4(position, 1.0)).xyz;\n  vNormal=normal;        \n  gl_Position=mvpMatrix * vec4(position, 1.0); \n}"},1013:function(e,t){e.exports="    const create_program = (vs, fs) => {\n    const program = gl.createProgram();\n    gl.attachShader(program, vs);\n    gl.attachShader(program, fs);\n    gl.linkProgram(program);\n    if (gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      gl.useProgram(program);\n      return program;\n    } else {\n      return null;\n    }\n  };\n  const create_shader = (text, type) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, text);\n    gl.compileShader(shader);\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      return shader;\n    } else { \n      console.log(gl.getShaderInfoLog(shader));\n    }\n  };\n  const create_vbo = data => {\n    const vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    return vbo;\n  };\n  const create_ibo = data => {\n    const ibo = gl.createBuffer();\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\n    gl.bufferData(\n      gl.ELEMENT_ARRAY_BUFFER,\n      new Int16Array(data),\n      gl.STATIC_DRAW\n    );\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    return ibo;\n  };\n  const set_attribute = (vbo, attL, attS) => {\n    vbo.forEach((e, i) => {\n      gl.bindBuffer(gl.ARRAY_BUFFER, e);\n      gl.enableVertexAttribArray(attL[i]);\n      gl.vertexAttribPointer(attL[i], attS[i], gl.FLOAT, false, 0, 0);\n    });\n  };\n  const torus = (row, column, irad, orad) => {\n    const pos = new Array(),\n      nor = new Array(),\n      idx = new Array();\n    for (let i = 0; i <= row; i++) {\n      const r = ((Math.PI * 2) / row) * i;\n      const rr = Math.cos(r);\n      const ry = Math.sin(r);\n      for (let ii = 0; ii <= column; ii++) {\n        const tr = ((Math.PI * 2) / column) * ii;\n        const tx = (rr * irad + orad) * Math.cos(tr);\n        const ty = ry * irad;\n        const tz = (rr * irad + orad) * Math.sin(tr);\n        const rx = rr * Math.cos(tr);\n        const rz = rr * Math.sin(tr);\n        pos.push(tx, ty, tz);\n        nor.push(rx, ry, rz);\n      }\n    }\n    for (let i = 0; i < row; i++) {\n      for (let ii = 0; ii < column; ii++) {\n        const r = (column + 1) * i + ii;\n        idx.push(r, r + column + 1, r + 1);\n        idx.push(r + column + 1, r + column + 2, r + 1);\n      }\n    }\n    return { p: pos, n: nor, i: idx };\n  };\n  const inverse = mat => {\n    const dest = [];\n    const a = mat[0],\n      b = mat[1],\n      c = mat[2],\n      d = mat[3],\n      e = mat[4],\n      f = mat[5],\n      g = mat[6],\n      h = mat[7],\n      i = mat[8],\n      j = mat[9],\n      k = mat[10],\n      l = mat[11],\n      m = mat[12],\n      n = mat[13],\n      o = mat[14],\n      p = mat[15],\n      q = a * f - b * e,\n      r = a * g - c * e,\n      s = a * h - d * e,\n      t = b * g - c * f,\n      u = b * h - d * f,\n      v = c * h - d * g,\n      w = i * n - j * m,\n      x = i * o - k * m,\n      y = i * p - l * m,\n      z = j * o - k * n,\n      A = j * p - l * n,\n      B = k * p - l * o,\n      ivd = 1 / (q * B - r * A + s * z + t * y - u * x + v * w);\n    dest[0] = (f * B - g * A + h * z) * ivd;\n    dest[1] = (-b * B + c * A - d * z) * ivd;\n    dest[2] = (n * v - o * u + p * t) * ivd;\n    dest[3] = (-j * v + k * u - l * t) * ivd;\n    dest[4] = (-e * B + g * y - h * x) * ivd;\n    dest[5] = (a * B - c * y + d * x) * ivd;\n    dest[6] = (-m * v + o * s - p * r) * ivd;\n    dest[7] = (i * v - k * s + l * r) * ivd;\n    dest[8] = (e * A - f * y + h * w) * ivd;\n    dest[9] = (-a * A + b * y - d * w) * ivd;\n    dest[10] = (m * u - n * s + p * q) * ivd;\n    dest[11] = (-i * u + j * s - l * q) * ivd;\n    dest[12] = (-e * z + f * x - g * w) * ivd;\n    dest[13] = (a * z - b * x + c * w) * ivd;\n    dest[14] = (-m * t + n * r - o * q) * ivd;\n    dest[15] = (i * t - j * r + k * q) * ivd;\n    return dest;\n  };\n\n  const matrix44MultiPly = (mat1, mat2) => {\n    return [\n      mat1[0] * mat2[0] + mat1[1] * mat2[4] + mat1[2] * mat2[8] + mat1[3] * mat2[12],\n      mat1[0] * mat2[1] + mat1[1] * mat2[5] + mat1[2] * mat2[9] + mat1[3] * mat2[13],\n      mat1[0] * mat2[2] + mat1[1] * mat2[6] + mat1[2] * mat2[10] + mat1[3] * mat2[14],\n      mat1[0] * mat2[3] + mat1[1] * mat2[7] + mat1[2] * mat2[11] + mat1[3] * mat2[15],\n      mat1[4] * mat2[0] + mat1[5] * mat2[4] + mat1[6] * mat2[8] + mat1[7] * mat2[12],\n      mat1[4] * mat2[1] + mat1[5] * mat2[5] + mat1[6] * mat2[9] + mat1[7] * mat2[13],\n      mat1[4] * mat2[2] + mat1[5] * mat2[6] + mat1[6] * mat2[10] + mat1[7] * mat2[14],\n      mat1[4] * mat2[3] + mat1[5] * mat2[7] + mat1[6] * mat2[11] + mat1[7] * mat2[15],\n      mat1[8] * mat2[0] + mat1[9] * mat2[4] + mat1[10] * mat2[8] + mat1[11] * mat2[12],\n      mat1[8] * mat2[1] + mat1[9] * mat2[5] + mat1[10] * mat2[9] + mat1[11] * mat2[13],\n      mat1[8] * mat2[2] + mat1[9] * mat2[6] + mat1[10] * mat2[10] + mat1[11] * mat2[14],\n      mat1[8] * mat2[3] + mat1[9] * mat2[7] + mat1[10] * mat2[11] + mat1[11] * mat2[15],\n      mat1[12] * mat2[0] + mat1[13] * mat2[4] + mat1[14] * mat2[8] + mat1[15] * mat2[12],\n      mat1[12] * mat2[1] + mat1[13] * mat2[5] + mat1[14] * mat2[9] + mat1[15] * mat2[13],\n      mat1[12] * mat2[2] + mat1[13] * mat2[6] + mat1[14] * mat2[10] + mat1[15] * mat2[14],\n      mat1[12] * mat2[3] + mat1[13] * mat2[7] + mat1[14] * mat2[11] + mat1[15] * mat2[15]\n    ];\n  };\n  const canvas=document.getElementById(\"canvas\");\n  canvas.width=canvas.clientWidth;\n  canvas.height=canvas.clientHeight;\n  const gl=canvas.getContext(\"webgl\");\n\n  const vs=document.getElementById(\"vs\").text;\n  const fs=document.getElementById(\"fs\").text;\n\n  const prg = create_program(\n    create_shader(vs, gl.VERTEX_SHADER),\n    create_shader(fs, gl.FRAGMENT_SHADER)\n  );\n  const uniLocation = [];\n  uniLocation[0] = gl.getUniformLocation(prg, 'time');\n  uniLocation[1] = gl.getUniformLocation(prg, 'resolution');\n  uniLocation[2] = gl.getUniformLocation(prg, 'mMatrix');\n  uniLocation[3] = gl.getUniformLocation(prg, 'mvpMatrix');\n  uniLocation[4] = gl.getUniformLocation(prg, 'invMatrix');\n\n  const model = torus(50, 50, 0.1, 0.2);\n  const position = model.p;\n  const normal = model.n;\n  const index = model.i;\n  const attLocation = [];\n  const attStride = [];\n\n  const vPosition = create_vbo(position);\n  attLocation[0] = gl.getAttribLocation(prg, 'position');\n  attStride[0] = 3;\n\n  const vNormal = create_vbo(normal);\n  attLocation[1] = gl.getAttribLocation(prg, 'normal');\n  attStride[1] = 3;\n\n  const vIndex = create_ibo(index);\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, vIndex);\n\n  gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n  gl.enable(gl.DEPTH_TEST);\n  gl.depthFunc(gl.LEQUAL);\n  const startTime = new Date().getTime();\n  const render = () => {\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    const t = (new Date().getTime() - startTime) * 0.001;\n    let mMatrix = [\n      1, 0, 0, 0, \n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n      ];\n    const rotateXMatrix = [\n      1, 0, 0, 0,\n      0, Math.cos(t), Math.sin(t), 0,\n      0, -Math.sin(t), Math.cos(t), 0,\n      0, 0, 0, 1\n    ];\n    const rotateYMatrix = [\n      Math.cos(t), 0, -Math.sin(t), 0,\n      0, 1, 0, 0,\n      Math.sin(t), 0, Math.cos(t), 0,\n      0, 0, 0, 1\n    ];\n    mMatrix = matrix44MultiPly(mMatrix, rotateXMatrix);\n    mMatrix = matrix44MultiPly(mMatrix, rotateYMatrix);\n    const iMatrix = inverse(mMatrix);\n    gl.uniform1f(uniLocation[0], t);\n    gl.uniform2fv(uniLocation[1], [canvas.width, canvas.height]);\n    gl.uniformMatrix4fv(uniLocation[2], false, mMatrix);\n    gl.uniformMatrix4fv(uniLocation[3], false, mMatrix);\n    gl.uniformMatrix4fv(uniLocation[4], false, iMatrix);\n    set_attribute([vPosition, vNormal], attLocation, attStride);\n    gl.drawElements(gl.TRIANGLES, index.length, gl.UNSIGNED_SHORT, 0);\n    gl.flush();\n    requestAnimationFrame(render);\n  };\n  render();"},1014:function(e,t){e.exports="body{\n    overflow:hidden;\n    margin:0;\n    padding:0;\n}\ncanvas{\n    width:100vw;\n    height:100vh;\n}"},1015:function(e,t){e.exports='<html>\n    <head>\n    <link rel="stylesheet" href="main.css">\n\t<script id="fs" type="fragmentShader.glsl"><\/script>\n\t<script id="vs" type="vertexShader.glsl"><\/script>    \n    </head>\n    <body>\n        <canvas id="canvas"></canvas>        \n        <script src="main.js"><\/script>\n</body>\n</html>'},1016:function(e,t){e.exports="precision mediump float;\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D tex;\nvarying vec2 vTextureCoord;\n#define PI 3.141592\n\nfloat r1(vec3 p){    \n    return fract(sin(dot(p,vec3(127.1,311.7,231.4)))*437.53)*2.0-1.0;\n}\nfloat r2(vec3 p){    \n    return fract(sin(dot(p,vec3(491.4,134.1,712.4)))*831.23)*2.0-1.0;\n}\nfloat r3(vec3 p){    \n    return fract(sin(dot(p,vec3(323.3,941.3,531.2)))*612.31)*2.0-1.0;\n}\nfloat n(float x,float y,float z){\n    vec3 p=vec3(x,y,z);\n    vec3 i=floor(p);\n    vec3 j=fract(p);\n    vec3 f1=vec3(r1(i),r2(i),r3(i));\n    vec3 f2=vec3(r1(i+vec3(1.0,0.0,0.0)),r2(i+vec3(1.0,0.0,0.0)),r3(i+vec3(1.0,0.0,0.0)));\n    vec3 f3=vec3(r1(i+vec3(0.0,1.0,0.0)),r2(i+vec3(0.0,1.0,0.0)),r3(i+vec3(0.0,1.0,0.0)));\n    vec3 f4=vec3(r1(i+vec3(1.0,1.0,0.0)),r2(i+vec3(1.0,1.0,0.0)),r3(i+vec3(1.0,1.0,0.0)));\n    vec3 f5=vec3(r1(i+vec3(0.0,0.0,1.0)),r2(i+vec3(0.0,0.0,1.0)),r3(i+vec3(0.0,0.0,1.0)));\n    vec3 f6=vec3(r1(i+vec3(1.0,0.0,1.0)),r2(i+vec3(1.0,0.0,1.0)),r3(i+vec3(1.0,0.0,1.0)));\n    vec3 f7=vec3(r1(i+vec3(0.0,1.0,1.0)),r2(i+vec3(0.0,1.0,1.0)),r3(i+vec3(0.0,1.0,1.0)));\n    vec3 f8=vec3(r1(i+vec3(1.0,1.0,1.0)),r2(i+vec3(1.0,1.0,1.0)),r3(i+vec3(1.0,1.0,1.0)));\n    vec3 k1=p-i;\n    vec3 k2=p-(i+vec3(1.0,0.0,0.0));\n    vec3 k3=p-(i+vec3(0.0,1.0,0.0));\n    vec3 k4=p-(i+vec3(1.0,1.0,0.0));\n    vec3 k5=p-(i+vec3(0.0,0.0,1.0));\n    vec3 k6=p-(i+vec3(1.0,0.0,1.0));\n    vec3 k7=p-(i+vec3(0.0,1.0,1.0));\n    vec3 k8=p-(i+vec3(1.0,1.0,1.0));\n    j=j*j*(3.0-2.0*j);\n    return (((dot(f1,k1)*(1.0-j.x)+dot(f2,k2)*j.x)*(1.0-j.y)+(dot(f3,k3)*(1.0-j.x)+dot(f4,k4)*j.x)*j.y)*(1.0-j.z)+((dot(f5,k5)*(1.0-j.x)+dot(f6,k6)*j.x)*(1.0-j.y)+(dot(f7,k7)*(1.0-j.x)+dot(f8,k8)*j.x)*j.y)*j.z)*0.5+0.5;    \n}\n\nfloat o(float x,float y,float z){\n    float value=0.0;\n    float maxValue=0.0;\n    for(float i=0.0;i<4.0;i++){\n        value+=pow(0.5,i)*n(x*pow(2.0,i),y*pow(2.0,i),z);\n        maxValue+=pow(0.5,i);\n    }\n    return value/maxValue;\n}\n\nvoid main(void){\n    vec2 p = (gl_FragCoord.xy * 2.0-resolution) / min(resolution.x, resolution.y);  \n    p*=100.0;\n    vec2 uv = vTextureCoord;\n    vec3 nScale=vec3(3.0,5.0,time*0.3);\n    float nx=uv.x*nScale.x;\n    float ny=uv.y+nScale.y;\n    float nz=nScale.z;\n    float n = o(nx,ny,nz);\n    uv.y+=0.6*n-0.3;\n    float rdiff=0.003*sin(time);\n    float gdiff=-0.004*cos(time/3.0);\n    float bdiff=-0.002*sin(time*2.0);\n    vec3 color;\n    color.r=texture2D(tex,uv+vec2(rdiff,0.001*sin(time/2.0))).r;\n    color.g=texture2D(tex,uv+vec2(gdiff,-0.003*cos(time))).g;\n    color.b=texture2D(tex,uv+vec2(bdiff,0.002*sin(time*3.0))).b;        \n    gl_FragColor = vec4(color,1.0);    \n}"},1017:function(e,t){e.exports="attribute vec3 position;\nattribute vec2 textureCoord;\nvarying vec2 vTextureCoord;\nvoid main(void){\n    vTextureCoord = textureCoord;\n    gl_Position = vec4(position, 1.0);\n}"},1018:function(e,t){e.exports="const webGLStart =() => {\n  const create_program = (vs, fs) => {\n    const program = gl.createProgram();\n    gl.attachShader(program, vs);\n    gl.attachShader(program, fs);\n    gl.linkProgram(program);\n    if (gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      gl.useProgram(program);\n      return program;\n    } else {\n      return null;\n    }\n  };\n  const create_shader = (text, type) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, text);\n    gl.compileShader(shader);\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      return shader;\n    } else { \n      console.log(gl.getShaderInfoLog(shader));\n    }\n  };\n  const create_vbo = data => {\n    const vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    return vbo;\n  };\n  const create_ibo = data => {\n    const ibo = gl.createBuffer();\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\n    gl.bufferData(\n      gl.ELEMENT_ARRAY_BUFFER,\n      new Int16Array(data),\n      gl.STATIC_DRAW\n    );\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    return ibo;\n  };\n  const set_attribute = (vbo, attL, attS) => {\n    vbo.forEach((e, i, a) => {\n      gl.bindBuffer(gl.ARRAY_BUFFER, e);\n      gl.enableVertexAttribArray(attL[i]);\n      gl.vertexAttribPointer(attL[i], attS[i], gl.FLOAT, false, 0, 0);\n    });\n  };\n\n  const create_texture = () => {\n    const c = document.createElement('canvas');\n    c.width = Math.pow(2, 10);\n    c.height = Math.pow(2, 10);\n    c.style.width = c.width;\n    c.style.width = c.height;\n    const ctx = c.getContext('2d');\n    ctx.fillStyle = '#000';\n    ctx.fillRect(0, 0, c.width, c.height);\n    ctx.fillStyle = '#fff';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.font = 'italic bold 150px sans-serif';\n    ctx.fillText('WISS2018', c.width / 2, c.height / 2);\n    let img = new Image();\n    img.src = c.toDataURL('image/png', 1.0);\n    return new Promise(resolve => {\n      img.onload = () => resolve(img);\n    })\n      .then(img => {\n        const tex = gl.createTexture();\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          0,\n          gl.RGBA,\n          gl.RGBA,\n          gl.UNSIGNED_BYTE,\n          img\n        );\n        gl.generateMipmap(gl.TEXTURE_2D);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        return tex;\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const canvas = document.getElementById('canvas');\n  canvas.width = canvas.clientWidth;\n  canvas.height = canvas.clientHeight;\n  const gl = canvas.getContext('webgl');\n\n  const vs = document.getElementById('vs').text;\n  const fs = document.getElementById('fs').text;\n\n  const prg = create_program(\n    create_shader(vs, gl.VERTEX_SHADER),\n    create_shader(fs, gl.FRAGMENT_SHADER)\n  );\n  const uniLocation = [];\n  uniLocation[0] = gl.getUniformLocation(prg, 'time');\n  uniLocation[1] = gl.getUniformLocation(prg, 'resolution');\n  uniLocation[2] = gl.getUniformLocation(prg, 'tex');\n\n  const position = [\n    -1.0,\n    1.0,\n    0.0,\n    1.0,\n    1.0,\n    0.0,\n    -1.0,\n    -1.0,\n    0.0,\n    1.0,\n    -1.0,\n    0.0\n  ];\n\n  const textureCoord = [0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0];\n  const vPosition = create_vbo(position);\n  const vTextureCoord = create_vbo(textureCoord);\n  const attLocation = new Array();\n  attLocation[0] = gl.getAttribLocation(prg, 'position');\n  attLocation[1] = gl.getAttribLocation(prg, 'textureCoord');\n  const attStride = new Array();\n  attStride[0] = 3;\n  attStride[1] = 2;\n  set_attribute([vPosition, vTextureCoord], attLocation, attStride);\n  const index = [0, 2, 1, 1, 2, 3];\n  const vIndex = create_ibo(index);\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, vIndex);\n  gl.activeTexture(gl.TEXTURE0);\n  create_texture().then(\n      texture=>{\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        const startTime = new Date().getTime();\n        const render = () => {\n            gl.clear(gl.COLOR_BUFFER_BIT);\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.uniform1f(uniLocation[0], (new Date().getTime() - startTime) * 0.001);\n            gl.uniform2fv(uniLocation[1], [canvas.width, canvas.height]);\n            gl.uniform1i(uniLocation[2], 0);\n            gl.drawElements(gl.TRIANGLES, index.length, gl.UNSIGNED_SHORT, 0);\n            gl.flush();\n            requestAnimationFrame(render);\n        };\n        render();        \n      }\n      );\n};\nwebGLStart();\n"},1019:function(e,t){e.exports="body{\n    overflow:hidden;\n    margin:0;\n    padding:0;\n}\ncanvas{\n    width:100%;\n    height:100%;\n}"},1020:function(e,t){e.exports='<!DOCTYPE html>\n<html>\n    <head>\n        <script id="vs" type="vertexShader.glsl"><\/script>\n        <script id="fs" type="fragmentShader.glsl"><\/script>\n        <link rel="stylesheet" href="main.css">\n    </head>\n    <body>\n        <canvas id="canvas"></canvas>\n        <script src="main.js"><\/script>\n    </body>\n</html>'},1021:function(e,t){e.exports="body{\n    margin:0;\n    overflow:hidden;\n}\ncanvas{\n    width:100%;\n    height:100%;\n}"},1022:function(e,t){e.exports='<!DOCTYPE html>\n<html lang="ja">\n    <head>\n        <meta charset="utf-8">\n        <title>noise</title>\n        <link rel="stylesheet" href="main.css">\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.2.3/math.min.js"><\/script>\n    </head>\n    <body>\n        <canvas id="canvas"></canvas>\n        <script src="main.js"><\/script>\n    </body>\n</html>'},1023:function(e,t){e.exports='const canvas=document.getElementById("canvas");\ncanvas.width=canvas.clientWidth;\ncanvas.height=canvas.clientHeight;\nconst context=canvas.getContext("2d");\nconst w=canvas.width;\nconst h=canvas.height;\n\nfor(let x=0;x<w;x++){\n    for(let y=0;y<h;y++){\n    const b=Math.floor(Math.random()*255);\n    context.fillStyle=`rgb(${b},${b},${b})`;\n    context.fillRect(x,y,1,1);\n   }\n}'},1024:function(e,t){e.exports="body{\n    margin:0;\n    overflow:hidden;\n    background-color:#fff;\n}\ncanvas{\n    width:100%;\n    height:100%;\n}"},1025:function(e,t){e.exports='<!DOCTYPE html>\n<html lang="ja">\n    <head>\n        <meta charset="utf-8">\n        <title>default</title>\n        <link rel="stylesheet" href="main.css">\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.2.3/math.min.js"><\/script>\n    </head>\n    <body> \n        <script src="main.js"><\/script>\n    </body>\n</html>'},1026:function(e,t){e.exports=""},152:function(e,t,n){"use strict";n.r(t);n(8),n(9),n(10);var o,r=n(444),a=n.n(r),c=n(0),i=n.n(c),u=n(32),l=n(186);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,y=Object(u.b)(function(e){var t=e.state;return{updateRunButton:t.updateRunButton,updateActiveText:t.updateActiveText,editor:t.editor,updateRunAreaRenderingFlag:t.updateRunAreaRenderingFlag,updateRunButtonColor:t.updateRunButtonColor,iframeElement:t.iframeElement,runButtonColorBackgroundColor:t.runButtonColor.backgroundColor,runButtonColorFontColor:t.runButtonColor.fontColor}})(o=Object(u.c)(o=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=d(this,(e=f(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props.editor.getValue();n.props.updateActiveText(e),n.props.updateRunAreaRenderingFlag(!0)},n.handleMouseEnter=function(){n.props.updateRunButtonColor({backgroundColor:" rgb(0, 185, 158)",fontColor:"#eee"})},n.handleMouseLeave=function(){n.props.iframeElement||n.props.updateRunButtonColor({backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"})},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.props.updateRunButton(this.refs.runButton)}},{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",ref:"runButton",style:{backgroundColor:this.props.runButtonColorBackgroundColor,color:this.props.runButtonColorFontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},i.a.createElement(l.FaPlay,null))}}])&&p(n.prototype,o),r&&p(n,r),t}())||o)||o;function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E,w=Object(u.b)(function(e){var t=e.state;return{updateStopButton:t.updateStopButton,editor:t.editor,updateActiveText:t.updateActiveText,updateRunAreaRenderingFlag:t.updateRunAreaRenderingFlag,updateRunButtonColor:t.updateRunButtonColor,updateIframeElement:t.updateIframeElement,updateHotReload:t.updateHotReload}})(m=Object(u.c)(m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,x(t).call(this,e))).handleClick=function(){n.props.updateActiveText(n.props.editor.getValue()),n.props.updateRunAreaRenderingFlag(!1),n.props.updateRunButtonColor({backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"}),n.props.updateIframeElement(null),n.props.updateHotReload(!1)},n.handleMouseEnter=function(){n.setState({backgroundColor:" rgb(0, 185, 158)",fontColor:"#eee"})},n.handleMouseLeave=function(){n.setState({backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"})},n.state={backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.props.updateStopButton(this.refs.stopButton)}},{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",ref:"stopButton",style:{backgroundColor:this.state.backgroundColor,color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},i.a.createElement(l.FaSquare,null))}}])&&g(n.prototype,o),r&&g(n,r),t}())||m)||m;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T,R=Object(u.b)(function(e){var t=e.state;return{activeTextFileType:t.activeTextFile.type,editor:t.editor,activeTextFileHandWritingFormulaAreaId:t.activeTextFile.handWritingFormulaAreaId,incrementHandWritingFormulaAreaId:t.incrementHandWritingFormulaAreaId,pushHandWritingFormulaAreas:t.pushHandWritingFormulaAreas}})(E=Object(u.c)(E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=F(this,S(t).call(this,e))).handleClick=function(){if("javascript"===n.props.activeTextFileType||"glsl"===n.props.activeTextFileType){var e=n.props.editor,t=e.getSelectionRange().start,o=e.renderer.textToScreenCoordinates(t),r=n.props.activeTextFileHandWritingFormulaAreaId;n.props.incrementHandWritingFormulaAreaId();for(var a=e.renderer.pixelToScreenCoordinates(o.pageX+n.width,o.pageY+n.height),c=a.column-t.column,i=a.row-t.row,u="/*".concat(r,"*/"),l=c-u.length,s=0;s<l;s++)u+=" ";for(var p=0;p<i;p++){u+="\n";for(var d=0;d<t.column+c;d++)u+=" "}e.insert(u),n.props.pushHandWritingFormulaAreas({width:n.width,height:n.height,x:o.pageX,y:o.pageY,backgroundWord:u,visible:!0,code:"",exchange:!1,codeEditor:null,handWritingFormulaEditor:null,glslResultCounter:0,resultVariable:"",model:{},resizeEvent:!1})}},n.handleMouseEnter=function(){n.setState({backgroundColor:" rgb(0, 185, 158)",fontColor:"#eee"})},n.handleMouseLeave=function(){n.setState({backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"})},n.width=500,n.height=320,n.state={backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",style:{backgroundColor:this.state.backgroundColor,color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},i.a.createElement(l.FaPencilAlt,null))}}])&&A(n.prototype,o),r&&A(n,r),t}())||E)||E;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L;Object(u.b)(function(e){var t=e.state;return{updateListButton:t.updateListButton,updateListButtonColor:t.updateListButtonColor,listButtonColorBackgroundColor:t.listButtonColor.backgroundColor,listButtonColorFontColor:t.listButtonColor.fontColor,updateListAreaRenderingFlag:t.updateListAreaRenderingFlag,listAreaRenderingFlag:t.listAreaRenderingFlag}})(T=Object(u.c)(T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=P(this,(e=j(t)).call.apply(e,[this].concat(r)))).handleClick=function(){n.props.listAreaRenderingFlag?n.props.updateListAreaRenderingFlag(!1):n.props.updateListAreaRenderingFlag(!0)},n.handleMouseEnter=function(){n.props.updateListButtonColor({backgroundColor:" rgb(0, 185, 158)",fontColor:"#eee"})},n.handleMouseLeave=function(){n.props.listAreaRenderingFlag||n.props.updateListButtonColor({backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"})},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.props.updateListButton(this.refs.listButton)}},{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",ref:"listButton",style:{backgroundColor:this.props.listButtonColorBackgroundColor,color:this.props.listButtonColorFontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},i.a.createElement(l.FaList,null))}}])&&M(n.prototype,o),r&&M(n,r),t}())||T),n(200);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(u.b)(function(e){var t=e.state;return{updateRecycleButton:t.updateRecycleButton,updateRecycleButtonColor:t.updateRecycleButtonColor,recycleButtonColorBackgroundColor:t.recycleButtonColor.backgroundColor,recycleButtonColorFontColor:t.recycleButtonColor.fontColor,editor:t.editor,textFileHandWritingFormulaAreas:t.activeTextFile.handWritingFormulaAreas}})(L=Object(u.c)(L=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=D(this,(e=I(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props.editor.getSelectionRange(),t=n.props.editor.session.getTextRange(e),o=n.props.textFileHandWritingFormulaAreas.find(function(e){return!e.visible&&e.code===t}),r=void 0!==o?o.backgroundWord:t;n.props.editor.insert(r)},n.handleMouseEnter=function(){n.props.updateRecycleButtonColor({backgroundColor:" rgb(0, 185, 158)",fontColor:"#eee"})},n.handleMouseLeave=function(){n.props.updateRecycleButtonColor({backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"})},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.props.updateRecycleButton(this.refs.recycleButton)}},{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",ref:"recycleButton",style:{backgroundColor:this.props.recycleButtonColorBackgroundColor,color:this.props.recycleButtonColorFontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},i.a.createElement(l.FaRecycle,null))}}])&&H(n.prototype,o),r&&H(n,r),t}())||L);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K,X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,$(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{id:"runAndStop"},i.a.createElement(y,null),i.a.createElement(w,null),i.a.createElement(R,null))}}])&&V(n.prototype,o),r&&V(n,r),t}(),q=(n(37),n(302)),G=n.n(q);n(454),n(310),n(311),n(456),n(457),n(458),n(459),n(460),n(461),n(462);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function J(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne,oe=Object(u.b)(function(e){var t=e.state;return{updateEditor:t.updateEditor,updateHandWritingFormulaAreaAnchor:t.updateHandWritingFormulaAreaAnchor,updateHandWritingFormulaAreaVisible:t.updateHandWritingFormulaAreaVisible,hotReload:t.hotReload,updateActiveText:t.updateActiveText,executeHTML:t.executeHTML,textFile:t.textFile,editorValue:t.activeTextFile.text,activeTextFileType:t.activeTextFile.type,activeTextFileId:t.activeTextFileId,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,saveEvent:t.saveEvent}})(K=Object(u.c)(K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,ee(t).call(this,e))).handleResize=function(){n.setState({width:window.innerWidth,height:window.innerHeight-110}),n.editor.resize()},n.componentDidMount=function(){var e=n.refs.aceEditor.editor;n.editor=e,e.resize(),n.props.updateEditor(e),e.session.$undoManager.reset(),n.keyboardHandler=e.getKeyboardHandler(),n.keyboardHandler.addCommand({name:"save-event",bindKey:{win:"Ctrl+s",mac:"Command+s"},exec:function(){try{console.log("saveEvent"),n.props.saveEvent()}catch(e){console.log(e)}},readOnly:!0}),window.addEventListener("resize",n.handleResize)},n.handleChange=function(e){n.props.updateActiveText(e),n.props.textFile.forEach(function(e,t){e.handWritingFormulaAreas.forEach(function(e,o){if(t===n.props.activeTextFileId){var r="/*".concat(o,"*/");n.editor.$search.setOptions({needle:r,regExp:!1});var a=n.editor.$search.find(n.editor.session);if(a){var c=n.editor.renderer.textToScreenCoordinates(a.start);c.pageY+e.height>0&&c.pageY<window.innerHeight+100&&(n.props.updateHandWritingFormulaAreaAnchor(o,c.pageX,c.pageY),n.props.updateHandWritingFormulaAreaVisible(t,o,!0))}else e.resizeEvent?n.props.updateHandWritingFormulaAreaVisible(t,o,!0):n.props.updateHandWritingFormulaAreaVisible(t,o,!1)}else n.props.updateHandWritingFormulaAreaVisible(t,o,!1)})}),n.props.hotReload&&(n.props.updateActiveText(e),n.props.executeHTML(n.props.textFile))},n.handleScroll=function(){n.props.textFile.forEach(function(e,t){e.handWritingFormulaAreas.forEach(function(e,o){if(t===n.props.activeTextFileId){var r="/*".concat(o,"*/");n.editor.$search.setOptions({needle:r,regExp:!1});var a=n.editor.$search.find(n.editor.session);if(a){var c=n.editor.renderer.textToScreenCoordinates(a.start);c.pageY+e.height>0&&c.pageY<window.innerHeight+100&&(n.props.updateHandWritingFormulaAreaAnchor(o,c.pageX,c.pageY),n.props.updateHandWritingFormulaAreaVisible(t,o,!0))}else n.props.updateHandWritingFormulaAreaVisible(t,o,!1)}else n.props.updateHandWritingFormulaAreaVisible(t,o,!1)})})},n.state={width:window.innerWidth,height:window.innerHeight-110},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return i.a.createElement(G.a,{style:{position:"absolute",top:110,width:this.state.width,height:this.state.height},ref:"aceEditor",mode:this.props.activeTextFileType,theme:"dawn",onChange:this.handleChange,onScroll:this.handleScroll,value:this.props.editorValue,fontSize:27,editorProps:{$blockScrolling:1/0},wrapEnabled:!1,tabSize:4,setOptions:{hScrollBarAlwaysVisible:!0,vScrollBarAlwaysVisible:!0,animatedScroll:!0,scrollSpeed:.7,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}})}}])&&Q(n.prototype,o),r&&Q(n,r),t}())||K)||K;n(63),n(64),n(235),n(236);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le,se=Object(u.b)(function(e){var t=e.state;return{iframeElement:t.iframeElement,runAreaPosition:t.runAreaPosition,updateRunAreaPosition:t.updateRunAreaPosition}})(ne=Object(u.c)(ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ce(this,ie(t).call(this,e))).handleMouseAndTouchDown=function(e){document.body.addEventListener("mousemove",n.handleMouseAndTouchMove),document.body.addEventListener("touchmove",n.handleMouseAndTouchMove),document.body.addEventListener("mouseup",n.handleMouseAndTouchUp),document.body.addEventListener("touchend",n.handleMouseAndTouchUp);var t=n.props.iframeElement;t.contentDocument.addEventListener("mousemove",n.handleIframeMouseAndTouchMove),t.contentDocument.addEventListener("touchmove",n.handleIframeMouseAndTouchMove),t.contentDocument.addEventListener("mouseup",n.handleMouseAndTouchUp),t.contentDocument.addEventListener("touchend",n.handleMouseAndTouchUp),n.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},n.handleMouseAndTouchMove=function(e){var t=n.props.runAreaPosition,o="changedTouches"in e?e.changedTouches[0].pageX:e.pageX,r="changedTouches"in e?e.changedTouches[0].pageY:e.pageY;n.props.updateRunAreaPosition(t.x+o-n.state.x,t.y+r-n.state.y),n.setState({x:o,y:r})},n.handleIframeMouseAndTouchMove=function(e){var t=n.props.iframeElement.getBoundingClientRect(),o=n.props.runAreaPosition,r=("changedTouches"in e?e.changedTouches[0].pageX:e.pageX)+Math.floor(t.left),a=("changedTouches"in e?e.changedTouches[0].pageY:e.pageY)+Math.floor(t.top);n.props.updateRunAreaPosition(o.x+r-n.state.x,o.y+a-n.state.y),n.setState({x:r,y:a})},n.handleMouseAndTouchUp=function(){document.body.removeEventListener("mousemove",n.handleMouseAndTouchMove),document.body.removeEventListener("touchmove",n.handleMouseAndTouchMove),document.body.removeEventListener("mouseup",n.handleMouseAndTouchUp),document.body.removeEventListener("touchend",n.handleMouseAndTouchUp);var e=n.props.iframeElement;e.contentDocument.removeEventListener("mousemove",n.handleIframeMouseAndTouchMove),e.contentDocument.removeEventListener("touchmove",n.handleIframeMouseAndTouchMove),e.contentDocument.removeEventListener("mouseup",n.handleMouseAndTouchUp),e.contentDocument.removeEventListener("touchend",n.handleMouseAndTouchUp)},n.state={x:0,y:0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"none",onMouseDown:this.handleMouseAndTouchDown,onTouchStart:this.handleMouseAndTouchDown,style:{height:20,backgroundColor:"#ddd",borderTopLeftRadius:5,borderTopRightRadius:5}})}}])&&ae(n.prototype,o),r&&ae(n,r),t}())||ne)||ne;function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be,ge=Object(u.b)(function(e){var t=e.state;return{iframeElement:t.iframeElement,updateIframeElement:t.updateIframeElement,updateExecuteHTML:t.updateExecuteHTML,textFile:t.textFile}})(le=Object(u.c)(le=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=he(this,(e=me(t)).call.apply(e,[this].concat(r)))).executeHTML=function(e){var t=new DOMParser,o=null;try{(o=t.parseFromString(e[0].text,"text/html")).getElementsByTagName("parsererror").length&&(o=null)}catch(e){console.log(e)}if(o){var r=Array.prototype.slice.call(o.getElementsByTagName("script")),a=Array.prototype.slice.call(o.getElementsByTagName("link"));r.forEach(function(t){if(t.src){var n=t.src.split("/")[t.src.split("/").length-1],o=e.find(function(e){return e.fileName===n});if(o){for(var r=o.handWritingFormulaAreaId,a=o.handWritingFormulaAreas,c=o.text,i=0;i<r;i++)c=c.replace("/*".concat(i,"*/"),a[i].code);console.log(c);var u=new Blob([c],{type:"application/javascript"});t.src=URL.createObjectURL(u)}}else{for(var l=e.find(function(e){return e.fileName===t.type}),s=l.handWritingFormulaAreaId,p=l.handWritingFormulaAreas,d=l.text,f=0;f<s;f++)d=d.replace("/*".concat(f,"*/"),p[f].code);t.text=d}}),a.forEach(function(t){var n=t.href.split("/")[t.href.split("/").length-1],o=e.find(function(e){return"css"===e.type&&"stylesheet"===t.rel&&n===e.fileName});if(o){var r=new Blob([o.text],{type:"text/css"});t.href=URL.createObjectURL(r)}});var c=new Blob([o.documentElement.outerHTML],{type:"text/html"});n.props.iframeElement.contentWindow.location.replace(URL.createObjectURL(c))}},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateIframeElement(this.refs.iframe);case 2:this.props.updateExecuteHTML(this.executeHTML),this.executeHTML(this.props.textFile);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){de(a,o,r,c,i,"next",e)}function i(e){de(a,o,r,c,i,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.updateIframeElement(null)}},{key:"render",value:function(){return i.a.createElement("div",{onMouseUp:this.handleMouseUp,style:this.props.style},i.a.createElement(se,null),i.a.createElement("iframe",{"touch-action":"auto",ref:"iframe",style:{width:this.props.style.width,height:this.props.style.height-20,borderBottomLeftRadius:5,borderBottomRightRadius:5,borderWidth:0}}))}}])&&fe(n.prototype,o),r&&fe(n,r),t}())||le)||le;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _e(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=Object(u.b)(function(e,t){var n=e.state;return{textFileHandWritingFormulaAreas:n.activeTextFile.handWritingFormulaAreas,editor:n.editor}})(be=Object(u.c)(be=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_e(this,Ee(t).call(this,e))).handleClick=function(e){var t=n.props.editor;console.log(e),t.insert(e)},n.state={height:window.innerHeight-110},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{position:"absolute",top:110,right:0,backgroundColor:"#ddd",width:300,height:this.state.height,zIndex:20,overflow:"auto"}},this.props.textFileHandWritingFormulaAreas.map(function(t,n){return!t.visible&&i.a.createElement("img",{onClick:function(){return e.handleClick(t.backgroundWord)},key:100*n,src:(o=(new XMLSerializer).serializeToString(t.handWritingFormulaEditor.domElement.children[t.handWritingFormulaEditor.domElement.children.length-1]),"data:image/svg+xml;charset=utf-8;base64,"+btoa(o)),style:{backgroundColor:"#fff",height:200}});var o}))}}])&&xe(n.prototype,o),r&&xe(n,r),t}())||be)||be,Ae=(n(464),n(466),n(467),n(275),n(470)),Fe=n(471),Se=n.n(Fe),Oe=n(473),Te=(n(312),n(276),n(249),n(313),n(315),n(38),n(316)),Re=n.n(Te),Ce=n(317),Me=n.n(Ce),Pe=n(374),je=n.n(Pe),We=n(390),Le=n.n(We),Be=n(916);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var De,Ie,Ue,ze,Ve,Ne,$e,Ye,Ke,Xe,qe,Ge,Ze,Qe,Je,et,tt,nt,ot,rt,at,ct,it,ut,lt="",st="",pt=document.createElement("canvas").getContext("webgl"),dt=0;Me.a.import(je.a),at=function(e,t){var n=null;return Be.parse(e).statements.forEach(function(e){switch(e.type){case"declarator":e.declarators[0].name.name===t&&(n=e);break;case"function_declaration":"main"===e.name?e.body.statements.forEach(function(e){e.hasOwnProperty("declarators")&&e.declarators[0].name.name===t&&(n=e)}):e.name===t&&(n=e)}}),n},ct=function(e,t){var n=at(e,t),o={type:"float",function:!1,parameter:null};if(n)switch(n.type){case"declarator":o={type:n.typeAttribute.name,function:!1,parameter:null};break;case"function_declaration":o={type:n.returnType.name,function:!0,parameter:n.parameters.map(function(e){return e.type_name})}}return o},it=function(e){var t=pt.createShader(pt.VERTEX_SHADER);pt.shaderSource(t,"void main(void) {\n      mat2 expression".concat(ot(e),";\n    }")),pt.compileShader(t);var n=pt.getShaderInfoLog(t),o=n.match(/\'[a-zA-Z]\d*\' : undeclared identifier/g),r=n.match(/\'[a-zA-Z]\d*\' : no matching overloaded function found/g),a=[];o&&(a=a.concat(o)),r&&(a=a.concat(r)),a=a.map(function(e){var t=e.split("'")[1],n=ct(lt,e.split("'")[1]);return{name:t,type:n.type,function:n.function,parameter:n.parameter}});var c="";a.forEach(function(e){var t;c+=e.function?"".concat(e.type," ").concat(e.name,"(").concat((t="",e.parameter.forEach(function(e,n){t+="".concat(e," x").concat(n,",")}),t=t.slice(0,t.length-1)),"){\n      return ").concat(e.type,"(0.0);\n    }\n"):"".concat(e.type," ").concat(e.name," = ").concat(e.type,"(0.0);\n")}),pt.shaderSource(t,"".concat(c,"\n      void main(void) {        \n        mat2 expression").concat(ot(e),";\n      }")),pt.compileShader(t);var i=(n=pt.getShaderInfoLog(t)).split("'"),u="";switch(i[i.length-4]){case"const float":case"float":u="float";break;case"const highp 2-component vector of float":case"highp 2-component vector of float":u="vec2";break;case"const highp 3-component vector of float":case"highp 3-component vector of float":u="vec3";break;case"const highp 4-component vector of float":case"highp 4-component vector of float":u="vec4";break;case"const highp 2X2 matrix of float":case"highp 2X2 matrix of float":u="mat2";break;case"const highp 3X3 matrix of float":case"highp 3X3 matrix of float":u="mat3";break;case"const highp 4X4 matrix of float":case"highp 4X4 matrix of float":u="mat4";break;default:u="float"}return u},ot=function(e){return e=(e=(e=(e=e.replace(/(\d+)(?!\.|\d)/g,"$1.0")).replace(/([a-zA-Z])(\d+)\.0/g,"$1$2")).replace(/\[(\d+)\.0/g,"[$1")).replace(/\.(\d+)\.0/g,".$1")},Ie=function(e){return e.index?"supsub"===e.body.body[0].type&&"\\sum"===e.body.body[0].base.name||"supsub"===e.index.body[0].type&&"\\sum"===e.index.body[0].base.name?(t="supsub"===e.body.body[0].type&&"\\sum"===e.body.body[0].base.name?qe(e.body.body):(dt++,"".concat(it(tt(e.body))," result").concat(dt,"=").concat(tt(e.body.body),";")),n="result".concat(dt),o="supsub"===e.index.body[0].type&&"\\sum"===e.index.body[0].base.name?qe(e.index.body):(dt++,"".concat(it(tt(e.index.body))," result").concat(dt,"=").concat(tt(e.index.body),";")),r="result".concat(dt),dt++,st="".concat(it("pow(".concat(n,",1.0/").concat(r,")"))," result").concat(dt),"".concat(t,"\n    ").concat(o,"\n    ").concat(it("pow(".concat(n,",1.0/").concat(r,")"))," result").concat(dt,"= pow(").concat(n,",1.0/").concat(r,")\n    ")):"pow(".concat(tt(e.body),",1.0/").concat(tt(e.index.body),")"):function(){if("supsub"===e.body.body[0].type&&"\\sum"===e.body.body[0].base.name){var t=qe(e.body.body),n="result".concat(dt);return dt++,st="".concat(it("sqrt(".concat(n,")"))," result").concat(dt),"".concat(t,"\n  ").concat(it("sqrt(".concat(n,")"))," result").concat(dt,"= sqrt(").concat(n,")")}return"leftright"===e.body.body[0].type?"sqrt".concat(tt(e.body.body)):"sqrt(".concat(tt(e.body.body),")")}();var t,n,o,r},Ue=function(e){return"supsub"===e.numer.body[0].type&&"\\sum"===e.numer.body[0].base.name||"supsub"===e.denom.body[0].type&&"\\sum"===e.denom.body[0].base.name?(t="supsub"===e.numer.body[0].type&&"\\sum"===e.numer.body[0].base.name?qe(e.numer.body):(dt++,"".concat(it(tt(e.numer.body))," result").concat(dt,"=").concat(tt(e.numer.body),";")),n="result".concat(dt),o="supsub"===e.denom.body[0].type&&"\\sum"===e.denom.body[0].base.name?qe(e.denom.body):(dt++,"".concat(it(tt(e.denom.body))," result").concat(dt,"=").concat(tt(e.denom.body),";")),r="result".concat(dt),dt++,st="".concat(it("".concat(n,"/").concat(r))," result").concat(dt),"".concat(t,"\n  ").concat(o,"\n  ").concat(it("".concat(n,"/").concat(r))," result").concat(dt,"=").concat(n,"/").concat(r,"\n  ")):"".concat(tt(e.numer.body),"/").concat(tt(e.denom.body));var t,n,o,r},ze=function(e){return"pow(".concat("leftright"===e.base.type?tt(e.base.body):tt(e.base),",").concat("leftright"===e.sup.body[0].type?tt(e.sup.body[0].body):tt(e.sup.body),")")},Ve=function(e){return"leftright"===e.type?"sin".concat(tt(e)):"sin(".concat(tt(e),")")},Ne=function(e){return"leftright"===e.type?"cos".concat(tt(e)):"cos(".concat(tt(e),")")},$e=function(e){return"leftright"===e.type?"tan".concat(tt(e)):"tan(".concat(tt(e),")")},Ye=function(e){var t="(";return"["===e.left&&(t="floor("),"".concat(t).concat(tt(e.body)).concat(")")},Ke=function(e){return"leftright"===e.type?"log".concat(tt(e)):"log(".concat(tt(e),")")},Xe=function(e){var t=tt(e[0].sub.body),n=e[1];return"leftright"===n.type?"log".concat(tt(n),"/log(").concat(t,")"):"log(".concat(tt(n),")/log(").concat(t,")")},qe=function(e){dt++;var t=tt(e.slice(1,e.length)),n=e[0].sub.body.findIndex(function(e){return"atom"===e.type&&"="===e.text}),o=tt(e[0].sub.body.slice(0,n)),r=tt(e[0].sub.body.slice(n+1,e[0].sub.body.length)),a=tt(e[0].sup.body);return st="".concat(it(t)," result").concat(dt),"".concat(it(t)," result").concat(dt," = ").concat(it(t),"(0.0);\n        for(float ").concat(o,"=").concat(r,";").concat(o,"<").concat(a,";").concat(o,"++){\n            result").concat(dt," += ").concat(t,";\n        }")},Ge=function(e,t){var n=tt(e[0].sub.body),o=tt(e[0].sup.body),r=tt(e.slice(1,t)),a=tt(e[t+1]);return"((".concat(a,"=>{return ").concat(De(Le()(Me.a.integral(r,a).toString())),"})(").concat(o,")-(").concat(a,"=>{return ").concat(De(Le()(Me.a.integral(r,a).toString())),"})(").concat(n,"))")},Ze=function(e,t){var n=tt(e.slice(1,t)),o=tt(e[t+1]);return"(".concat(De(Le()(Me.a.integral(n,o).toString())),")")},Qe=function(e){var t=tt(e.base).replace(/Math\./g,"").replace(/pow\((.*)\,(.*)\)/g,"$1^$2");return Me.a.derivative(t,"x").toString()},Je=function(e){var t=e[0].sub.body.findIndex(function(e){return"\\rightarrow"===e.value});return"((".concat(tt(e[0].sub.body.slice(0,t-1)),")=>").concat(tt(e[1]),")(").concat(tt(e[0].sub.body.slice(t,e[0].sub.body.length)),")")},et=function(e){var t,n=1===e[0].length?"vec".concat(e.length):"mat".concat(e.length);return(t=e.slice(1,e.length)).unshift(tt(e[0])),e=t.reduce(function(e,t){return"".concat(e,",").concat(tt(t))}),"".concat(n,"(").concat(e,")")},rt=function(e,t){return"accent"===t.type?"dot(".concat(tt(e.base),",").concat(tt(t.base),")"):"dot(".concat(tt(e.base),",").concat(tt(t),")")},nt=function(e,t){return e.length>t?"atom"!==e[t].type&&"punct"!==e[t].type&&"bin"!==e[t].type&&"spacing"!==e[t].type&&"styling"!==e[t].type?"*"+tt(e.slice(t,e.length)):"styling"===e[t].type?","+tt(e.slice(t,e.length)):tt(e.slice(t,e.length)):""},ut=function(e,t){return e.length>t?("atom"===e[t].type||"punct"===e[t].type||"bin"===e[t].type||"spacing"===e[t].type||"leftright"===e[t].type&&(3===tt(e[t]).length||/\,/.test(tt(e[t]))||"["!==!e[t].left)?"":"*")+tt(e.slice(t,e.length)):""},tt=function(e){var t,n,o;if(!Array.isArray(e))switch(He(e)){case"object":e=[e];break;case"string":return e}switch(e[0].type){case"textord":t="".concat("\\infty"===e[0].text?99999999.99:e[0].text).concat(e.length>1?("textord"!==e[1].type&&"atom"!==e[1].type&&"bin"!==e[1].type&&"spacing"!==e[1].type?"*":"")+tt(e.slice(1,e.length)):"");break;case"mathord":t="".concat("\\pi"===e[0].text?"3.141592":(o="".concat(function(){if(e.length>1){if("leftright"===e[1].type&&"["===e[1].left&&"]"===e[1].right){var t=e.slice(1,e.length).findIndex(function(e){return!("leftright"===e.type&&"["===e.left&&"]"===e.right)});t=-1===t?e.length-1:t;var n=e.slice(2,t+1);return n.unshift("[".concat(tt(e[1].body),"]")),"".concat(n.reduce(function(e,t){return e+"[".concat(tt(t.body),"]")})).concat(ut(e,t+1))}return ut(e,1)}return""}()),e.length>1&&"atom"===e[1].type&&"="===e[1].text?"".concat(it(o)," ").concat(e[0].text).concat(o):"".concat(e[0].text).concat(o)));break;case"spacing":t="],[".concat(e.length>1?tt(e.slice(1,e.length)):"");break;case"styling":t="".concat(tt(e[0].body)).concat(nt(e,1));break;case"atom":switch(e[0].text){case"\\cdot":t="*".concat(e.length>1?tt(e.slice(1,e.length)):"");break;default:t="".concat(e[0].text).concat(e.length>1?tt(e.slice(1,e.length)):"")}break;case"punct":t="".concat(e[0].value).concat(e.length>1?tt(e.slice(1,e.length)):"");break;case"ordgroup":t="".concat(tt(e[0].body)).concat(nt(e,1));break;case"sqrt":t="".concat(Ie(e[0])).concat(nt(e,1));break;case"accent":t="\\vec"===e[0].label||"\\overrightarrow"===e[0].label?function(){if(e.length>1){if("atom"===e[1].type&&"\\cdot"===e[1].text)return"".concat(rt(e[0],e[2])).concat(nt(e,3));if("atom"===e[1].type&&"="===e[1].text){var t=tt(e.slice(1,e.length));return"".concat(it(t)," ").concat(tt(e[0].base)).concat(t)}return"".concat(tt(e[0].base)).concat(tt(e.slice(1,e.length)))}return tt(e[0].base)}():"";break;case"leftright":t="".concat("array"===e[0].body[0].type?e.length>1&&"vec"===et(e[0].body[0].body).slice(0,3)&&"leftright"===e[1].type&&"vec"===et(e[1].body[0].body).slice(0,3)?"dot(".concat(et(e[0].body[0].body),",").concat(et(e[1].body[0].body),")"):"".concat(et(e[0].body[0].body)).concat(nt(e,1)):"".concat(Ye(e[0])).concat(nt(e,1)));break;case"array":t=tt(e[0].body[0][0]);break;case"genfrac":t="".concat(Ue(e[0])).concat(nt(e,1));break;case"bin":switch(e[0].value){case"\\cdot":t="*".concat(tt(e.slice(1,e.length)));break;default:t="".concat(e[0].value).concat(nt(e,1))}break;case"op":switch(e[0].name){case"\\sin":t="".concat(Ve(e[1])).concat(nt(e,2));break;case"\\cos":t="".concat(Ne(e[1])).concat(nt(e,2));break;case"\\tan":t="".concat($e(e[1])).concat(nt(e,2));break;case"\\log":t="".concat(Ke(e[1])).concat(nt(e,2));break;case"\\int":var r=e.findIndex(function(e){return"mathord"===e.type&&"d"===e.text});t="".concat(Ze(e,r)).concat(nt(e,r+2))}break;case"supsub":if(e[0].sub)switch(e[0].base.name){case"\\log":t="".concat(Xe(e)).concat(nt(e,2));break;case"\\sum":t=qe(e);break;case"\\int":var a=e.findIndex(function(e){return"mathord"===e.type&&"d"===e.text});t="".concat(Ge(e,a)).concat(nt(e,a+2));break;case"\\lim":t="".concat(Je(e)).concat(nt(e,2));break;default:t=e[0].sub.body.find(function(e){return"textord"===e.type})?e.length>1?function(){if("leftright"===e[1].type)return at(lt,"".concat(tt(e[0].base)).concat(tt(e[0].sub.body)))?"".concat(tt(e[0].base)).concat(tt(e[0].sub.body)).concat(tt(e.slice(1,e.length))):"".concat(tt(e[0].base)).concat(tt(e[0].sub.body)).concat(nt(e,1));if("atom"===e[1].type&&"="===e[1].text){var t=ot(tt(e.slice(1,e.length)));return"".concat(it(t)," ").concat(tt(e[0].base)).concat(tt(e[0].sub.body)).concat(t)}return"".concat(tt(e[0].base)).concat(tt(e[0].sub.body)).concat(nt(e,1))}():"".concat(tt(e[0].base)).concat(tt(e[0].sub.body)):"".concat(tt(e[0].base)).concat(((n=e[0].sub.body.slice(1,e[0].sub.body.length)).unshift("".concat(e[0].sub.body[0].text)),"."+n.reduce(function(e,t){return e+t.text})+nt(e,1)))}else t="\\prime"===e[0].sup.body[0].text?"".concat(Qe(e[0])).concat(nt(e,1)):"".concat(ze(e[0])).concat(nt(e,1));break;default:t="".concat(e[0]).concat(nt(e,1))}return t};var ft,ht=De=function(e,t,n){for(lt=t,dt=n;e.search(/\n/)>=0;)e=e.replace(/\n/g," ");var o=Re.a.__parse(e);return{code:ot(tt(o)),variable:st,count:dt}},mt=n(939),yt=n.n(mt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt,kt=Object(u.b)(function(e,t){var n,o=e.state;return Et(n={updateHandWritingFormulaAreaHandWritingFormulaEditor:o.updateHandWritingFormulaAreaHandWritingFormulaEditor,applicationKey:o.key.applicationKey,hmacKey:o.key.hmacKey,keyChange:o.keyChange,editor:o.editor,editorValue:o.activeTextFile.text,updateActiveText:o.updateActiveText,activeTextFileHandWritingFormulaAreas:o.textFile[t.textfilenum].handWritingFormulaAreas,updateHandWritingFormulaAreaCode:o.updateHandWritingFormulaAreaCode,updateHandWritingFormulaAreaCounter:o.updateHandWritingFormulaAreaCounter,updateHandWritingFormulaAreaResultVariable:o.updateHandWritingFormulaAreaResultVariable},"updateHandWritingFormulaAreaCode",o.updateHandWritingFormulaAreaCode),Et(n,"resultVariable",o.textFile[t.textfilenum].handWritingFormulaAreas[t.num].resultVariable),Et(n,"handWritingFormulaAreasCode",o.textFile[t.textfilenum].handWritingFormulaAreas[t.num].code),Et(n,"activeTextFileType",o.textFile[t.textfilenum].type),Et(n,"activeTextFile",o.textFile[t.textfilenum]),Et(n,"updateHandWritingFormulaAreaAnchor",o.updateHandWritingFormulaAreaAnchor),Et(n,"updateHandWritingFormulaAreaVisible",o.updateHandWritingFormulaAreaVisible),Et(n,"activeTextFileHandWritingFormulaAreaBackgroundWord",o.textFile[t.textfilenum].handWritingFormulaAreas[t.num].backgroundWord),n})(ft=Object(u.c)(ft=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vt(this,xt(t).call(this,e))).errorFunc=function(e){console.log(e);for(var t=document.getElementsByClassName("error-msg");t.length>0;)t[0].parentNode.removeChild(t[0]);n.props.keyChange()},n.exportFunc=function(e){var t=n.refs.convert;n.state.autoConvert&&n.editor.convert();var o=e.detail.exports;if(o&&o["application/x-latex"]){t.disabled=!1;var r=n.cleanLatex(o["application/x-latex"]),a=n.props.editorValue,c=a.split("/*".concat(n.props.num,"*/"))[0],i=c.split("{");if("javascript"===n.props.activeTextFileType){for(var u=a,l=n.props.activeTextFileHandWritingFormulaAreas,s=0;s<l.length;s++)s!==n.props.num&&(u=u.replace("/*".concat(s,"*/"),l[s].code));n.props.updateHandWritingFormulaAreaCode(n.props.num,Object(Oe.a)(r,u))}else{for(var p=function(){if(c.match(/void main(void)/))return"".concat(c,"}");if(c.split("}").length<i.length){var e=c.match(/(float|vec\d|mat\d) [a-zA-Z\d]+\(.*\)\{/g),t=c.split(e[e.length-1]);return"".concat(t[0],"\n              void main(void){\n                ").concat(e[e.length-1].match(/\(.*\)/)[0].replace("(","").replace(")","").replace(/\,/g,";"),";\n                ").concat(t[1],"\n              }")}return"".concat(c,"\n              void main(void){}")}(),d=n.props.activeTextFileHandWritingFormulaAreas,f=0;f<d.length;f++)p=p.replace("/*".concat(f,"*/"),d[f].code);var h=d.length>1?d[n.props.num-1].glslResultCounter:0,m=ht(r,p,h);n.props.updateHandWritingFormulaAreaCounter(n.props.num,m.count),h!==m.count?n.props.updateHandWritingFormulaAreaResultVariable(n.props.num,m.variable):n.props.updateHandWritingFormulaAreaResultVariable(n.props.num,""),console.log(m.code),n.props.updateHandWritingFormulaAreaCode(n.props.num,m.code)}}else o&&o["application/mathml+xml"]?t.disabled=!1:o&&o["application/mathofficeXML"]?t.disabled=!1:t.disabled=!0},n.cleanLatex=function(e){return e.includes("\\\\")?("\\begin{align*}"+e+"\\end{align*}").replace("\\overrightarrow","\\vec").replace("\\begin{aligned}","").replace("\\end{aligned}","").replace("\\llbracket","\\lbracket").replace("\\rrbracket","\\rbracket").replace("\\widehat","\\hat").replace(new RegExp("(align.{1})","g"),"aligned"):e.replace("\\overrightarrow","\\vec").replace("\\llbracket","\\lbracket").replace("\\rrbracket","\\rbracket").replace("\\widehat","\\hat").replace(new RegExp("(align.{1})","g"),"aligned")},n.handleDelete=function(){var e=n.props.editorValue,t=n.props.activeTextFileHandWritingFormulaAreaBackgroundWord;n.props.editor.$search.setOptions({needle:t,regExp:!1}),n.props.editor.$search.find(n.props.editor.session)?n.props.updateActiveText(e.replace(n.props.activeTextFileHandWritingFormulaAreaBackgroundWord,"")):n.props.updateActiveText(e.replace("/*".concat(n.props.num,"*/"),"")),setTimeout(function(){n.props.activeTextFile.handWritingFormulaAreas.forEach(function(e,t){var o="/*".concat(t,"*/");n.props.editor.$search.setOptions({needle:o,regExp:!1});var r=n.props.editor.$search.find(n.props.editor.session);if(r){var a=n.props.editor.renderer.textToScreenCoordinates(r.start);a.pageY+e.height>0&&a.pageY<window.innerHeight&&(n.props.updateHandWritingFormulaAreaAnchor(t,a.pageX,a.pageY),n.props.updateHandWritingFormulaAreaVisible(n.props.textfilenum,t,!0))}else n.props.updateHandWritingFormulaAreaVisible(n.props.textfilenum,t,!1)})},10)},n.handleConvert=function(){n.editor.convert()},n.handleClear=function(){n.editor.clear()},n.handleUndo=function(){n.editor.undo()},n.handleRedo=function(){n.editor.redo()},n.handleInsertCode=function(){var e=n.props.editorValue,t=n.props.activeTextFileHandWritingFormulaAreaBackgroundWord;n.props.editor.$search.setOptions({needle:t,regExp:!1}),n.props.editor.$search.find(n.props.editor.session)?n.props.updateActiveText(e.replace(n.props.activeTextFileHandWritingFormulaAreaBackgroundWord,n.props.handWritingFormulaAreasCode)):n.props.updateActiveText(e.replace("/*".concat(n.props.num,"*/"),n.props.handWritingFormulaAreasCode)),setTimeout(function(){n.props.activeTextFile.handWritingFormulaAreas.forEach(function(e,t){var o="/*".concat(t,"*/");n.props.editor.$search.setOptions({needle:o,regExp:!1});var r=n.props.editor.$search.find(n.props.editor.session);if(r){var a=n.props.editor.renderer.textToScreenCoordinates(r.start);a.pageY+e.height>0&&a.pageY<window.innerHeight&&(n.props.updateHandWritingFormulaAreaAnchor(t,a.pageX,a.pageY),n.props.updateHandWritingFormulaAreaVisible(n.props.textfilenum,t,!0))}else n.props.updateHandWritingFormulaAreaVisible(n.props.textfilenum,t,!1)})},10)},n.state={autoConvert:!1},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentWillUnmount",value:function(){yt.a.unuse(),Se.a.unuse(),this.refs.editor.removeEventListener("error",this.errorFunc),this.refs.editor.removeEventListener("exported",this.exportFunc)}},{key:"componentDidMount",value:function(){yt.a.use(),Se.a.use(),this.editor=Ae.a(this.refs.editor,{recognitionParams:{type:"MATH",protocol:"WEBSOCKET",apiVersion:"V4",server:{scheme:"https",host:"webdemoapi.myscript.com",applicationKey:this.props.applicationKey,hmacKey:this.props.hmacKey},v4:{math:{mimeTypes:["application/x-latex"],solver:{enable:!1}},text:{guides:{enable:!1},smartGuide:!1}}}}),this.props.updateHandWritingFormulaAreaHandWritingFormulaEditor(this.props.num,this.editor),this.refs.editor.addEventListener("error",this.errorFunc),this.refs.editor.addEventListener("exported",this.exportFunc)}},{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,ref:"handWritingFormulaArea",id:"handWritingFormulaArea"},i.a.createElement("div",{id:"resultVariableView"},this.props.resultVariable),i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"deleteButton",ref:"delete",onClick:this.handleDelete},"D"),i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"clearButton",ref:"clear",onClick:this.handleClear},"C"),i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"undoButton",ref:"undo",onClick:this.handleUndo},i.a.createElement(l.FaReply,null)),i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"redoButton",ref:"redo",onClick:this.handleRedo},i.a.createElement(l.FaShare,null)),i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"convertButton",ref:"convert",onClick:this.handleConvert},i.a.createElement(l.FaSyncAlt,null)),i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"insertCodeButton",ref:"insertCode",onClick:this.handleInsertCode},i.a.createElement(l.FaAngleDown,null)),i.a.createElement("div",{id:"handWritingFormulaEditor",ref:"editor","touch-action":"none",style:{height:this.props.style.height,width:this.props.style.width}}))}}])&&gt(n.prototype,o),r&&gt(n,r),t}())||ft)||ft;function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function St(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt,Ct=Object(u.b)(function(e,t){var n=e.state;return{activeTextFileType:n.textFile[t.textfilenum].type,updateHandWritingFormulaAreaCodeEditor:n.updateHandWritingFormulaAreaCodeEditor}})(wt=Object(u.c)(wt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=St(this,Ot(t).call(this,e))).handleChange=function(e){n.setState({code:e})},n.state={code:n.props.code,mode:"javascript"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props.activeTextFileType;this.setState({mode:e});var t=this.refs.aceEditor.editor;this.props.updateHandWritingFormulaAreaCodeEditor(this.props.num,t)}},{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style},i.a.createElement(G.a,{style:{width:this.props.style.width,height:this.props.style.height,zIndex:22},onChange:this.handleChange,ref:"aceEditor",mode:this.state.mode,theme:"dawn",value:this.state.code,fontSize:27,editorProps:{$blockScrolling:1/0}}))}}])&&Ft(n.prototype,o),r&&Ft(n,r),t}())||wt)||wt;function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt,Ht=Object(u.b)(function(e,t){var n=e.state;return{editor:n.editor,activeTextFileHandWritingFormulaAreaHandWritingFormulaEditor:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].handWritingFormulaEditor,activeTextFileHandWritingFormulaAreaBackgroundWord:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].backgroundWord,activeTextFileHandWritingFormulaAreaCodeEditor:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].codeEditor,handWritingFormulaAreaVisible:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].visible,handWritingFormulaAreaExchange:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].exchange,updateHandWritingFormulaAreaExchange:n.updateHandWritingFormulaAreaExchange,updateHandWritingFormulaAreaResizeEvent:n.updateHandWritingFormulaAreaResizeEvent,updateHandWritingFormulaAreaSize:n.updateHandWritingFormulaAreaSize,handWritingFormulaAreaWidth:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].width,handWritingFormulaAreaHeight:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].height,handWritingFormulaAreaAnchorX:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].x,handWritingFormulaAreaAnchorY:n.textFile[t.textfilenum].handWritingFormulaAreas[t.num].y,updateHandWritingFormulaAreaBackgroundWord:n.updateHandWritingFormulaAreaBackgroundWord}})(Rt=Object(u.c)(Rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=jt(this,Wt(t).call(this,e))).handleMouseDownOrTouchStart=function(){n.props.editor.blur()},n.handleExchange=function(){var e=n.props.handWritingFormulaAreaExchange;n.props.updateHandWritingFormulaAreaExchange(n.props.num,!e)},n.handleMouseAndTouchDownResize=function(e){e.preventDefault(),n.props.editor.blur(),n.props.updateHandWritingFormulaAreaResizeEvent(n.props.num,!0),document.body.addEventListener("mousemove",n.handleMouseAndTouchMoveResize),document.body.addEventListener("touchmove",n.handleMouseAndTouchMoveResize),document.body.addEventListener("mouseup",n.handleMouseAndTouchUpResize),document.body.addEventListener("touchend",n.handleMouseAndTouchUpResize);var t=n.props.editor,o=n.props.activeTextFileHandWritingFormulaAreaBackgroundWord;t.$search.setOptions({needle:o,regExp:!1});var r=t.$search.find(t.session);n.setState({prevEndRangeRow:r.end.row,prevEndRangeColumn:r.end.column})},n.handleMouseAndTouchMoveResize=function(e){if(0===e.buttons)n.handleMouseAndTouchUpResize(e);else{e.preventDefault();var t=e.pageX?e.pageX:e.touches?e.touches[0].pageX:e.changedTouches[0].pageX,o=e.pageY?e.pageY:e.touches?e.touches[0].pageY:e.changedTouches[0].pageY;o-n.props.handWritingFormulaAreaAnchorY>150&&n.props.updateHandWritingFormulaAreaSize(n.props.num,n.props.handWritingFormulaAreaWidth,o-n.props.handWritingFormulaAreaAnchorY),t-n.props.handWritingFormulaAreaAnchorX>280&&n.props.updateHandWritingFormulaAreaSize(n.props.num,t-n.props.handWritingFormulaAreaAnchorX,n.props.handWritingFormulaAreaHeight)}},n.handleMouseAndTouchUpResize=function(e){e.preventDefault();var t=n.props.handWritingFormulaAreaAnchorX+n.props.handWritingFormulaAreaWidth,o=n.props.handWritingFormulaAreaAnchorY+n.props.handWritingFormulaAreaHeight,r=n.props.editor,a="/*".concat(n.props.num,"*/");r.$search.setOptions({needle:a,regExp:!1});var c=r.$search.find(r.session).start,i={row:n.state.prevEndRangeRow,column:n.state.prevEndRangeColumn},u={column:0,row:0};u.column=t-n.props.handWritingFormulaAreaAnchorX>280?r.renderer.pixelToScreenCoordinates(t,o).column:r.renderer.pixelToScreenCoordinates(n.props.handWritingFormulaAreaAnchorX+280,o).column,u.row=o-n.props.handWritingFormulaAreaAnchorY>150?r.renderer.pixelToScreenCoordinates(t,o).row:r.renderer.pixelToScreenCoordinates(t,n.props.handWritingFormulaAreaAnchorY+150).row;for(var l="/*".concat(n.props.num,"*/"),s=u.column-c.column-l.length,p=0;p<s;p++)l+=" ";for(var d=0;d<u.row-c.row;d++){l+="\n";for(var f=0;f<u.column;f++)l+=" "}for(var h=r.session.getTextRange({start:{row:c.row,column:c.column},end:{row:i.row,column:i.column}}).split("\n"),m=0;m<h.length;m++)if(-1===h[m].indexOf(a)&&!/^[\n\s]+$/.test(h[m])){i.row-=h.length-m,i.column=0;break}r.session.replace({start:{row:c.row,column:c.column},end:{row:i.row,column:i.column}},l),n.props.updateHandWritingFormulaAreaBackgroundWord(n.props.num,l),n.props.activeTextFileHandWritingFormulaAreaHandWritingFormulaEditor.resize(),n.props.handWritingFormulaAreaExchange&&n.props.activeTextFileHandWritingFormulaAreaCodeEditor.resize(),n.props.updateHandWritingFormulaAreaResizeEvent(n.props.num,!1),document.body.removeEventListener("mousemove",n.handleMouseAndTouchMoveResize),document.body.removeEventListener("touchmove",n.handleMouseAndTouchMoveResize),document.body.removeEventListener("mouseup",n.handleMouseAndTouchUpResize),document.body.removeEventListener("touchend",n.handleMouseAndTouchUpResize)},n.state={prevEndRangeRow:0,prevEndRangeColumn:0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:this.props.style,onMouseDown:this.handleMouseDownOrTouchStart,onTouchStart:this.handleMouseDownOrTouchStart},i.a.createElement("button",{"touch-action":"auto",className:"handWritingFormulaAreaButton",id:"exchangeButton",onClick:this.handleExchange},i.a.createElement(l.FaExchangeAlt,null)),i.a.createElement("div",{"touch-action":"none",style:{backgroundColor:"#888",width:7,height:30,margin:0,padding:0,position:"absolute",right:0,bottom:0,cursor:"nwse-resize",zIndex:23},onMouseDown:this.handleMouseAndTouchDownResize,onTouchStart:this.handleMouseAndTouchDownResize}),i.a.createElement("div",{"touch-action":"none",style:{backgroundColor:"#888",width:30,height:7,margin:0,padding:0,position:"absolute",bottom:0,right:0,cursor:"nwse-resize",zIndex:23},onMouseDown:this.handleMouseAndTouchDownResize,onTouchStart:this.handleMouseAndTouchDownResize}),i.a.createElement(kt,{num:this.props.num,textfilenum:this.props.textfilenum,style:{position:"absolute",width:Math.floor(this.props.status.width-3),height:Math.floor(this.props.status.height-3),top:0,left:0}}),function(){if(e.props.status.exchange)return i.a.createElement(Ct,{num:e.props.num,textfilenum:e.props.textfilenum,code:e.props.status.code,style:{position:"absolute",width:Math.floor(e.props.status.width-3),height:Math.floor(e.props.status.height-3),top:0,left:0}})}())}}])&&Pt(n.prototype,o),r&&Pt(n,r),t}())||Rt)||Rt;function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ut(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt,$t=Object(u.b)(function(e){var t=e.state;return{runAreaRenderingFlag:t.runAreaRenderingFlag,listAreaRenderingFlag:t.listAreaRenderingFlag,runAreaPosition:t.runAreaPosition,textFile:t.textFile}})(Bt=Object(u.c)(Bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ut(this,zt(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(oe,null),this.props.runAreaRenderingFlag&&i.a.createElement(ge,{style:{position:"absolute",left:this.props.runAreaPosition.x,top:this.props.runAreaPosition.y,width:400,height:400,borderRadius:5,boxShadow:"2px 2px 10px grey",zIndex:26}}),this.props.listAreaRenderingFlag&&i.a.createElement(ke,null),this.props.textFile.map(function(e,t){return e.handWritingFormulaAreas.map(function(e,n){return i.a.createElement(Ht,{style:{position:"absolute",width:Math.floor(e.width),height:Math.floor(e.height),top:e.y,left:e.x,visibility:e.visible?"visible":"hidden"},status:e,textfilenum:t,num:n,key:n})})}))}}])&&It(n.prototype,o),r&&It(n,r),t}())||Bt)||Bt,Yt=(n(403),n(2));function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function qt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qt,Jt=Object(u.b)(function(e){var t=e.state;return{activeTextFileFileName:t.activeTextFile.fileName,activeTextFileText:t.activeTextFile.text,editor:t.editor,textFile:t.textFile,activeTextFileHandWritingFormulaAreas:t.activeTextFile.handWritingFormulaAreas,updateSaveEvent:t.updateSaveEvent}})(Nt=Object(u.c)(Nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=qt(this,Gt(t).call(this,e))).download=function(e,t){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);var r=document.createElement("a");r.textContent="save",r.download="application/json"===t?"handWritingFormula.json":n.props.activeTextFileFileName,e="application/json"===t?JSON.stringify(e):e,r.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),r.dispatchEvent(o)},n.handleClick=function(){var e=n.props.editor.getValue();if("index.html"===n.props.activeTextFileFileName){var t=new DOMParser,o=null;try{(o=t.parseFromString(n.props.activeTextFileText,"text/html")).getElementsByTagName("parsererror").length&&(o=null)}catch(e){console.log(e)}o&&function(){for(var t=o.getElementsByTagName("script"),r=function(e){if(t[e].type){var o=n.props.textFile.find(function(n){return n.fileName===t[e].type});t[e].text=o.text}},a=0;a<t.length;a++)r(a);e=o.documentElement.outerHTML}()}n.download(e,"text/plain");var r=Object(Yt.n)(n.props.activeTextFileHandWritingFormulaAreas);r.forEach(function(e){e.handWritingFormulaEditor=null}),n.download(r,"application/json")},n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"save")}}])&&Xt(n.prototype,o),r&&Xt(n,r),t}())||Nt)||Nt;function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nn(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var an,cn=Object(u.b)(function(e){var t=e.state;return{updateHandWritingFormulaAreas:t.updateHandWritingFormulaAreas,updateHandWritingFormulaAreaId:t.updateHandWritingFormulaAreaId,editor:t.editor}})(Qt=Object(u.c)(Qt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=nn(this,on(t).call(this,e))).handleChange=function(e){var t=e.target.files,o=new FileReader;o.readAsText(t[0]),o.onload=function(){if("application/json"===t[0].type){n.props.updateHandWritingFormulaAreas([]);var e=JSON.parse(o.result);n.props.updateHandWritingFormulaAreas(e),n.props.updateHandWritingFormulaAreaId(e.length)}else n.props.editor.setValue(o.result)},delete n.inputFile},n.handleClick=function(){n.inputFile=document.createElement("input"),n.inputFile.type="file",n.inputFile.addEventListener("change",n.handleChange);var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.inputFile.dispatchEvent(e)},n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{"touch-action":"auto",style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"load"))}}])&&tn(n.prototype,o),r&&tn(n,r),t}())||Qt)||Qt;function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sn(e,t){return!t||"object"!==un(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fn=Object(u.b)("state")(an=Object(u.c)(an=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sn(this,pn(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{className:"dropDown",id:"modeSelect",style:{position:"absolute",left:this.props.style.x,top:this.props.style.y}},i.a.createElement(Jt,null),i.a.createElement(cn,null))}}])&&ln(n.prototype,o),r&&ln(n,r),t}())||an)||an;function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yn(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vn,xn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=yn(this,bn(t).call(this,e))).handleClick=function(e){var t=e.nativeEvent.x,o=e.nativeEvent.y;n.setState({click:!0,clickX:t,clickY:o})},n.handleDocumentClick=function(e){"file"!==e.target.id&&n.setState({click:!1})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.handleMouseLeave=function(){n.setState({fontColor:"#444"})},n.state={fontColor:"#444",click:!1,clickX:0,clickY:0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{"touch-action":"auto",id:"file",style:{color:this.state.fontColor},onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onClick:this.handleClick},"file"),function(){if(e.state.click)return i.a.createElement(fn,{style:{x:e.state.clickX,y:e.state.clickY}})}())}}])&&mn(n.prototype,o),r&&mn(n,r),t}();function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn;Object(u.b)(function(e){var t=e.state;return{hotReload:t.hotReload,updateHotReload:t.updateHotReload,iframeElement:t.iframeElement,stopButton:t.stopButton,runButton:t.runButton,updateRunButtonColor:t.updateRunButtonColor}})(vn=Object(u.c)(vn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=wn(this,kn(t).call(this,e))).handleClick=function(){var e=n.props.hotReload;n.props.updateHotReload(!e);var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.props.iframeElement?n.props.stopButton.dispatchEvent(t):(n.props.runButton.dispatchEvent(t),n.props.updateRunButtonColor({backgroundColor:" rgb(0, 185, 158)",fontColor:"#eee"}))},n.handleMouseLeave=function(){n.setState({fontColor:n.props.hotReload?"#fff":"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:n.props.hotReload?"#000":"rgb(0,185,158)"})},n.state={fontColor:"#000",backgroundColor:"#fff"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{"touch-action":"auto",style:{color:this.state.fontColor,backgroundColor:this.props.hotReload?"rgb(0,185,158)":"#fff"},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"HotReload")}}])&&En(n.prototype,o),r&&En(n,r),t}())||vn);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Tn(e,t){return!t||"object"!==Sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn;Object(u.b)(function(e){return{keyChange:e.state.keyChange}})(Fn=Object(u.c)(Fn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Tn(this,Rn(t).call(this,e))).handleClick=function(){n.props.keyChange()},n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"APIKeyShift")}}])&&On(n.prototype,o),r&&On(n,r),t}())||Fn);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Wn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(u.b)("state")(Mn=Object(u.c)(Mn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Wn(this,Ln(t).call(this,e))).handleClick=function(){for(var e=document.getElementsByClassName("error-msg");e.length>0;)e[0].parentNode.removeChild(e[0])},n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"errorDelete")}}])&&jn(n.prototype,o),r&&jn(n,r),t}())||Mn);var Hn,Dn=n(1002),In=n.n(Dn),Un=n(1003),zn=n.n(Un),Vn=n(1004),Nn=n.n(Vn),$n=n(1005),Yn=n.n($n),Kn=n(1006),Xn=n.n(Kn);n(1007);function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function Zn(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){Gn(a,o,r,c,i,"next",e)}function i(e){Gn(a,o,r,c,i,"throw",e)}c(void 0)})}}function Qn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Jn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,updateEditorValue:t.updateEditorValue,hotReload:t.hotReload,updateHotReload:t.updateHotReload,clearTextFile:t.clearTextFile,incrementId:t.incrementId,executeHTML:t.executeHTML,pushTextFile:t.pushTextFile}})(Hn=Object(u.c)(Hn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jn(this,eo(t).call(this,e))).undoStackReset=function(){var e=n.props.editor.session.$undoManager,t=e.$undoStack.concat(),o=e.$redoStack.concat();n.props.updateActiveUndoStack(t),n.props.updateActiveRedoStack(o);var r=n.props.editor.getValue();n.props.updateActiveText(r),n.props.editor.setValue("")},n.handleClick=Zn(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.hotReload,n.props.updateHotReload(!1),e.next=4,n.props.clearTextFile();case 4:n.undoStackReset(),n.props.pushTextFile({id:0,type:"html",fileName:"index.html",removed:!1,text:Xn.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:1,type:"javascript",fileName:"main.js",removed:!1,text:Nn.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:2,type:"css",fileName:"main.css",removed:!1,text:Yn.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:3,type:"glsl",fileName:"fragmentShader.glsl",removed:!1,text:In.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:4,type:"glsl",fileName:"vertexShader.glsl",removed:!1,text:zn.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.props.incrementId(),t&&(n.props.updateHotReload(t),o=n.props.textFile,n.props.executeHTML(o));case 16:case"end":return e.stop()}},e,this)})),n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"demo")}}])&&Qn(n.prototype,o),r&&Qn(n,r),t}())||Hn);var no,oo=n(1008),ro=n.n(oo),ao=n(1009),co=n.n(ao),io=n(1010),uo=n.n(io);function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function po(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){so(a,o,r,c,i,"next",e)}function i(e){so(a,o,r,c,i,"throw",e)}c(void 0)})}}function fo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ho(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yo(e,t){return(yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,updateEditorValue:t.updateEditorValue,hotReload:t.hotReload,updateHotReload:t.updateHotReload,clearTextFile:t.clearTextFile,incrementId:t.incrementId,executeHTML:t.executeHTML,pushTextFile:t.pushTextFile}})(no=Object(u.c)(no=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ho(this,mo(t).call(this,e))).undoStackReset=function(){var e=n.props.editor.session.$undoManager,t=e.$undoStack.concat(),o=e.$redoStack.concat();n.props.updateActiveUndoStack(t),n.props.updateActiveRedoStack(o);var r=n.props.editor.getValue();n.props.updateActiveText(r),n.props.editor.setValue(""),n.props.updateEditorValue("")},n.handleClick=po(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.hotReload,n.props.updateHotReload(!1),e.next=4,n.props.clearTextFile();case 4:n.undoStackReset(),n.props.pushTextFile({id:0,type:"html",fileName:"index.html",removed:!1,text:uo.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:1,type:"javascript",fileName:"main.js",removed:!1,text:ro.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:2,type:"css",fileName:"main.css",removed:!1,text:co.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.props.incrementId(),t&&(n.props.updateHotReload(t),o=n.props.textFile,n.props.executeHTML(o));case 12:case"end":return e.stop()}},e,this)})),n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yo(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"demo2")}}])&&fo(n.prototype,o),r&&fo(n,r),t}())||no);var bo,go=n(1011),vo=n.n(go),xo=n(1012),_o=n.n(xo),Eo=n(1013),wo=n.n(Eo),ko=n(1014),Ao=n.n(ko),Fo=n(1015),So=n.n(Fo);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function Ro(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){To(a,o,r,c,i,"next",e)}function i(e){To(a,o,r,c,i,"throw",e)}c(void 0)})}}function Co(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mo(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,updateEditorValue:t.updateEditorValue,hotReload:t.hotReload,updateHotReload:t.updateHotReload,clearTextFile:t.clearTextFile,incrementId:t.incrementId,executeHTML:t.executeHTML,pushTextFile:t.pushTextFile}})(bo=Object(u.c)(bo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Mo(this,Po(t).call(this,e))).undoStackReset=function(){var e=n.props.editor.session.$undoManager,t=e.$undoStack.concat(),o=e.$redoStack.concat();n.props.updateActiveUndoStack(t),n.props.updateActiveRedoStack(o);var r=n.props.editor.getValue();n.props.updateActiveText(r),n.props.editor.setValue(""),n.props.updateEditorValue("")},n.handleClick=Ro(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.hotReload,n.props.updateHotReload(!1),e.next=4,n.props.clearTextFile();case 4:n.undoStackReset(),n.props.pushTextFile({id:0,type:"html",fileName:"index.html",removed:!1,text:So.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:1,type:"javascript",fileName:"main.js",removed:!1,text:wo.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:2,type:"css",fileName:"main.css",removed:!1,text:Ao.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:3,type:"glsl",fileName:"fragmentShader.glsl",removed:!1,text:vo.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:4,type:"glsl",fileName:"vertexShader.glsl",removed:!1,text:_o.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.props.incrementId(),t&&(n.props.updateHotReload(t),o=n.props.textFile,n.props.executeHTML(o));case 16:case"end":return e.stop()}},e,this)})),n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"demo3")}}])&&Co(n.prototype,o),r&&Co(n,r),t}())||bo);var Wo,Lo=n(1016),Bo=n.n(Lo),Ho=n(1017),Do=n.n(Ho),Io=n(1018),Uo=n.n(Io),zo=n(1019),Vo=n.n(zo),No=n(1020),$o=n.n(No);function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function Xo(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){Ko(a,o,r,c,i,"next",e)}function i(e){Ko(a,o,r,c,i,"throw",e)}c(void 0)})}}function qo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Go(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,updateEditorValue:t.updateEditorValue,hotReload:t.hotReload,updateHotReload:t.updateHotReload,clearTextFile:t.clearTextFile,incrementId:t.incrementId,executeHTML:t.executeHTML,pushTextFile:t.pushTextFile}})(Wo=Object(u.c)(Wo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Go(this,Zo(t).call(this,e))).undoStackReset=function(){var e=n.props.editor.session.$undoManager,t=e.$undoStack.concat(),o=e.$redoStack.concat();n.props.updateActiveUndoStack(t),n.props.updateActiveRedoStack(o);var r=n.props.editor.getValue();n.props.updateActiveText(r),n.props.editor.setValue(""),n.props.updateEditorValue("")},n.handleClick=Xo(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.hotReload,n.props.updateHotReload(!1),e.next=4,n.props.clearTextFile();case 4:n.undoStackReset(),n.props.pushTextFile({id:0,type:"html",fileName:"index.html",removed:!1,text:$o.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:1,type:"javascript",fileName:"main.js",removed:!1,text:Uo.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:2,type:"css",fileName:"main.css",removed:!1,text:Vo.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:3,type:"glsl",fileName:"fragmentShader.glsl",removed:!1,text:Bo.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:4,type:"glsl",fileName:"vertexShader.glsl",removed:!1,text:Do.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.props.incrementId(),t&&(n.props.updateHotReload(t),o=n.props.textFile,n.props.executeHTML(o));case 16:case"end":return e.stop()}},e,this)})),n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qo(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"demo4")}}])&&qo(n.prototype,o),r&&qo(n,r),t}())||Wo);var Jo,er=n(1021),tr=n.n(er),nr=n(1022),or=n.n(nr),rr=n(1023),ar=n.n(rr);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function ur(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){ir(a,o,r,c,i,"next",e)}function i(e){ir(a,o,r,c,i,"throw",e)}c(void 0)})}}function lr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fr,hr=Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,updateEditorValue:t.updateEditorValue,hotReload:t.hotReload,updateHotReload:t.updateHotReload,clearTextFile:t.clearTextFile,incrementId:t.incrementId,executeHTML:t.executeHTML,pushTextFile:t.pushTextFile}})(Jo=Object(u.c)(Jo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=sr(this,pr(t).call(this,e))).undoStackReset=function(){var e=n.props.editor.session.$undoManager,t=e.$undoStack.concat(),o=e.$redoStack.concat();n.props.updateActiveUndoStack(t),n.props.updateActiveRedoStack(o);var r=n.props.editor.getValue();n.props.updateActiveText(r),n.props.editor.setValue(""),n.props.updateEditorValue("")},n.handleClick=ur(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.hotReload,n.props.updateHotReload(!1),e.next=4,n.props.clearTextFile();case 4:n.undoStackReset(),n.props.pushTextFile({id:0,type:"html",fileName:"index.html",removed:!1,text:or.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:1,type:"css",fileName:"main.css",removed:!1,text:tr.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:2,type:"javascript",fileName:"main.js",removed:!1,text:ar.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.props.incrementId(),t&&(n.props.updateHotReload(t),o=n.props.textFile,n.props.executeHTML(o));case 12:case"end":return e.stop()}},e,this)})),n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"noise")}}])&&lr(n.prototype,o),r&&lr(n,r),t}())||Jo)||Jo,mr=n(1024),yr=n.n(mr),br=n(1025),gr=n.n(br),vr=n(1026),xr=n.n(vr);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function wr(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){Er(a,o,r,c,i,"next",e)}function i(e){Er(a,o,r,c,i,"throw",e)}c(void 0)})}}function kr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ar(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Or,Tr=Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,updateEditorValue:t.updateEditorValue,hotReload:t.hotReload,updateHotReload:t.updateHotReload,clearTextFile:t.clearTextFile,incrementId:t.incrementId,executeHTML:t.executeHTML,pushTextFile:t.pushTextFile}})(fr=Object(u.c)(fr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ar(this,Fr(t).call(this,e))).undoStackReset=function(){var e=n.props.editor.session.$undoManager,t=e.$undoStack.concat(),o=e.$redoStack.concat();n.props.updateActiveUndoStack(t),n.props.updateActiveRedoStack(o);var r=n.props.editor.getValue();n.props.updateActiveText(r),n.props.editor.setValue(""),n.props.updateEditorValue("")},n.handleClick=wr(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.hotReload,n.props.updateHotReload(!1),e.next=4,n.props.clearTextFile();case 4:n.undoStackReset(),n.props.pushTextFile({id:0,type:"html",fileName:"index.html",removed:!1,text:gr.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:1,type:"css",fileName:"main.css",removed:!1,text:yr.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.undoStackReset(),n.props.pushTextFile({id:2,type:"javascript",fileName:"main.js",removed:!1,text:xr.a,undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}),n.props.incrementId(),t&&(n.props.updateHotReload(t),o=n.props.textFile,n.props.executeHTML(o));case 12:case"end":return e.stop()}},e,this)})),n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.state={fontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("button",{style:{color:this.state.fontColor},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},"default")}}])&&kr(n.prototype,o),r&&kr(n,r),t}())||fr)||fr;function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mr(e,t){return!t||"object"!==Rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wr=Object(u.b)("state")(Or=Object(u.c)(Or=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mr(this,Pr(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"auto",className:"dropDown",id:"modeSelect",style:{position:"absolute",left:this.props.style.x,top:this.props.style.y}},i.a.createElement(hr,null),i.a.createElement(Tr,null))}}])&&Cr(n.prototype,o),r&&Cr(n,r),t}())||Or)||Or;function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Hr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ur=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Hr(this,Dr(t).call(this,e))).handleClick=function(e){var t=e.nativeEvent.x,o=e.nativeEvent.y;n.setState({click:!0,clickX:t,clickY:o})},n.handleDocumentClick=function(e){"mode"!==e.target.id&&n.setState({click:!1})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.handleMouseLeave=function(){n.setState({fontColor:"#444"})},n.state={fontColor:"#444",click:!1,clickX:0,clickY:0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{"touch-action":"auto",id:"mode",style:{color:this.state.fontColor},onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onClick:this.handleClick},"mode"),function(){if(e.state.click)return i.a.createElement(Wr,{style:{x:e.state.clickX,y:e.state.clickY}})}())}}])&&Br(n.prototype,o),r&&Br(n,r),t}();function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Nr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nr(this,$r(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{id:"header"},i.a.createElement(xn,null),i.a.createElement(Ur,null))}}])&&Vr(n.prototype,o),r&&Vr(n,r),t}();function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Gr(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Gr(this,Zr(t).call(this,e))).handleMouseEnter=function(e){var t=n.state.fontColor;t[e]=" rgb(0, 185, 158)",n.setState({fontColor:t})},n.handleMouseLeave=function(e){var t=n.state.fontColor;t[e]="#000",n.setState({fontColor:t})},n.handleClick=function(e){n.props.selectionchange(n.extensions[e]),n.props.extensionchange(n.extensions[e]),n.props.handleextensionsclick()},n.extensions=["js","css","glsl"],n.state={fontColor:["#000","#000","#000"]},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"extensions"},i.a.createElement("ul",{style:{margin:0,padding:0}},this.extensions.map(function(t,n){return i.a.createElement("li",{key:t},i.a.createElement("p",{className:"extension",style:{color:e.state.fontColor[n]},onClick:function(){return e.handleClick(n)},onMouseEnter:function(){return e.handleMouseEnter(n)},onMouseLeave:function(){return e.handleMouseLeave(n)}},t))})))}}])&&qr(n.prototype,o),r&&qr(n,r),t}();function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function na(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aa,ca=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=na(this,oa(t).call(this,e))).handleClick=function(){n.setState({click:!0})},n.handleExtensionsClick=function(){n.setState({click:!1})},n.handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.selectionChange=function(e){n.setState({selection:e})},n.state={selection:"js",fontColor:"#000",click:!1},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{id:"extensionSelection",style:{color:this.state.fontColor},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},this.state.selection+" ▽"),function(){if(e.state.click)return i.a.createElement(Jr,{handleextensionsclick:e.handleExtensionsClick,selectionchange:e.selectionChange,extensionchange:e.props.extensionchange})}())}}])&&ta(n.prototype,o),r&&ta(n,r),t}();function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function la(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){ua(a,o,r,c,i,"next",e)}function i(e){ua(a,o,r,c,i,"throw",e)}c(void 0)})}}function sa(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pa(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ha=Object(u.b)(function(e){var t=e.state;return{textFile:t.textFile,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,incrementId:t.incrementId,id:t.id,pushTextFile:t.pushTextFile}})(aa=Object(u.c)(aa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pa(this,da(t).call(this,e))).handleInputChange=function(e){n.setState({inputValue:e.target.value})},n.handleExtensionChange=function(e){n.setState({extensionName:e})},n.handleClick=la(regeneratorRuntime.mark(function e(){var t,o,r,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.textFile.some(function(e){return e.fileName===n.state.inputValue+"."+n.state.extensionName})){e.next=12;break}return n.props.incrementId(),t=n.props.id,o=function(){var e;switch(n.state.extensionName){case"js":e="javascript";break;case"css":e="css";break;case"glsl":e="glsl"}return e}(),r=n.props.editor.session.$undoManager,a=r.$undoStack.slice(),c=r.$redoStack.slice(),e.next=9,n.props.updateActiveUndoStack(a);case 9:return e.next=11,n.props.updateActiveRedoStack(c);case 11:n.props.pushTextFile({id:t,type:o,fileName:n.state.inputValue+"."+n.state.extensionName,removed:!1,text:"",undoStack:[],redoStack:[],handWritingFormulaAreaId:0,handWritingFormulaAreas:[]});case 12:case"end":return e.stop()}},e,this)})),n.handleMouseEnter=function(){n.setState({createButtonFontColor:" rgb(0, 185, 158)"})},n.handleMouseLeave=function(){n.setState({createButtonFontColor:"#000"})},n.state={inputValue:"main",extensionName:"js",createButtonFontColor:"#000"},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"auto",className:"dropDown",id:"createTextForm",style:{top:this.props.y,left:this.props.x}},i.a.createElement("input",{type:"text",id:"fileName",value:this.state.inputValue,onChange:this.handleInputChange}),i.a.createElement(ca,{extensionchange:this.handleExtensionChange}),i.a.createElement("button",{id:"createButton",style:{color:this.state.createButtonFontColor},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},"create"))}}])&&sa(n.prototype,o),r&&sa(n,r),t}())||aa)||aa;function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ba(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xa,_a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ba(this,ga(t).call(this,e))).handleMouseEnter=function(){n.setState({fontColor:" rgb(0, 185, 158)"})},n.handleMouseLeave=function(){n.setState({fontColor:"#000"})},n.handleClick=function(e){n.setState({click:!0,clickX:e.nativeEvent.x,clickY:e.nativeEvent.y})},n.handleDocumentClick=function(e){"addButton"!==e.target.id&&"fileName"!==e.target.id&&"extensionSelection"!==e.target.id&&"extensions"!==e.target.id&&"extension"!==e.target.className&&n.setState({click:!1})},n.state={fontColor:"#000",click:!1,clickX:0,clickY:0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{"touch-action":"auto",id:"addButton",style:{color:this.state.fontColor},onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onClick:this.handleClick},"+"),function(){if(e.state.click)return i.a.createElement(ha,{x:e.state.clickX,y:0})}())}}])&&ya(n.prototype,o),r&&ya(n,r),t}();function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function ka(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){wa(a,o,r,c,i,"next",e)}function i(e){wa(a,o,r,c,i,"throw",e)}c(void 0)})}}function Aa(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fa(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sa(e){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ta,Ra=Object(u.b)(function(e){var t=e.state;return{hotReload:t.hotReload,updateHotReload:t.updateHotReload,editor:t.editor,updateActiveUndoStack:t.updateActiveUndoStack,updateActiveRedoStack:t.updateActiveRedoStack,updateActiveText:t.updateActiveText,textFile:t.textFile,changeActiveTextFile:t.changeActiveTextFile,updateHandWritingFormulaAreaAnchor:t.updateHandWritingFormulaAreaAnchor,executeHTML:t.executeHTML,activeTextFileFileName:t.activeTextFile.fileName,activeTextFile:t.activeTextFile,removeTextFile:t.removeTextFile,updateHandWritingFormulaAreaVisible:t.updateHandWritingFormulaAreaVisible,activeTextFileUndoStack:t.activeTextFile.undoStack,activeTextFileRedoStack:t.activeTextFile.redoStack,activeTextFileId:t.activeTextFileId}})(xa=Object(u.c)(xa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Fa(this,Sa(t).call(this,e))).handleMouseEnter=function(){n.setState({mouseEnter:!0,deleteMouseEnter:!1})},n.handleMouseLeave=function(){n.setState({mouseEnter:!1,deleteMouseEnter:!1})},n.handleDeleteMouseEnter=function(){n.setState({deleteMouseEnter:!0})},n.handleDeleteMouseLeave=function(){n.setState({deleteMouseEnter:!1})},n.handleClick=function(){var e=ka(regeneratorRuntime.mark(function e(t,o){var r,a,c,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("delete"===o.target.id||t===n.props.activeTextFileFileName){e.next=15;break}return r=n.props.hotReload,n.props.updateHotReload(!1),a=n.props.editor.session.$undoManager,c=a.$undoStack.slice(),i=a.$redoStack.slice(),e.next=8,n.props.updateActiveUndoStack(c);case 8:return e.next=10,n.props.updateActiveRedoStack(i);case 10:return u=n.props.textFile,l=u.findIndex(function(e){return e.fileName===t}),e.next=14,n.props.changeActiveTextFile(l);case 14:setTimeout(function(){a.reset();var e=n.props.activeTextFileUndoStack,t=n.props.activeTextFileRedoStack;if(a.$undoStack=e,a.$redoStack=t,n.props.textFile.forEach(function(e,t){e.handWritingFormulaAreas.forEach(function(e,o){if(t===n.props.activeTextFileId){var r="/*".concat(o,"*/");n.props.editor.$search.setOptions({needle:r,regExp:!1});var a=n.props.editor.$search.find(n.props.editor.session);if(a){var c=n.props.editor.renderer.textToScreenCoordinates(a.start);c.pageY+e.height>0&&c.pageY<window.innerHeight&&(n.props.updateHandWritingFormulaAreaAnchor(o,c.pageX,c.pageY),n.props.updateHandWritingFormulaAreaVisible(t,o,!0))}else n.props.updateHandWritingFormulaAreaVisible(t,o,!1)}else n.props.updateHandWritingFormulaAreaVisible(t,o,!1)})}),r){n.props.updateHotReload(r);var o=n.props.textFile;n.props.executeHTML(o)}},10);case 15:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.handleDeleteClick=function(){var e=ka(regeneratorRuntime.mark(function e(t){var o,r,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.hotReload,n.props.updateHotReload(!1),r=n.props.textFile,a=n.props.activeTextFileFileName===t?0:n.props.activeTextFileId,e.next=6,n.props.changeActiveTextFile(a);case 6:return c=r.find(function(e,n){return e.fileName===t}),e.next=9,n.props.removeTextFile(c);case 9:setTimeout(function(){var e=n.props.editor.session.$undoManager;e.reset();var t=Object(Yt.n)(n.props.activeTextFileUndoStack),r=Object(Yt.n)(n.props.activeTextFileRedoStack);if(e.$undoStack=t,e.$redoStack=r,o){n.props.updateHotReload(o);var a=n.props.textFile;n.props.executeHTML(a)}},10);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.state={mouseEnter:!1,deleteMouseEnter:!1},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){var e,t,n=this;return i.a.createElement("button",{"touch-action":"auto",style:(e=n.props.activeTextFileFileName===n.props.fileName,t=n.state.mouseEnter,{color:e?t?"#000":"#fff":t?" rgb(0, 185, 158)":"#000",backgroundColor:e?" rgb(0, 185, 158)":"#ccc"}),onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onClick:function(e){return n.handleClick(n.props.fileName,e)}},function(){if("index.html"!==n.props.fileName)return i.a.createElement("p",{id:"delete",onMouseEnter:n.handleDeleteMouseEnter,onMouseLeave:n.handleDeleteMouseLeave,style:(e=n.props.activeTextFileFileName===n.props.fileName,t=n.state.mouseEnter,o=n.state.deleteMouseEnter,{color:e?t?o?"#fff":"#000":o?"#000":"#fff":t?o?"#000":" rgb(0, 185, 158)":o?" rgb(0, 185, 158)":"#000",margin:"0 10px 0 0",float:"left"}),onClick:function(){return n.handleDeleteClick(n.props.fileName)}},"×");var e,t,o}(),i.a.createElement("p",{style:{margin:0,float:"left"}},this.props.fileName))}}])&&Aa(n.prototype,o),r&&Aa(n,r),t}())||xa)||xa;function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pa(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var La,Ba,Ha,Da,Ia,Ua,za,Va,Na,$a,Ya,Ka,Xa,qa,Ga,Za,Qa,Ja,ec,tc,nc,oc,rc,ac,cc,ic,uc,lc,sc,pc,dc,fc,hc,mc,yc,bc,gc,vc,xc,_c,Ec,wc,kc,Ac,Fc,Sc,Oc,Tc,Rc,Cc,Mc,Pc,jc,Wc,Lc,Bc,Hc,Dc,Ic,Uc,zc,Vc,Nc,$c,Yc,Kc,Xc=Object(u.b)(function(e){return{textFile:e.state.textFile}})(Ta=Object(u.c)(Ta=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pa(this,ja(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{id:"tab"},i.a.createElement(_a,null),this.props.textFile.map(function(e,t,n){return i.a.createElement(Ra,{key:t,fileName:e.fileName})}))}}])&&Ma(n.prototype,o),r&&Ma(n,r),t}())||Ta)||Ta;n(39),n(98);function qc(e,t,n,o,r,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(o,r)}function Gc(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){qc(a,o,r,c,i,"next",e)}function i(e){qc(a,o,r,c,i,"throw",e)}c(void 0)})}}function Zc(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function Qc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Jc(e,t,n,o,r){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ei=(La=Yt.d.bound,Ba=Yt.d.bound,Ha=Yt.d.bound,Da=Yt.d.bound,Ia=Yt.d.bound,Ua=Yt.d.bound,za=Yt.d.bound,Va=Yt.d.bound,Na=Yt.d.bound,$a=Yt.d.bound,Ya=Yt.d.bound,Ka=Yt.d.bound,Xa=Yt.d.bound,qa=Yt.d.bound,Ga=Yt.d.bound,Za=Yt.d.bound,Qa=Yt.d.bound,Ja=Yt.d.bound,ec=Yt.d.bound,tc=Yt.d.bound,nc=Yt.d.bound,oc=Yt.d.bound,rc=Yt.d.bound,ac=Yt.d.bound,cc=Yt.d.bound,ic=Yt.d.bound,uc=Yt.d.bound,lc=Yt.d.bound,sc=Yt.d.bound,pc=Yt.d.bound,dc=Yt.d.bound,fc=Yt.d.bound,hc=Yt.d.bound,mc=Yt.d.bound,yc=Yt.d.bound,bc=Yt.d.bound,gc=Yt.d.bound,vc=Yt.d.bound,xc=Yt.d.bound,_c=Yt.d.bound,Ec=Yt.d.bound,wc=Yt.d.bound,Ac=Jc((kc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zc(this,"keyArray",Ac,this),Zc(this,"key",Fc,this),Zc(this,"keyNum",Sc,this),Zc(this,"tabChangeEvent",Oc,this),Zc(this,"editorValue",Tc,this),Zc(this,"saveEvent",Rc,this),Zc(this,"executeHTML",Cc,this),Zc(this,"runButton",Mc,this),Zc(this,"listButton",Pc,this),Zc(this,"recycleButton",jc,this),Zc(this,"stopButton",Wc,this),Zc(this,"hotReload",Lc,this),Zc(this,"editor",Bc,this),Zc(this,"iframeElement",Hc,this),Zc(this,"textFile",Dc,this),Zc(this,"activeTextFile",Ic,this),Zc(this,"id",Uc,this),Zc(this,"runAreaRenderingFlag",zc,this),Zc(this,"listAreaRenderingFlag",Vc,this),Zc(this,"runAreaPosition",Nc,this),Zc(this,"runButtonColor",$c,this),Zc(this,"listButtonColor",Yc,this),Zc(this,"recycleButtonColor",Kc,this)}var t,n,o;return t=e,(n=[{key:"keyChange",value:function(){this.keyNum++,this.key=this.keyArray[this.keyNum%this.keyArray.length]}},{key:"updateTabChangeEvent",value:function(e){this.tabChangeEvent=e}},{key:"updateEditorValue",value:function(e){this.editorValue=e}},{key:"updateSaveEvent",value:function(e){this.saveEvent=e}},{key:"updateExecuteHTML",value:function(e){this.executeHTML=e}},{key:"updateRunButton",value:function(e){this.runButton=e}},{key:"updateListButton",value:function(e){this.listButton=e}},{key:"updateRecycleButton",value:function(e){this.recycleButton=e}},{key:"updateStopButton",value:function(e){this.stopButton=e}},{key:"updateHotReload",value:function(e){this.hotReload=e}},{key:"updateEditor",value:function(e){this.editor=e}},{key:"updateIframeElement",value:function(){var e=Gc(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.iframeElement=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pushTextFile",value:function(e){var t=this;this.textFile.some(function(t){return t.fileName===e.fileName})||(this.textFile.push(e),this.changeActiveTextFile(this.textFile.length-1),setTimeout(function(){t.editor.session.$undoManager.reset()},10))}},{key:"removeTextFile",value:function(){var e=Gc(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.textFile.filter(function(e){return e!==t}),e.next=3,n;case 3:this.textFile=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearTextFile",value:function(){var e=Gc(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[];case 2:this.textFile=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeActiveTextFile",value:function(){var e=Gc(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.textFile[t];case 2:this.activeTextFile=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateActiveText",value:function(e){this.activeTextFile.text=e}},{key:"updateActiveUndoStack",value:function(){var e=Gc(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.activeTextFile.undoStack=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateActiveRedoStack",value:function(){var e=Gc(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:this.activeTextFile.redoStack=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"incrementId",value:function(){this.id++}},{key:"updateRunAreaRenderingFlag",value:function(e){this.runAreaRenderingFlag=e}},{key:"updateListAreaRenderingFlag",value:function(e){this.listAreaRenderingFlag=e}},{key:"updateRunAreaPosition",value:function(e,t){this.runAreaPosition.x=e,this.runAreaPosition.y=t}},{key:"updateRunButtonColor",value:function(e){this.runButtonColor=e}},{key:"updateListButtonColor",value:function(e){this.listButtonColor=e}},{key:"updateRecycleButtonColor",value:function(e){this.recycleButtonColor=e}},{key:"pushHandWritingFormulaAreas",value:function(e){this.activeTextFile.handWritingFormulaAreas.push(e)}},{key:"updateHandWritingFormulaAreas",value:function(e){this.activeTextFile.handWritingFormulaAreas=e}},{key:"updateHandWritingFormulaAreaAnchor",value:function(e,t,n){this.activeTextFile.handWritingFormulaAreas[e].x=t,this.activeTextFile.handWritingFormulaAreas[e].y=n}},{key:"updateHandWritingFormulaAreaSize",value:function(e,t,n){this.activeTextFile.handWritingFormulaAreas[e].width=t,this.activeTextFile.handWritingFormulaAreas[e].height=n}},{key:"updateHandWritingFormulaAreaVisible",value:function(e,t,n){this.textFile[e].handWritingFormulaAreas[t].visible=n}},{key:"updateHandWritingFormulaAreaExchange",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].exchange=t}},{key:"updateHandWritingFormulaAreaCodeEditor",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].codeEditor=t}},{key:"updateHandWritingFormulaAreaHandWritingFormulaEditor",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].handWritingFormulaEditor=t}},{key:"updateHandWritingFormulaAreaCode",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].code=t}},{key:"updateHandWritingFormulaAreaCounter",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].glslResultCounter=t}},{key:"updateHandWritingFormulaAreaResultVariable",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].resultVariable=t}},{key:"updateHandWritingFormulaAreaModel",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].model=t}},{key:"updateHandWritingFormulaAreaResizeEvent",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].resizeEvent=t}},{key:"updateHandWritingFormulaAreaBackgroundWord",value:function(e,t){this.activeTextFile.handWritingFormulaAreas[e].backgroundWord=t}},{key:"updateHandWritingFormulaAreaId",value:function(e){this.activeTextFile.handWritingFormulaAreaId=e}},{key:"incrementHandWritingFormulaAreaId",value:function(){this.activeTextFile.handWritingFormulaAreaId++}},{key:"activeTextFileId",get:function(){var e=this;return this.textFile.findIndex(function(t){return t.fileName===e.activeTextFile.fileName})}}])&&Qc(t.prototype,n),o&&Qc(t,o),e}()).prototype,"keyArray",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{applicationKey:"331b4bdf-7ace-4265-94f1-b01504c78743",hmacKey:"44f4f4ce-fd0f-48a1-b517-65d2b9465413"},{applicationKey:"143af891-408e-43a9-9b2e-e43bc6c26793",hmacKey:"8992f8b6-0f74-4dd6-a578-c7ae4ca76302"}]}}),Fc=Jc(kc.prototype,"key",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{applicationKey:"331b4bdf-7ace-4265-94f1-b01504c78743",hmacKey:"44f4f4ce-fd0f-48a1-b517-65d2b9465413"}}}),Sc=Jc(kc.prototype,"keyNum",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jc(kc.prototype,"keyChange",[La],Object.getOwnPropertyDescriptor(kc.prototype,"keyChange"),kc.prototype),Oc=Jc(kc.prototype,"tabChangeEvent",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jc(kc.prototype,"updateTabChangeEvent",[Ba],Object.getOwnPropertyDescriptor(kc.prototype,"updateTabChangeEvent"),kc.prototype),Tc=Jc(kc.prototype,"editorValue",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jc(kc.prototype,"updateEditorValue",[Ha],Object.getOwnPropertyDescriptor(kc.prototype,"updateEditorValue"),kc.prototype),Rc=Jc(kc.prototype,"saveEvent",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateSaveEvent",[Da],Object.getOwnPropertyDescriptor(kc.prototype,"updateSaveEvent"),kc.prototype),Cc=Jc(kc.prototype,"executeHTML",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateExecuteHTML",[Ia],Object.getOwnPropertyDescriptor(kc.prototype,"updateExecuteHTML"),kc.prototype),Mc=Jc(kc.prototype,"runButton",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateRunButton",[Ua],Object.getOwnPropertyDescriptor(kc.prototype,"updateRunButton"),kc.prototype),Pc=Jc(kc.prototype,"listButton",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateListButton",[za],Object.getOwnPropertyDescriptor(kc.prototype,"updateListButton"),kc.prototype),jc=Jc(kc.prototype,"recycleButton",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateRecycleButton",[Va],Object.getOwnPropertyDescriptor(kc.prototype,"updateRecycleButton"),kc.prototype),Wc=Jc(kc.prototype,"stopButton",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateStopButton",[Na],Object.getOwnPropertyDescriptor(kc.prototype,"updateStopButton"),kc.prototype),Lc=Jc(kc.prototype,"hotReload",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jc(kc.prototype,"updateHotReload",[$a],Object.getOwnPropertyDescriptor(kc.prototype,"updateHotReload"),kc.prototype),Bc=Jc(kc.prototype,"editor",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateEditor",[Ya],Object.getOwnPropertyDescriptor(kc.prototype,"updateEditor"),kc.prototype),Hc=Jc(kc.prototype,"iframeElement",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jc(kc.prototype,"updateIframeElement",[Ka],Object.getOwnPropertyDescriptor(kc.prototype,"updateIframeElement"),kc.prototype),Dc=Jc(kc.prototype,"textFile",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{id:0,type:"html",fileName:"index.html",removed:!1,text:"",undoStack:null,redoStack:null,handWritingFormulaAreaId:0,handWritingFormulaAreas:[]}]}}),Jc(kc.prototype,"pushTextFile",[Xa],Object.getOwnPropertyDescriptor(kc.prototype,"pushTextFile"),kc.prototype),Jc(kc.prototype,"removeTextFile",[qa],Object.getOwnPropertyDescriptor(kc.prototype,"removeTextFile"),kc.prototype),Jc(kc.prototype,"clearTextFile",[Ga],Object.getOwnPropertyDescriptor(kc.prototype,"clearTextFile"),kc.prototype),Ic=Jc(kc.prototype,"activeTextFile",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.textFile[0]}}),Jc(kc.prototype,"changeActiveTextFile",[Za],Object.getOwnPropertyDescriptor(kc.prototype,"changeActiveTextFile"),kc.prototype),Jc(kc.prototype,"activeTextFileId",[Yt.e],Object.getOwnPropertyDescriptor(kc.prototype,"activeTextFileId"),kc.prototype),Jc(kc.prototype,"updateActiveText",[Qa],Object.getOwnPropertyDescriptor(kc.prototype,"updateActiveText"),kc.prototype),Jc(kc.prototype,"updateActiveUndoStack",[Ja],Object.getOwnPropertyDescriptor(kc.prototype,"updateActiveUndoStack"),kc.prototype),Jc(kc.prototype,"updateActiveRedoStack",[ec],Object.getOwnPropertyDescriptor(kc.prototype,"updateActiveRedoStack"),kc.prototype),Uc=Jc(kc.prototype,"id",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jc(kc.prototype,"incrementId",[tc],Object.getOwnPropertyDescriptor(kc.prototype,"incrementId"),kc.prototype),zc=Jc(kc.prototype,"runAreaRenderingFlag",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jc(kc.prototype,"updateRunAreaRenderingFlag",[nc],Object.getOwnPropertyDescriptor(kc.prototype,"updateRunAreaRenderingFlag"),kc.prototype),Vc=Jc(kc.prototype,"listAreaRenderingFlag",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jc(kc.prototype,"updateListAreaRenderingFlag",[oc],Object.getOwnPropertyDescriptor(kc.prototype,"updateListAreaRenderingFlag"),kc.prototype),Nc=Jc(kc.prototype,"runAreaPosition",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:window.innerWidth-600,y:100}}}),Jc(kc.prototype,"updateRunAreaPosition",[rc],Object.getOwnPropertyDescriptor(kc.prototype,"updateRunAreaPosition"),kc.prototype),$c=Jc(kc.prototype,"runButtonColor",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"}}}),Jc(kc.prototype,"updateRunButtonColor",[ac],Object.getOwnPropertyDescriptor(kc.prototype,"updateRunButtonColor"),kc.prototype),Yc=Jc(kc.prototype,"listButtonColor",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"}}}),Jc(kc.prototype,"updateListButtonColor",[cc],Object.getOwnPropertyDescriptor(kc.prototype,"updateListButtonColor"),kc.prototype),Kc=Jc(kc.prototype,"recycleButtonColor",[Yt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{backgroundColor:"#eee",fontColor:" rgb(0, 185, 158)"}}}),Jc(kc.prototype,"updateRecycleButtonColor",[ic],Object.getOwnPropertyDescriptor(kc.prototype,"updateRecycleButtonColor"),kc.prototype),Jc(kc.prototype,"pushHandWritingFormulaAreas",[uc],Object.getOwnPropertyDescriptor(kc.prototype,"pushHandWritingFormulaAreas"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreas",[lc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreas"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaAnchor",[sc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaAnchor"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaSize",[pc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaSize"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaVisible",[dc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaVisible"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaExchange",[fc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaExchange"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaCodeEditor",[hc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaCodeEditor"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaHandWritingFormulaEditor",[mc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaHandWritingFormulaEditor"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaCode",[yc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaCode"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaCounter",[bc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaCounter"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaResultVariable",[gc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaResultVariable"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaModel",[vc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaModel"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaResizeEvent",[xc],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaResizeEvent"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaBackgroundWord",[_c],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaBackgroundWord"),kc.prototype),Jc(kc.prototype,"updateHandWritingFormulaAreaId",[Ec],Object.getOwnPropertyDescriptor(kc.prototype,"updateHandWritingFormulaAreaId"),kc.prototype),Jc(kc.prototype,"incrementHandWritingFormulaAreaId",[wc],Object.getOwnPropertyDescriptor(kc.prototype,"incrementHandWritingFormulaAreaId"),kc.prototype),kc);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oi(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",function(){return ii});var ci={state:new ei},ii=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oi(this,ri(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){a.a.use()}},{key:"componentWillUnmount",value:function(){a.a.unuse()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,ci,i.a.createElement(i.a.Fragment,null,i.a.createElement(Kr,null),i.a.createElement(X,null),i.a.createElement(Xc,null),i.a.createElement($t,null))))}}])&&ni(n.prototype,o),r&&ni(n,r),t}()},444:function(e,t,n){var o,r=0,a=n(445);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(t.locals=a.locals),t.use=t.ref=function(){return r++||(o=n(62)(a,{hmr:!0})),t},t.unuse=t.unref=function(){r>0&&!--r&&(o(),o=null)}},445:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,"body {\n  background: #ddd;\n  overflow: hidden;\n  margin: 0; }\n\n#header {\n  position: absolute;\n  background-color: #eee;\n  height: 30px;\n  width: 100vw;\n  z-index: 25; }\n  #header button {\n    height: 30px;\n    width: 100px;\n    font-size: 20px;\n    background-color: #eee;\n    border: none;\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    position: absolute; }\n\n#file {\n  left: 0;\n  z-index: 22; }\n\n#mode {\n  left: 100px;\n  z-index: 22; }\n\n#runAndStop {\n  background-color: #ddd;\n  position: absolute;\n  top: 30px;\n  width: 100%;\n  height: 50px;\n  z-index: 24; }\n  #runAndStop button {\n    width: 50px;\n    height: 50px;\n    font-size: 30px;\n    border-radius: 100%;\n    border: none;\n    outline: 0;\n    margin: 0 0 0 10px;\n    line-height: 50%;\n    padding: 0; }\n\n#tab {\n  position: absolute;\n  top: 80px;\n  width: 100vw;\n  height: 30px;\n  background-color: #ccc;\n  z-index: 24; }\n  #tab button {\n    margin: 0 2px;\n    padding: 0 10px;\n    height: 29px;\n    float: left;\n    font-size: 15px;\n    outline: 0;\n    background-color: #ccc;\n    border-style: hidden solid;\n    border-color: #888;\n    border-width: 1px;\n    text-align: center;\n    vertical-align: middle; }\n\n#addButton {\n  background-color: #ccc;\n  color: #000;\n  width: 30px;\n  z-index: 24; }\n\n.dropDown {\n  background-color: #fff;\n  border-radius: 10px;\n  color: #444;\n  position: absolute;\n  z-index: 25;\n  text-align: center;\n  box-shadow: 2px 2px 10px gray;\n  z-index: 24; }\n  .dropDown button {\n    background-color: #fff;\n    border: none;\n    font-size: 15px;\n    border-radius: 10px;\n    outline: 0; }\n\n#createTextForm {\n  width: 160px;\n  height: 75px;\n  z-index: 24; }\n  #createTextForm button {\n    background-color: #fff;\n    border: none;\n    margin: 0;\n    width: 160px;\n    height: 30px; }\n\n#modeSelect {\n  width: 200px;\n  z-index: 24; }\n  #modeSelect button {\n    position: relative;\n    font-size: 15px;\n    background-color: #fff;\n    border: none;\n    margin: 0;\n    width: 200px;\n    height: 30px; }\n\n#fileName {\n  width: 80%;\n  outline: 0;\n  border: none;\n  border-bottom-style: solid;\n  text-align: center;\n  font-size: 15px;\n  border-bottom-width: 2px;\n  z-index: 24; }\n\n#extensionSelection {\n  z-index: 1;\n  width: 100%;\n  font-size: 15px;\n  color: #000;\n  margin: 0;\n  z-index: 24; }\n\n#extensions {\n  position: absolute;\n  z-index: 6;\n  background-color: #eee;\n  width: 160px;\n  height: 75px;\n  left: 5px;\n  box-shadow: 2px 2px 10px gray;\n  border-radius: 7px;\n  overflow: auto;\n  z-index: 24; }\n\n.extension {\n  margin: 0;\n  padding: 0;\n  font-size: 15px;\n  z-index: 24; }\n\n#result {\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n  line-height: 500%;\n  font-size: 15px;\n  overflow: auto;\n  z-index: 24; }\n\n#handWritingFormulaArea {\n  border: #000 1px solid;\n  z-index: 20; }\n  #handWritingFormulaArea .ms-editor {\n    background-color: #fff; }\n\n.handWritingFormulaAreaButton {\n  background-color: #00b99e;\n  color: #fff;\n  width: 30px;\n  height: 30px;\n  font-size: 20px;\n  position: absolute;\n  padding: 4px;\n  z-index: 21;\n  bottom: 3px;\n  border-radius: 50%;\n  border-color: #00b99e;\n  outline: none; }\n\n#deleteButton {\n  padding: 0;\n  right: calc(30px * 6 + 61px); }\n\n#clearButton {\n  padding: 0;\n  right: calc(30px * 5 + 51px); }\n\n#undoButton {\n  right: calc(30px * 4 + 41px); }\n\n#redoButton {\n  right: calc(30px * 3 + 31px); }\n\n#convertButton {\n  right: calc(30px * 2 + 21px); }\n\n#insertCodeButton {\n  right: calc(30px * 1 + 11px); }\n\n#exchangeButton {\n  right: calc(30px * 0 + 3px);\n  bottom: 5px;\n  z-index: 23; }\n\n.marker {\n  background-color: #f00;\n  position: absolute; }\n\n#resultVariableView {\n  position: absolute;\n  z-index: 21;\n  bottom: 5px;\n  left: 5px;\n  border: solid 1px;\n  padding: 1px 4px;\n  color: #fff;\n  background-color: #00b99e;\n  font-family: 'arial'; }\n",""])},473:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(312),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(200),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(276),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_sub__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(313),core_js_modules_es6_string_sub__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_sub__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_string_sup__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(315),core_js_modules_es6_string_sup__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_string_sup__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(249),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(37),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(38),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(275),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(235),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(236),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_12__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var katex=__webpack_require__(316),mathjs=__webpack_require__(317),mathIntegral=__webpack_require__(374),atl=__webpack_require__(390),acorn=__webpack_require__(915);mathjs.import(mathIntegral);var code="",latex2js,radix,frac,pow,sin,cos,tan,leftright,naturalLog,log,sum,definiteIntegral,indefiniteIntegral,differential,limit,matrix,dot,matrixMultiplication,matrixOperations,_matrixLeftRightShape,_shape,nextMulti,codeSearchVariable,codeSearchArray,codeSearchFunction,splitCodeClose,_vecShape,isVector;splitCodeClose=function(e){return/=[\n\s]*$/.test(e)&&(e+="''"),e.split("{").length>e.split("}").length?e+="".concat(function(){for(var t="",n=0;n<e.split("{").length-e.split("}").length;n++)t+="}";return t}()):e.split("{").length<e.split("}").length&&(e="".concat(function(){for(var t="",n=0;n<e.split("}").length-e.split("{").length;n++)t+="{";return t}())+e),e.split("(").length>e.split(")").length?e+="".concat(function(){for(var t="",n=0;n<e.split("(").length-e.split(")").length;n++)t+=")";return t}()):e.split("(").length<e.split(")").length&&(e="".concat(function(){for(var t="",n=0;n<e.split(")").length-e.split("(").length;n++)t+="(";return t}())+e),/^[\s\n]*\([\s\S]*\)[\s\n\;]*$/.test(e)&&(e=(e=e.replace(/^[\s\n]*\(/,"")).replace(/\)[\s\n;]*$/,"")),/return/.test(e)&&(e=e.replace("return","")),/break/.test(e)&&(e=e.replace("break","")),e},codeSearchVariable=function(e,t){var n=e.match(/\/\*\d+\*\//)[0],o=e.split(n);/=[\n\s]*$/.test(o[0])&&(o[0]=o[0].replace(/=[\n\s]*$/,"=0;"));var r="\n const ".concat("yukiShimadaHa22Sai",'="').concat("yukiShimadaHa22Sai",'";\n');/=>[\s\n]*$/.test(o[0])?o[0]+="{\n      ".concat(r,"}"):o[0]=o[0]+r;var a=[];!function e(t){for(var n=t,r=0,c="",i=o[0].length-1;i>=0;i--){var u=o[0][i];if("}"===u?n++:"{"===u&&r++,n===r){a.push(c),e(t+1);break}c=u+c,0===i&&a.push(c)}}(1);var c=[];return a.forEach(function(e){try{c.push(acorn.parse(splitCodeClose(e)).body.some(function(e){return e.type&&"VariableDeclaration"===e.type&&e.declarations&&!e.declarations.some(function(e){return e.init&&e.init.type&&"ArrowFunctionExpression"===e.init.type})&&e.declarations.some(function(e){return e.id&&e.id.name&&e.id.name===t})||"FunctionDeclaration"===e.type&&e.params&&e.params.some(function(e){return e.type&&"Identifier"===e.type&&e.name&&e.name===t})&&e.body&&e.body.body&&e.body.body.some(function(e){return e.type&&"VariableDeclaration"===e.type&&e.declarations&&e.declarations.some(function(e){return e.type&&"VariableDeclarator"===e.type&&e.id&&e.id.type&&"Identifier"===e.id.type&&e.id.name&&"yukiShimadaHa22Sai"===e.id.name&&e.init&&e.init.type&&"Literal"===e.init.type&&e.init.value&&"yukiShimadaHa22Sai"===e.init.value})})||"VariableDeclaration"===e.type&&e.declarations&&e.declarations.some(function(e){return e.init&&e.init.type&&"ArrowFunctionExpression"===e.init.type&&e.init.params&&e.init.params.some(function(e){return e.type&&"Identifier"===e.type&&e.name&&e.name===t})&&e.init.body&&e.init.body.body&&e.init.body.body.some(function(e){return e.type&&"VariableDeclaration"===e.type&&e.declarations&&e.declarations.some(function(e){return e.type&&"VariableDeclarator"===e.type&&e.id&&e.id.type&&"Identifier"===e.id.type&&e.id.name&&"yukiShimadaHa22Sai"===e.id.name&&e.init.type&&"Literal"===e.init.type&&e.init.value&&"yukiShimadaHa22Sai"===e.init.value})})})||"ForStatement"===e.type&&e.test&&e.test.type&&"BinaryExpression"===e.test.type&&e.test.left&&e.test.left.type&&"Identifier"===e.test.left.type&&e.test.left.name&&e.test.left.name===t&&e.body&&e.body.type&&"BlockStatement"===e.body.type&&e.body.body&&e.body.body.some(function(e){return e.type&&"VariableDeclaration"===e.type&&e.declarations&&e.declarations.some(function(e){return e.type&&"VariableDeclarator"===e.type&&e.id&&e.id.type&&"Identifier"===e.id.type&&e.id.name&&"yukiShimadaHa22Sai"===e.id.name&&e.init&&e.init.type&&"Literal"===e.init.type&&e.init.value&&"yukiShimadaHa22Sai"===e.init.value})})}))}catch(e){console.log(e)}}),c.length>0&&c.reduce(function(e,t){return e||t})},codeSearchFunction=function(e,t){var n=e.split(/\/\*\d+\*\//),o=[],r=[];!function e(t){for(var r=t,a=0,c="",i=n[0].length-1;i>=0;i--){var u=n[0][i];if("}"===u?r++:"{"===u&&a++,r===a){o.push(c),e(t+1);break}c=u+c,0===i&&o.push(c)}}(1),function e(t){for(var o=t,a=0,c="",i=0;i<n[1].length;i++){var u=n[1][i];if("{"===u?o++:"}"===u&&a++,o===a){r.push(c),e(t+1);break}c+=u,i===n[1].length-1&&r.push(c)}}(1);var a=[],c=[];return o.forEach(function(e){try{a.push(acorn.parse(splitCodeClose(e)).body.some(function(e){return"VariableDeclaration"===e.type&&e.declarations.some(function(e){return"ArrowFunctionExpression"===e.init.type})&&e.declarations.some(function(e){return e.id.name===t})||"FunctionDeclaration"===e.type&&e.id.name===t}))}catch(e){console.log(e)}}),r.forEach(function(e){try{c.push(acorn.parse(splitCodeClose(e)).body.some(function(e){return"FunctionDeclaration"===e.type&&e.id.name===t}))}catch(e){console.log(e)}}),a.length>0&&c.length>0&&(a.reduce(function(e,t){return e||t})||c.reduce(function(e,t){return e||t}))},codeSearchArray=function(e,t){var n=e.split(/\/\*\d+\*\//),o=[];!function e(t){for(var r=t,a=0,c="",i=n[0].length-1;i>=0;i--){var u=n[0][i];if("}"===u?r++:"{"===u&&a++,r===a){o.push(c),e(t+1);break}c=u+c,0===i&&o.push(c)}}(1);var r=[];return o.forEach(function(e){try{r.push(acorn.parse(splitCodeClose(e)).body.some(function(e){return"VariableDeclaration"===e.type&&e.declarations.some(function(e){return"ArrayExpression"===e.init.type})&&e.declarations.some(function(e){return e.id.name===t})||"FunctionDeclaration"===e.type&&e.params.some(function(e){return"Identifier"===e.type&&e.name===t})&&e.body.body.some(function(e){return"VariableDeclaration"===e.type&&e.declarations.some(function(e){return"VariableDeclarator"===e.type&&"Identifier"===e.id.type&&e.id.name===innerJudgmentText&&"Literal"===e.init.type&&e.init.value===innerJudgmentText})})||"VariableDeclaration"===e.type&&e.declarations.some(function(e){return"ArrowFunctionExpression"===e.init.type&&e.init.params.some(function(e){return"Identifier"===e.type&&e.name===t})&&e.init.body.body.some(function(e){return"VariableDeclaration"===e.type&&e.declarations.some(function(e){return"VariableDeclarator"===e.type&&"Identifier"===e.id.type&&e.id.name===innerJudgmentText&&"Literal"===e.init.type&&e.init.value===innerJudgmentText})})})}))}catch(e){console.log(e)}}),r.length>0&&r.reduce(function(e,t){return e||t})},radix=function(e){return e.index?"Math.pow(".concat(_shape(e.body),",1/").concat(_shape(e.index.body),")"):"leftright"===e.body.body[0].type?"Math.sqrt".concat(_shape(e.body.body)):"Math.sqrt(".concat(_shape(e.body.body),")")},isVector=function isVector(input){var variable=[],variableArray=[],variableFunction=[],isVectorShape=function e(t){if(t&&0!==t.length)if(Array.isArray(t)||(t=[t]),Array.isArray(t[0]))t.forEach(function(t){e(t)});else switch(t[0].type){case"accent":var n=_shape(t[0].base.body);variableArray.push(n),t.length>1&&e(t.slice(1,t.length));break;case"mathord":for(var o=[],r=0,a=!1,c=0;c<t.length;c++)if("mathord"===t[c].type||"textord"===t[c].type)o.push(t[c]),r++;else{if("leftright"!==t[c].type)break;var i=_shape(o).split("*");if(!codeSearchFunction(code,i[i.length-1]))break;variable=variable.concat(i.slice(0,i.length-1)),variableFunction.push(i[i.length-1]),t.length>r&&e(t.slice(r,t.length)),a=!0}if(!a){var u=o.findIndex(function(e){return"\\pi"===e.text});if(-1!==u){if(0!==u){var l=_shape(o.slice(0,u)).split("*");variable=variable.concat(l)}t.length>u+1&&e(t.slice(u+1,t.length))}else{var s=_shape(o).split("*");variable=variable.concat(s),t.length>r&&e(t.slice(r,t.length))}}break;default:if(t[0].hasOwnProperty("body")&&e(t[0].body),t[0].hasOwnProperty("base")&&e(t[0].base),t[0].hasOwnProperty("sup")&&e(t[0].sup),t[0].hasOwnProperty("sub")&&e(t[0].sub),t[0].hasOwnProperty("denom")&&e(t[0].denom),t[0].hasOwnProperty("numer")&&e(t[0].numer),!(t.length>1))return;e(t.slice(1,t.length))}};isVectorShape(input),variable=variable.filter(function(e,t,n){return n.indexOf(e)===t}),variableArray=variableArray.filter(function(e,t,n){return n.indexOf(e)===t}),variableFunction=variableFunction.filter(function(e,t,n){return n.indexOf(e)===t});var str="";variable.forEach(function(e){/^\d*$/.test(e)||(str+="let ".concat(e,"=0;"))}),variableArray.forEach(function(e){/^\d*$/.test(e)||(str+="let ".concat(e,"=[];"))}),variableFunction.forEach(function(e){/^\d*$/.test(e)||(str+="let ".concat(e,"=()=>{};"))}),input[0]&&input[0].hasOwnProperty("type")&&"atom"===input[0].type&&(input=input.slice(1,input.length)),str+=_shape(input);try{return Array.isArray(eval(str))}catch(e){console.log(e)}},frac=function(e){return isVector(e.numer.body)?"".concat(_shape(e.numer.body),".map(e=>e/(").concat(_shape(e.denom.body),"))"):"((".concat(_shape(e.numer.body),")/(").concat(_shape(e.denom.body),"))")},pow=function(e){return"Math.pow(".concat("leftright"===e.base.type?_shape(e.base.body):_shape(e.base),",").concat("leftright"===e.sup.body[0].type?_shape(e.sup.body[0].body):_shape(e.sup.body),")")},sin=function(e){return e?"leftright"===e.type?"Math.sin".concat(_shape(e)):"Math.sin(".concat(_shape(e),")"):"sin"},cos=function(e){return e?"leftright"===e.type?"Math.cos".concat(_shape(e)):"Math.cos(".concat(_shape(e),")"):"cos"},tan=function(e){return e?"leftright"===e.type?"Math.tan".concat(_shape(e)):"Math.tan(".concat(_shape(e),")"):"tan"},leftright=function(e){return"["===e[0].left&&"]"===e[0].right?"Math.floor(".concat(_shape(e[0].body),")").concat(nextMulti(e,1)):"|"===e[0].left&&"|"===e[0].right?isVector(e[0].body)?"Math.sqrt(".concat(_shape(e[0].body),".reduce((pre,cur)=>pre+Math.pow(cur,2),0))s").concat(nextMulti(e,1)):"Math.abs(".concat(_shape(e[0].body),")").concat(nextMulti(e,1)):isVector(e.slice(1,e.length))?isVector([e[0]])?"".concat(_shape(e[0]),".reduce((pre,cur,num)=>pre+cur*").concat(_shape(e.slice(1,e.length)),"[num],0)"):"".concat(_shape(e.slice(1,e.length)),".map(e=>e*(").concat(_shape(e[0].body),"))"):"(".concat(_shape(e[0].body),")").concat(nextMulti(e,1))},naturalLog=function(e){return e?"leftright"===e.type?"Math.log".concat(_shape(e)):"Math.log(".concat(_shape(e),")"):"log"},log=function(e){if(!e)return"log";var t=_shape(e[0].sub.body),n=e[1];return"leftright"===n.type?"(Math.log".concat(_shape(n),"/Math.log(").concat(t,"))"):"(Math.log(".concat(_shape(n),")/Math.log(").concat(t,"))")},sum=function(e){var t=_shape(e.slice(1,e.length)),n=e[0].sub.body.findIndex(function(e){return"atom"===e.type&&"="===e.text}),o=_shape(e[0].sub.body.slice(0,n)),r=_shape(e[0].sub.body.slice(n+1,e[0].sub.body.length)),a=_shape(e[0].sup.body);return"((() => {\n        let result = 0;\n        for(let ".concat(o,"=").concat(r,";").concat(o,"<").concat(a,";").concat(o,"++){\n            result += ").concat(t,";\n        }\n        return result;\n    })())")},definiteIntegral=function(e,t){var n=_shape(e[0].sub.body),o=_shape(e[0].sup.body),r=_shape(e.slice(1,t)).replace(/Math\./g,""),a=_shape(e[t+1]);return"((".concat(a,"=>").concat(latex2js(atl(mathjs.integral(r,a).toString())),")(").concat(o,")-(").concat(a,"=>").concat(latex2js(atl(mathjs.integral(r,a).toString())),")(").concat(n,"))")},indefiniteIntegral=function(e,t){var n=_shape(e.slice(1,t)).replace(/Math\./g,""),o=_shape(e[t+1]);return"(".concat(latex2js(atl(mathjs.integral(n,o).toString())),")")},differential=function(e){var t=_shape(e.base).replace(/Math\./g,"").replace(/pow\((.*)\,(.*)\)/g,"$1^$2");return mathjs.derivative(t,"x").toString()},limit=function(e){var t=e[0].sub.body.findIndex(function(e){return"\\rightarrow"===e.value});return-1===t?"lim":"((".concat(_shape(e[0].sub.body.slice(0,t-1)),")=>").concat(_shape(e[1]),")(").concat(_shape(e[0].sub.body.slice(t,e[0].sub.body.length)),")")},matrix=function(e){return e?e.hasOwnProperty("type")?"textord"===e.type||"mathord"===e.type?e.text:e.body[0].body.map(function(e){return e.map(function(e){return _shape(e)})}):e:[]},dot=function(e,t){var n="";return e.forEach(function(e,o){n+="+".concat(e,"*").concat(t[o])}),n=n.slice(1,n.length),"(".concat(n,")")},matrixMultiplication=function(e,t){return(t="accent"!==t.type||"\\vec"!==t.label&&"\\overrightarrow"!==t.label?[matrix(t)]:[function(){for(var n=[],o=0;o<e.length;o++)n.push(["".concat(_shape(t.base.body),"[").concat(o,"]")]);return n}()]).unshift(e),Array.isArray(t[0])?1===t[0][0].length&&1===t[1][0].length?dot(t[0],t[1]):function(e){var t=[];return e[0].forEach(function(n,o){for(var r=[],a=function(t){var o="",a=0;n.forEach(function(n,r){o+="+".concat(n,"*").concat(e[1][a][t]),a++}),o="("+o.slice(1,o.length)+")",r.push(o)},c=0;c<e[1][0].length;c++)a(c);t.push(r)}),t}(t):""===t[0]?t[1]:t[1].map(function(e){return Array.isArray(e)?e.map(function(e){return"(".concat(t[0],"*").concat(e,")")}):"(".concat(t[0],"*").concat(e,")")})},matrixOperations=function(e,t,n){if(Array.isArray(e)){if("accent"!==t.type||"\\vec"!==t.label&&"\\overrightarrow"!==t.label){if(Array.isArray(e[0])){var o=[];return e.forEach(function(e,r){var a=[];e.forEach(function(e,o){a.push(e+n+t[r][o])}),o.push(a)}),o}var r=[];return e.forEach(function(e,o){r.push(e+n+t[o])}),r}var a=[];return e.forEach(function(e,o){a.push(e+n+"".concat(_shape(t.base.body),"[").concat(o,"]"))}),a}return e+n+t};var matrixCalculation=function e(t,n){var o="";if(0===n.length)return t;switch(n[0].type){case"accent":var r=matrix(n.find(function(e){return"leftright"===e.type&&"array"===e.body[0].type})).length;o=n.length>1?e(matrixMultiplication(t,function(){for(var e=[],t=0;t<r;t++)e.push(["".concat(_shape(n[0].base.body),"[").concat(t,"]")]);return e}()),n.slice(1,n.length)):matrixMultiplication(t,n[0]);break;case"leftright":o=n.length>1?e(matrixMultiplication(t,n[0]),n.slice(1,n.length)):matrixMultiplication(t,n[0]);break;case"atom":switch(n[0].text){case"\\cdot":case"\\times":o=n.length>2?e(matrixMultiplication(t,n[1]),n.slice(2,n.length)):matrixMultiplication(t,n[1]);break;default:o=function(){var o=n.slice(1,n.length).findIndex(function(e,t,n){return"atom"===e.type&&"\\cdot"===e.text});return 2===(o=-1===o?n.length:o)?n.length>2?"accent"===n[1].type?e(matrixOperations(t,n[1],n[0].text),n.slice(2,n.length)):e(matrixOperations(t,matrix(n[1]),n[0].text),n.slice(2,n.length)):"accent"===n[1].type?matrixOperations(t,n[1],n[0].text):matrixOperations(t,matrix(n[1]),n[0].text):n.length>o?e(matrixOperations(t,e(t,n.slice(1,o)),n[0].text),n.slice(o,n.length)):matrixOperations(t,e(t,n.slice(1,o)),n[0].text)}()}break;default:var a=n.findIndex(function(e){return"accent"===e.type&&("\\vec"===e.label||"\\overrightarrow"===e.label)});if(-1===a){var c=n.findIndex(function(e){return"leftright"===e.type&&"array"===e.body[0].type});o=e(_shape(n.slice(0,c)),n.slice(c,n.length))}else{var i=n.slice(0,a).findIndex(function(e){return"leftright"===e.type&&"array"===e.body[0].type});o=-1===i?function(){if(Array.isArray(t))return e(matrixMultiplication(_shape(n.slice(0,a)),function(){for(var e=[],o=0;o<t.length;o++)e.push(["".concat(_shape(n[a]),"[").concat(o,"]")]);return e}()),n.slice(a+1,n.length));var o=matrix(n.find(function(e){return"leftright"===e.type&&"array"===e.body[0].type})).length;return e(matrixMultiplication(_shape(n.slice(0,a)),function(){for(var e=[],t=0;t<o;t++)e.push(["".concat(_shape(n[a]),"[").concat(t,"]")]);return e}()),n.slice(a+1,n.length))}():e(_shape(n.slice(0,i)),n.slice(i,n.length))}}return o};_matrixLeftRightShape=function(e){if(e.some(function(e){return"atom"===e.type&&"="===e.text}))return _shape(e);var t=e.findIndex(function(e,t,n){var o=n.slice(t+1,n.length).findIndex(function(e){return"atom"===e.type});if(o=-1===o?n.length:o+t+1,n.slice(t,o).some(function(e){return"leftright"===e.type&&"array"===e.body[0].type||"accent"===e.type&&("\\vec"===e.label||"\\overrightarrow"===e.label)}))return!0});if(-1===t)return _shape(e);var n,o,r=e.slice(t,e.length).findIndex(function(e,t,n){return!function(){var e=n.slice(t+1,n.length).findIndex(function(e){return"atom"===e.type});if(e=-1===e?n.length:e+t+1,n.slice(t,e).some(function(e){return"leftright"===e.type&&"array"===e.body[0].type||"accent"===e.type&&("\\vec"===e.label||"\\overrightarrow"===e.label)}))return!0}()});return-1===r?Array.isArray(matrixCalculation(_shape(e.slice(0,t)),e.slice(t,e.length)))?(n=e.slice(0,t).reverse().find(function(e){return"atom"===e.type&&"="===e.text}),o=e.slice(0,t).findIndex(function(e){return e===n})+1,"".concat(_shape(e.slice(0,o)),"[").concat(matrixCalculation(_shape(e.slice(o,t)),e.slice(t,e.length)),"]")):function(){var n=e.slice(0,t).reverse().find(function(e){return"atom"===e.type}),o=e.slice(0,t).findIndex(function(e){return e===n})+1;return"".concat(_shape(e.slice(0,o))).concat(matrixCalculation(_shape(e.slice(o,t)),e.slice(t,e.length)))}():"".concat(function(){var n=e.slice(0,t).reverse().find(function(e){return"atom"===e.type}),o=e.slice(0,t).findIndex(function(e){return e===n})+1;return"".concat(_shape(e.slice(0,o))).concat(matrixCalculation(_shape(e.slice(o,t)),e.slice(t,r+t)))}()).concat(e.slice(r+t,e.length).some(function(e){return"leftright"===e.type&&"array"===e.body[0].type})?_matrixLeftRightShape(e.slice(r+t,e.length)):_shape(e.slice(r+t,e.length)))},_vecShape=function(e){var t,n,o,r,a,c="";switch(e[0].type){case"accent":e.length>1&&"accent"===e[1].type?(n=_shape(e[1].base.body),o="pre"===n.split(".")[0]?"pre1":"pre",r="cur"===n.split(".")[0]?"cur1":"cur",a="i"===n.split(".")[0]?"i1":"i",c="".concat(_shape(e[0].base.body),".reduce((").concat(o,",").concat(r,",").concat(a,")=>").concat(o,"+").concat(r,"*").concat(n,"[").concat(a,"],0)").concat(e.length>2?_vecShape(e.slice(2,e.length)):"")):c=e.length>1&&"leftright"===e[1].type&&"array"===e[1].type?function(){var t=_matrixLeftRightShape(e[1]),n="pre"===t.split(".")[0]?"pre1":"pre",o="cur"===t.split(".")[0]?"cur1":"cur",r="i"===t.split(".")[0]?"i1":"i";return"".concat(_shape(e[0].base.body),".reduce((").concat(n,",").concat(o,",").concat(r,")=>").concat(n,"+").concat(o,"*").concat(t,"[").concat(r,"],0)").concat(e.length>2?_vecShape(e.slice(2,e.length)):"")}():e.length>2&&"atom"===e[1].type&&"\\cdot"===e[1].text&&"accent"===e[2].type?function(){var t=_shape(e[2].base.body),n="pre"===t.split(".")[0]?"pre1":"pre",o="cur"===t.split(".")[0]?"cur1":"cur",r="i"===t.split(".")[0]?"i1":"i";return"".concat(_shape(e[0].base.body),".reduce((").concat(n,",").concat(o,",").concat(r,")=>").concat(n,"+").concat(o,"*").concat(t,"[").concat(r,"],0)").concat(e.length>3?_vecShape(e.slice(3,e.length)):"")}():e.length>2&&"atom"===e[1].type&&"\\cdot"===e[1].text&&"leftright"===e[2].type&&"array"===e[2].type?function(){var t=_matrixLeftRightShape(e[2]),n="pre"===t.split(".")[0]?"pre1":"pre",o="cur"===t.split(".")[0]?"cur1":"cur",r="i"===t.split(".")[0]?"i1":"i";return"".concat(_shape(e[0].base.body),".reduce((").concat(n,",").concat(o,",").concat(r,")=>").concat(n,"+").concat(o,"*").concat(t,"[").concat(r,"],0)").concat(e.length>3?_vecShape(e.slice(3,e.length)):"")}():"".concat(_shape(e[0].base.body)).concat(e.length>1?_vecShape(e.slice(1,e.length)):"");break;case"atom":e[0].text,c=function(){var t,n,o,r=e.findIndex(function(e){return"accent"===e.type});return e.length>r+1&&"accent"===e[r+1].type?"".concat(_shape(e[0])).concat(_vecShape(e.slice(1,r+2))).concat(e.length>r+2?_vecShape(e.slice(r+2,e.length)):""):e.length>r+2&&"atom"===e[r+1].type&&"\\cdot"===e[r+1].text&&"accent"===e[r+2].type?"".concat(_shape(e[0])).concat(_vecShape(e.slice(1,r+3))).concat(e.length>r+3?_vecShape(e.slice(r+3,e.length)):""):(t=_vecShape(e.slice(1,r+1)),n="e"===t.split(".")[0]?"e1":"e",o="i"===t.split(".")[0]?"i1":"i",".map((".concat(n,",").concat(o,")=>").concat(n).concat(_shape(e[0])).concat(t,"[").concat(o,"])").concat(e.length>r+1?_vecShape(e.slice(r+1,e.length)):""))}();break;default:t=e.findIndex(function(e){return"accent"===e.type}),c=e.length>t+1&&"accent"===e[t+1].type?"".concat(_shape(e.slice(0,t))).concat("atom"!==e[t-1].type?"*":"").concat(_vecShape(e.slice(t,t+2))).concat(e.length>t+2?_vecShape(e.slice(t+2,e.length)):""):e.length>t+2&&"atom"===e[t+1].type&&"\\cdot"===e[t+1].text&&"accent"===e[t+2].type?"".concat(_shape(e.slice(0,t))).concat("atom"!==e[t-1].type?"*":"").concat(_vecShape(e.slice(t,t+3))).concat(e.length>t+3?_vecShape(e.slice(t+3,e.length)):""):"".concat(_vecShape([e[t]]),".map(e=>").concat(_shape(e.slice(0,t))).concat("atom"!==e[t-1].type?"*":"","e)").concat(e.length>t+1?_vecShape(e.slice(t+1,e.length)):"")}return c},nextMulti=function(e,t){return e.length>t?("atom"===e[t].type||"punct"===e[t].type||"bin"===e[t].type||"spacing"===e[t].type||"textord"===e[t].type&&"/"===e[t].text?"":"*")+_shape(e.slice(t,e.length)):""},_shape=function(e){var t;if(!Array.isArray(e))switch(_typeof(e)){case"object":e=[e];break;case"string":return e}if(e.some(function(e){return"atom"===e.type&&"="===e.text})){var n=e.findIndex(function(e){return"atom"===e.type&&"="===e.text}),o="accent"!==e[0].type||"\\vec"!==e[0].label&&"\\overrightarrow"!==e[0].label?e.slice(0,n):e[0].base.body,r=o.findIndex(function(e){return"leftright"===e.type&&"["===e.left&&"]"===e.right});if("supsub"===o[o.length-1].type&&o[o.length-1].hasOwnProperty("base")&&o[o.length-1].hasOwnProperty("sub")){var a=o.slice(0,o.length-1).reduce(function(e,t){return t.hasOwnProperty("text")?e+t.text:t.hasOwnProperty("name")?e+t.name.replace("\\",""):void 0},"")+_shape(o[o.length-1].base),c="[".concat(_shape(o[o.length-1].sub.body),"]");return c=c.replace(/,/g,"]["),codeSearchArray(code,a),"".concat(a).concat(c,"=").concat(_shape(e.slice(n+1,e.length)))}if("leftright"===o[o.length-1].type&&"("===o[o.length-1].left&&")"===o[o.length-1].right){var i=o.slice(0,o.length-1).reduce(function(e,t){return t.hasOwnProperty("text")?e+t.text:t.hasOwnProperty("name")?e+t.name.replace("\\",""):void 0},""),u=o[o.length-1].body.reduce(function(e,t){return t.hasOwnProperty("text")?e+t.text:t.hasOwnProperty("name")?e+t.name.replace("\\",""):void 0},""),l=code.match(/\/\*\d+\*\//)[0];return code=code.replace(l,"function ".concat(i,"(").concat(u,"){\n       ").concat(l,"\n     }")),"function ".concat(i,"(").concat(u,"){\n                 return ").concat(_shape(e.slice(n+1,e.length)),";\n              }")}if(-1===r){var s=o.reduce(function(e,t){return t.hasOwnProperty("text")?e+t.text:t.hasOwnProperty("name")?e+t.name.replace("\\",""):void 0},"");return codeSearchVariable(code,s)?"".concat(s,"=").concat(_shape(e.slice(n+1,e.length))):"let ".concat(s,"=").concat(_shape(e.slice(n+1,e.length)))}var p=o.slice(0,r).reduce(function(e,t){return t.hasOwnProperty("text")?e+t.text:t.hasOwnProperty("name")?e+t.name.replace("\\",""):void 0},""),d=o.slice(r,o.length).reduce(function(e,t){return"leftright"===t.type&&"["===t.left&&"]"===t.right?"".concat(e,"[").concat(_shape(t.body),"]"):e},"");return codeSearchArray(code,p),"".concat(p).concat(d,"=").concat(_shape(e.slice(n+1,e.length)))}if(e.some(function(e){return"leftright"===e.type&&"array"===e.body[0].type}))return _matrixLeftRightShape(e);if(e.some(function(e){return"accent"===e.type&&("\\vec"===e.label||"\\overrightarrow"===e.label)}))return _vecShape(e);if(!e[0])return"";switch(e[0].type){case"textord":t=e.length>1?isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>e*").concat("\\infty"===e[0].text?1/0:e[0].text,")"):"".concat("\\infty"===e[0].text?1/0:e[0].text).concat(("textord"!==e[1].type&&"atom"!==e[1].type&&"bin"!==e[1].type&&"spacing"!==e[1].type&&"/"!==e[0].text?"*":"")+_shape(e.slice(1,e.length))):"\\infty"===e[0].text?"Infinity":e[0].text;break;case"mathord":t=function(){if(e.length>1){for(var t=e.findIndex(function(e,t,n){return"mathord"!==e.type&&"textord"!==e.type&&!("supsub"==e.type&&e.sub&&e.base&&("mathord"===e.base.type||"textord"===e.base.type))||t>0&&"supsub"==n[t-1].type&&n[t-1].sub&&n[t-1].base&&("mathord"===n[t-1].base.type||"textord"===n[t-1].base.type)}),n="",o=t=-1===t?e.length:t;o>0;o--){var r=e.slice(0,o).reduce(function(e,t){return e+("supsub"===t.type?t.base.text:t.text)},"");if(codeSearchVariable(code,r)){n="".concat(r).concat(o<t?"*"+_shape(e.slice(o,t)):"");break}}return 0===n.length?"leftright"===e[1].type&&"["===e[1].left&&"]"===e[1].right?"".concat("\\pi"===e[0].text?"Math.PI":e[0].text).concat(function(){var t=e.slice(1,e.length).findIndex(function(e){return!("leftright"===e.type&&"["===e.left&&"]"===e.right)});if(t=-1===t?e.length-1:t,codeSearchArray(code,e[0].text)){var n=e.slice(1,t+1).map(function(e){return"[".concat(_shape(e.body),"]")});return"".concat(n.reduce(function(e,t){return e+t})).concat(nextMulti(e,t+1))}var o=e.slice(1,t+1).map(function(e){return"Math.floor(".concat(_shape(e.body),")")});return"*".concat(o.reduce(function(e,t){return e+"*"+t})).concat(nextMulti(e,t+1))}()):isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>{\n                    return e*").concat("\\pi"===e[0].text?"Math.PI":e[0].text,";\n                  })"):"".concat("\\pi"===e[0].text?"Math.PI":e[0].text).concat(("atom"===e[1].type||"punct"===e[1].type||"bin"===e[1].type||"spacing"===e[1].type||"leftright"===e[1].type&&codeSearchFunction(code,e[0].text)?"":"*")+_shape(e.slice(1,e.length))):e.length===t?"supsub"===e[e.length-1].type&&e[e.length-1].sub&&e[e.length-1].base&&("mathord"===e[e.length-1].base.type||"textord"===e[e.length-1].base.type)?("[".concat(_shape(e[e.length-1].sub.body),"]").replace(/,/g,"]["),codeSearchArray(code,n),"".concat(n)):n:function(){return"leftright"===e[t].type&&"["===e[t].left&&"]"===e[t].right?"".concat("supsub"===e[t-1].type&&e[t-1].sub&&e[t-1].base&&("mathord"===e[t-1].base.type||"textord"===e[t-1].base.type)?(o="[".concat(_shape(e[t-1].sub.body),"]"),o=o.replace(/,/g,"]["),codeSearchArray(code,n),"".concat(n)):n).concat(function(){var o=e.slice(t,e.length).findIndex(function(e){return!("leftright"===e.type&&"["===e.left&&"]"===e.right)});if(o=-1===o?e.length-1:o,codeSearchArray(code,n)){var r=e.slice(t,t+o).map(function(e){return"[".concat(_shape(e.body),"]")});return"".concat(r.reduce(function(e,t){return e+t})).concat(nextMulti(e,t+o))}var a=e.slice(t,t+o).map(function(e){return"Math.floor(".concat(_shape(e.body),")")});return"*".concat(a.reduce(function(e,t){return e+"*"+t})).concat(nextMulti(e,t+o))}()):isVector(e.slice(t,e.length))?"".concat(_shape(e.slice(t,e.length)),".map(e=>e*").concat("supsub"===e[t-1].type&&e[t-1].sub&&e[t-1].base&&("mathord"===e[t-1].base.type||"textord"===e[t-1].base.type)?function(){var o="[".concat(_shape(e[t-1].sub.body),"]");return o=o.replace(/,/g,"]["),codeSearchArray(code,n),"".concat(n)}():n,")"):"".concat("supsub"===e[t-1].type&&e[t-1].sub&&e[t-1].base&&("mathord"===e[t-1].base.type||"textord"===e[t-1].base.type)?function(){var o="[".concat(_shape(e[t-1].sub.body),"]");return o=o.replace(/,/g,"]["),codeSearchArray(code,n),"".concat(n)}():n).concat(("atom"===e[t].type||"punct"===e[t].type||"bin"===e[t].type||"spacing"===e[t].type||"leftright"===e[t].type&&codeSearchFunction(code,n)?"":"*")+_shape(e.slice(t,e.length)));var o}()}return"\\pi"===e[0].text?"Math.PI":e[0].text}();break;case"spacing":t="],[".concat(e.length>1?_shape(e.slice(1,e.length)):"");break;case"styling":t=_shape(e[0].body);break;case"atom":switch(e[0].text){case"\\cdot":case"\\times":t="*";break;case"\\div":t="/";break;default:t=e[0].text}t+=e.length>1?_shape(e.slice(1,e.length)):"";break;case"punct":t="".concat(e[0].value).concat(e.length>1?_shape(e.slice(1,e.length)):"");break;case"ordgroup":t="".concat(_shape(e[0].body)).concat(nextMulti(e,1));break;case"sqrt":t=isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>e*").concat(radix(e[0]),")"):"".concat(radix(e[0])).concat(nextMulti(e,1));break;case"leftright":t=leftright(e);break;case"array":e=e[0].body[0][0].body[0].body,t=_matrixLeftRightShape(e);break;case"genfrac":t=isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>e*").concat(frac(e[0]),")"):"".concat(frac(e[0])).concat(nextMulti(e,1));break;case"bin":switch(e[0].value){case"\\cdot":t="*".concat(_shape(e.slice(1,e.length)));break;default:t="".concat(e[0].value).concat(nextMulti(e,1))}break;case"op":switch(e[0].name){case"\\sin":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(sin(e[1]),")"):"".concat(sin(e[1])).concat(nextMulti(e,2));break;case"\\cos":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(cos(e[1]),")"):"".concat(cos(e[1])).concat(nextMulti(e,2));break;case"\\tan":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(tan(e[1]),")"):"".concat(tan(e[1])).concat(nextMulti(e,2));break;case"\\log":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(naturalLog(e[1]),")"):"".concat(naturalLog(e[1])).concat(nextMulti(e,2));break;case"\\int":var f=e.findIndex(function(e){return"mathord"===e.type&&"d"===e.text});t=isVector(e.slice(f+2,e.length))?"".concat(_shape(e.slice(f+2,e.length)),".map(e=>e*").concat(indefiniteIntegral(e,f),")"):"".concat(indefiniteIntegral(e,f)).concat(nextMulti(e,2))}break;case"supsub":if(e[0].sub)switch(e[0].base.name){case"\\log":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(log(e),")"):"".concat(log(e)).concat(nextMulti(e,2));break;case"\\sum":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(sum(e),")"):"".concat(sum(e)).concat(nextMulti(e,2));break;case"\\int":var h=e.findIndex(function(e){return"mathord"===e.type&&"d"===e.text});t=isVector(e.slice(h+2,e.length))?"".concat(_shape(e.slice(h+2,e.length)),".map(e=>e*").concat(definiteIntegral(e,h),")"):"".concat(definiteIntegral(e,h)).concat(nextMulti(e,2));break;case"\\lim":t=isVector(e.slice(2,e.length))?"".concat(_shape(e.slice(2,e.length)),".map(e=>e*").concat(limit(e),")"):"".concat(limit(e)).concat(nextMulti(e,2));break;default:var m="[".concat(_shape(e[0].sub.body),"]");m=m.replace(/,/g,"]["),t=isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>e*").concat(_shape(e[0].base)).concat(m,")"):"".concat(_shape(e[0].base)).concat(m).concat(nextMulti(e,1))}else t="\\prime"===e[0].sup.body[0].text?isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>e*").concat(differential(e[0]),")"):"".concat(differential(e[0])).concat(nextMulti(e,1)):isVector(e.slice(1,e.length))?"".concat(_shape(e.slice(1,e.length)),".map(e=>e*").concat(pow(e[0]),")"):"".concat(pow(e[0])).concat(nextMulti(e,1));break;default:t="".concat(e[0]).concat(nextMulti(e,1))}return t},__webpack_exports__.a=latex2js=function(e,t){for(code=t;e.search(/\n/)>=0;)e=e.replace(/\n/g," ");var n=katex.__parse(e);return console.log(n),_shape(n,code)}},929:function(e,t){},931:function(e,t){}}]);