(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1090:function(e,t){e.exports=function(){return["attribute vec3 position;","void main(void){","    gl_Position = vec4(position, 1.0);","}"].join("\n")}},1091:function(e,t){e.exports=function(){return["precision mediump float;","uniform vec2 resolution;","#define PI 3.141592","vec3 hsv2rgb(vec3 c){","    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);","    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);","    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);","}","void main(void){","    vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);             ","    vec3 color = step(length(p),1.0)*(0.03/length(p)+hsv2rgb(vec3(atan(p.x,p.y)/2.0/PI,length(p),1.0)));\t    ","    gl_FragColor=vec4(color,1.0);","}"].join("\n")}},1092:function(e,t){e.exports=function(){return["attribute vec3 position;","void main(void){","    gl_Position = vec4(position, 1.0);","}"].join("\n")}},1093:function(e,t){e.exports=function(){return["precision mediump float;","uniform vec2 resolution;","uniform vec3 color;","#define PI 3.141592","void main(void){","    vec2 p = (gl_FragCoord.xy ) / resolution.x;         ","    vec3 c=(mod(p.x,0.1)-0.05)*(mod(p.y,0.1)-0.05)<0.0?vec3(1.0):vec3(0.5);    ","    gl_FragColor=vec4(length(color)<0.01?c*0.2:c*color,p.x);","}"].join("\n")}},1094:function(e,t,o){var n,r=0,i=o(1095),a={hmr:!0};a.insertInto=void 0,"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(t.locals=i.locals),t.use=t.ref=function(){return r++||(n=o(62)(i,a)),t},t.unuse=t.unref=function(){r>0&&!--r&&(n(),n=null)}},1095:function(e,t,o){(e.exports=o(61)(!1)).push([e.i,"body {\n  margin: 0;\n  padding: 0;\n  overflow: hidden; }\n\n#root {\n  font-size: 0; }\n",""])},158:function(e,t,o){"use strict";o.r(t);o(8),o(9),o(10);var n,r=o(0),i=o.n(r),a=o(32);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,d=Object(a.b)(function(e,t){var o=e.state;return{headerHeight:o.headerHeight,windowWidth:o.windowWidth}})(n=Object(a.c)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"none",style:{width:this.props.windowWidth,height:this.props.headerHeight,backgroundColor:"#ddd"}})}}])&&c(o.prototype,n),r&&c(o,r),t}())||n)||n,f=(o(424),o(37),o(92),o(93),o(1090)),y=o.n(f),g=o(1091),b=o.n(g);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A,O=function(e){e.clear(e.COLOR_BUFFER_BIT),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.flush()},P=Object(a.b)(function(e,t){return{updateColor:e.state.updateColor}})(h=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=w(this,S(t).call(this,e))).handleMouseDown=function(e){var t=o.gl,n=e.nativeEvent,r=new Uint8Array(4);O(t),t.readPixels(n.layerX,o.props.style.height-n.layerY,1,1,t.RGBA,t.UNSIGNED_BYTE,r),o.props.updateColor([r[0],r[1],r[2]]),o.setState({mouseX:n.layerX,mouseY:n.layerY})},o.state={mouseX:10,mouseY:10},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){var e=this.canvas;e.width=this.props.style.width,e.height=this.props.style.height,this.gl=e.getContext("webgl"),function(e,t,o,n){var r=function(e,o){var n=t.createShader(o);if(t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;alert(t.getShaderInfoLog(n)),console.log(t.getShaderInfoLog(n))},i=function(e,o){var n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,o),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)?(t.useProgram(n),n):null}(r(o,t.VERTEX_SHADER),r(n,t.FRAGMENT_SHADER)),a=[],u=[],c=[];a[0]=t.getUniformLocation(i,"resolution");var s,l,p=(s=[-1,1,0,1,1,0,-1,-1,0,1,-1,0],l=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),l);u[0]=t.getAttribLocation(i,"position"),c[0]=3,function(e,o,n){e.forEach(function(e,r,i){t.bindBuffer(t.ARRAY_BUFFER,e),t.enableVertexAttribArray(o[r]),t.vertexAttribPointer(o[r],n[r],t.FLOAT,!1,0,0)})}([p],u,c);var h=function(e){var o=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Int16Array(e),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),o}([0,2,1,1,2,3]);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.uniform2fv(a[0],[e.width,e.height]),t.clearColor(0,0,0,1),O(t)}(e,this.gl,y()(),b()())}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{"touch-action":"none",style:{position:"relative"}},i.a.createElement("canvas",{style:this.props.style,ref:function(t){e.canvas=t},onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}),i.a.createElement("svg",{style:{position:"absolute",width:10,height:10,left:this.state.mouseX-5,top:this.state.mouseY-5}},i.a.createElement("circle",{cx:"5",cy:"5",r:"5",fill:"#fff",stroke:"#000"})))}}])&&v(o.prototype,n),r&&v(o,r),t}())||h;function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R,W=Object(a.b)(function(e,t){var o=e.state;return{updateStrokeWidth:o.updateStrokeWidth,strokeWidth:o.strokeWidth}})(A=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=M(this,(e=j(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.nativeEvent;o.props.updateStrokeWidth(t.target.value)},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style},i.a.createElement("input",{"touch-action":"auto",type:"range",min:"1",max:"100",step:"1",value:this.props.strokeWidth,style:{WebkitAppearance:"none",MozAppearance:"none",backgroundColor:"#000",height:2,width:"90%",outline:0,position:"absolute",top:"50%",left:"5%",margin:0},onChange:this.handleChange,onInput:this.handleChange}))}}])&&T(o.prototype,n),r&&T(o,r),t}())||A;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L,_=Object(a.b)(function(e,t){var o=e.state;return{sizeRatio:o.sizeRatio,previewPropertyAreaWidth:o.strokeWidth,previewStrokeWidth:o.previewStrokeWidth,color:o.color,brushEvent:o.brushEvent}})(R=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=U(this,(e=D(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.brushEvent()},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,onClick:this.handleClick,onTouchStart:this.handleClick},i.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:this.props.previewStrokeWidth,height:this.props.previewStrokeWidth,borderRadius:"50%",backgroundColor:this.props.color}}))}}])&&C(o.prototype,n),r&&C(o,r),t}())||R,F=o(187);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N,K=Object(a.b)(function(e,t){return{rectEvent:e.state.rectEvent}})(L=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=X(this,(e=I(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.rectEvent()},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,onClick:this.handleClick,onTouchStart:this.handleClick},i.a.createElement(F.FaSquareFull,null))}}])&&B(o.prototype,n),r&&B(o,r),t}())||L;function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $,ee=Object(a.b)(function(e,t){return{circleEvent:e.state.circleEvent}})(N=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=q(this,(e=Z(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.circleEvent()},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,onClick:this.handleClick,onTouchStart:this.handleClick},i.a.createElement(F.FaCircle,null))}}])&&J(o.prototype,n),r&&J(o,r),t}())||N;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae,ue=Object(a.b)(function(e,t){return{lineEvent:e.state.lineEvent}})($=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=ne(this,(e=re(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.lineEvent()},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,onClick:this.handleClick,onTouchStart:this.handleClick},i.a.createElement(F.FaSlash,null))}}])&&oe(o.prototype,n),r&&oe(o,r),t}())||$,ce=o(1092),se=o.n(ce),le=o(1093),pe=o.n(le);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fe(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be,me=function(e,t,o){var n;n=t,Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])<.01?e.clearColor(1,1,1,0):e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.uniform3fv(o[1],t),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.flush()},ve=Object(a.b)(function(e,t){var o=e.state;return{colorArray:o.colorArray,updateOpacity:o.updateOpacity,updateOpacityAreaRender:o.updateOpacityAreaRender,updateOpacityAreaGlContext:o.updateOpacityAreaGlContext,updateOpacityAreaUniLocation:o.updateOpacityAreaUniLocation}})(ae=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=fe(this,ye(t).call(this,e))).handleMouseDown=function(e){var t=e.nativeEvent,n=o.props.colorArray;me(o.gl,n.map(function(e){return e/255}),o.uniLocation);var r=new Uint8Array(4);o.gl.readPixels(t.layerX,o.props.style.height-t.layerY,1,1,o.gl.RGBA,o.gl.UNSIGNED_BYTE,r),o.props.updateOpacity(r[3]/255),o.setState({mouseX:t.layerX,mouseY:t.layerY})},o.state={mouseX:o.props.style.width,mouseY:o.props.style.height/2+5},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){this.canvas.width=this.props.style.width,this.canvas.height=this.props.style.height,this.gl=this.canvas.getContext("webgl"),this.uniLocation=function(e,t,o,n,r){var i=function(e,o){var n=t.createShader(o);if(t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;alert(t.getShaderInfoLog(n)),console.log(t.getShaderInfoLog(n))},a=function(e,o){var n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,o),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)?(t.useProgram(n),n):null}(i(o,t.VERTEX_SHADER),i(n,t.FRAGMENT_SHADER)),u=[],c=[],s=[];u[0]=t.getUniformLocation(a,"resolution"),u[1]=t.getUniformLocation(a,"color");var l,p,h=(l=[-1,1,0,1,1,0,-1,-1,0,1,-1,0],p=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,new Float32Array(l),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),p);c[0]=t.getAttribLocation(a,"position"),s[0]=3,function(e,o,n){e.forEach(function(e,r,i){t.bindBuffer(t.ARRAY_BUFFER,e),t.enableVertexAttribArray(o[r]),t.vertexAttribPointer(o[r],n[r],t.FLOAT,!1,0,0)})}([h],c,s);var d=function(e){var o=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Int16Array(e),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),o}([0,2,1,1,2,3]);return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d),t.uniform2fv(u[0],[e.width,e.height]),t.uniform3fv(u[1],r),t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE),me(t,r,u),u}(this.canvas,this.gl,se()(),pe()(),this.props.colorArray.map(function(e){return e/255})),this.props.updateOpacityAreaGlContext(this.gl),this.props.updateOpacityAreaUniLocation(this.uniLocation),this.props.updateOpacityAreaRender(me)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{"touch-action":"none",style:{margin:0,padding:0,height:this.props.style.height,position:"relative"}},i.a.createElement("canvas",{style:this.props.style,ref:function(t){e.canvas=t},onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}),i.a.createElement("svg",{style:{position:"absolute",width:10,height:10,left:this.state.mouseX-5,top:this.state.mouseY-5}},i.a.createElement("circle",{cx:"5",cy:"5",r:"5",fill:"#fff",stroke:"#000"})))}}])&&de(o.prototype,n),r&&de(o,r),t}())||ae;function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe,Ee=Object(a.b)(function(e,t){return{colorPickerEvent:e.state.colorPickerEvent}})(be=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=ke(this,(e=Ae(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.colorPickerEvent()},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,onClick:this.handleClick,onTouchStart:this.handleClick},i.a.createElement(F.FaEyeDropper,null))}}])&&Se(o.prototype,n),r&&Se(o,r),t}())||be;function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We,xe=Object(a.b)(function(e,t){return{clearEvent:e.state.clearEvent}})(Pe=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=je(this,(e=ze(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.clearEvent()},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,onClick:this.handleClick,onTouchStart:this.handleClick},i.a.createElement(F.FaCuttlefish,null))}}])&&Me(o.prototype,n),r&&Me(o,r),t}())||Pe;function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=Object(a.b)(function(e,t){var o=e.state;return{color:o.color,backgroundBrush:o.background.brush,backgroundRect:o.background.rect,backgroundCircle:o.background.circle,backgroundLine:o.background.line,backgroundColorPicker:o.background.colorPicker,backgroundClear:o.background.clear}})(We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,He(t).apply(this,arguments))}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style},i.a.createElement(P,{style:{width:this.props.style.width,height:this.props.style.width,backgroundColor:"#000"}}),i.a.createElement(ve,{ref:"opacityPropertyArea",style:{backgroundColor:"#222",width:this.props.style.width,height:13,textAlign:"center",margin:0,padding:0}}),i.a.createElement(W,{style:{width:this.props.style.width,height:30,textAlign:"center",position:"relative"}}),i.a.createElement(_,{ref:"previewPropertyArea",style:{position:"relative",width:this.props.style.width,height:this.props.style.width,backgroundColor:this.props.backgroundBrush}}),i.a.createElement(K,{style:{margin:"3px 2px 1px 1px",width:this.props.style.width/2-3,height:40,backgroundColor:this.props.backgroundRect,color:this.props.color,fontSize:20,textAlign:"center",float:"left",lineHeight:"225%"}}),i.a.createElement(ee,{style:{margin:"3px 1px 1px 2px",width:this.props.style.width/2-3,height:40,backgroundColor:this.props.backgroundCircle,color:this.props.color,fontSize:20,textAlign:"center",float:"left",lineHeight:"225%"}}),i.a.createElement(ue,{style:{margin:"2px 2px 1px 1px",width:this.props.style.width/2-3,height:40,backgroundColor:this.props.backgroundLine,color:this.props.color,fontSize:20,textAlign:"center",float:"left",lineHeight:"225%"}}),i.a.createElement(Ee,{style:{margin:"2px 1px 1px 2px",width:this.props.style.width/2-3,height:40,backgroundColor:this.props.backgroundColorPicker,color:this.props.color,fontSize:20,textAlign:"center",float:"left",lineHeight:"225%"}}),i.a.createElement(xe,{style:{margin:"2px 2px 1px 1px",width:this.props.style.width/2-3,height:40,backgroundColor:this.props.backgroundClear,color:this.props.color,fontSize:20,textAlign:"center",float:"left",lineHeight:"225%"}}))}}])&&Ue(o.prototype,n),r&&Ue(o,r),t}())||We;o(221),o(200),o(94);function Fe(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ye,Be=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.branchId=0,this.undoStack=[this.undoStackObj(null,t,o,this.branchId,null,[],1)],this.redoStack=[],this.undoStack[0].id=0,this.id=0}var t,o,n;return t=e,(o=[{key:"undoStackObj",value:function(e,t,o,n,r,i,a){return{delta:e,img:t,state:o,branchId:n,frontStack:r,nextStack:i,stackWidth:a}}},{key:"undo",value:function(){if(this.hasUndoStack()){console.log("undo!");var e=this.undoStack.pop();this.redoStack.push(e)}else console.log("can't undo!")}},{key:"redo",value:function(){if(this.hasRedoStack()){console.log("redo!");var e=this.redoStack.pop();this.undoStack.push(e)}else console.log("can't redo!")}},{key:"execute",value:function(e,t,o){this.redoStack=[];var n=this.lastUndoStack();n.nextStack.length>0?(!function e(t){t.branchId=0,t.nextStack.length>1||0==t.nextStack.length||e(t.nextStack[0])}(n.nextStack[0]),this.branchId=n.nextStack.length):this.branchId=n.branchId,this.undoStack.push(this.undoStackObj(e,t,o,this.branchId,n,[],1)),n.nextStack.push(this.lastUndoStack()),n.nextStack.length>1&&this.updateStackWidth(n),this.id++,this.lastUndoStack().id=this.id}},{key:"unbra",value:function(){var e=Object.assign({},this.lastUndoStack()),t=this.undoStack,o=t.concat().filter(function(e){return e.nextStack.length>1}),n=o.map(function(e){return e.branchId});n.push(e.branchId);var r=n.concat().reverse().find(function(e){return e>0}),i=o[n.lastIndexOf(r)-1];if(i){console.log("unbra!");for(var a=r-1,u=t.lastIndexOf(i),c=t.length-u-1,s=0;s<c;s++)this.undo();!function e(o){t.push(o),0!==o.nextStack.length&&e(o.nextStack[o.nextStack.length-1])}(i.nextStack[a]),this.redoStack=[]}else console.log("can't unbra!")}},{key:"rebra",value:function(){var e=Object.assign({},this.lastUndoStack()),t=this.undoStack,o=t.concat().filter(function(e){return e.nextStack.length>1}),n=o.map(function(e){return e.branchId});n.push(e.branchId);var r=0,i=o.concat().reverse().find(function(e,t){return r=n.concat().reverse()[t]+1,e.nextStack.length>n.concat().reverse()[t]+1});if(i){console.log("rebra!");for(var a=t.lastIndexOf(i),u=t.length-a-1,c=0;c<u;c++)this.undo();!function e(o){t.push(o),0!==o.nextStack.length&&e(o.nextStack[0])}(i.nextStack[r]),this.redoStack=[]}else console.log("can't rebra!")}},{key:"recomposeUndoStack",value:function(e){for(var t=[],o=this,n=this.undoStack,r=function e(o){return t.unshift(o),o.frontStack?n.some(function(e){return e===o.frontStack})?o.frontStack:e(o.frontStack):o}(e),i=n.lastIndexOf(r),a=n.length-i-1,u=0;u<a;u++)this.undo();!function n(r,i){o.undoStack.push(r),r!==e&&n(t[i+1],i+1)}(t[0],0),this.redoStack=[],function e(t){0!==t.nextStack.length&&(o.redoStack.unshift(t.nextStack[0]),e(t.nextStack[0]))}(this.lastUndoStack())}},{key:"hasUndoStack",value:function(){return this.undoStack.length>1}},{key:"hasRedoStack",value:function(){return this.redoStack.length>0}},{key:"lastUndoStack",value:function(){return this.undoStack[this.undoStack.length-1]}},{key:"isBranchPoint",value:function(e){return e.nextStack.length>1}},{key:"updateStackWidth",value:function(e){e.stackWidth++;var t=e.frontStack;t&&this.updateStackWidth(t)}},{key:"getNextBranchPoint",value:function(e){return e.nextStack.length>1||0==e.nextStack.length?e:this.getNextBranchPoint(e.nextStack[0])}}])&&Fe(t.prototype,o),n&&Fe(t,n),e}();function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve,Je=Object(a.b)(function(e){var t=e.state;return{drawAreaPositionX:t.drawAreaPosition.x,drawAreaPositionY:t.drawAreaPosition.y,updateDrawAreaPosition:t.updateDrawAreaPosition}})(Ye=Object(a.c)(Ye=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Ge(this,Ne(t).call(this,e))).handleMouseAndTouchDown=function(e){document.body.addEventListener("mousemove",o.handleMouseAndTouchMove),document.body.addEventListener("touchmove",o.handleMouseAndTouchMove),document.body.addEventListener("mouseup",o.handleMouseAndTouchUp),document.body.addEventListener("touchend",o.handleMouseAndTouchUp),o.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},o.handleMouseAndTouchMove=function(e){o.props.updateDrawAreaPosition(o.props.drawAreaPositionX+("changedTouches"in e?e.changedTouches[0].pageX:e.pageX)-o.state.x,o.props.drawAreaPositionY+("changedTouches"in e?e.changedTouches[0].pageY:e.pageY)-o.state.y),o.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},o.handleMouseAndTouchUp=function(){document.body.removeEventListener("mousemove",o.handleMouseAndTouchMove),document.body.removeEventListener("touchmove",o.handleMouseAndTouchMove),document.body.removeEventListener("mouseup",o.handleMouseAndTouchUp),document.body.removeEventListener("touchend",o.handleMouseAndTouchUp)},o.state={x:0,y:0},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"none",onMouseDown:this.handleMouseAndTouchDown,onTouchStart:this.handleMouseAndTouchDown,style:this.props.style})}}])&&Ie(o.prototype,n),r&&Ie(o,r),t}())||Ye)||Ye;function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt,ot=function(e,t,o,n){return Math.sqrt((e-o)*(e-o)+(t-n)*(t-n))},nt=Object(a.b)(function(e,t){var o=e.state;return{undoManager:o.undoManager,updateUndoManager:o.updateUndoManager,undo:o.undo,redo:o.redo,unbra:o.unbra,rebra:o.rebra,updateUpdateRenderFunction:o.updateUpdateRenderFunction,strokeWidth:o.strokeWidth,sizeRatio:o.sizeRatio,color:o.color,updateColor:o.updateColor,flagBrush:o.flag.brush,flagRect:o.flag.rect,flagCircle:o.flag.circle,flagLine:o.flag.line,flagColorPicker:o.flag.colorPicker,flagClear:o.flag.clear,updateClearFunction:o.updateClearFunction,visualizeTreeUndo:o.visualizeTreeUndo,imgSize:o.imgSize,drawAreaWidth:o.drawAreaWidth,drawAreaPositionY:o.drawAreaPosition.y,drawAreaPositionX:o.drawAreaPosition.x,headerHeight:o.headerHeight}})(Ve=Object(a.c)(Ve=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Qe(this,$e(t).call(this,e))).handleMouseDown=function(e){var t=o.state.context,n=((e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageX:e.pageX)-o.props.drawAreaPositionX)/o.props.sizeRatio,r=((e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageY:e.pageY)-o.props.drawAreaPositionY-o.props.headerHeight)/o.props.sizeRatio;o.setState({mousedown:!0}),o.prevX=n,o.prevY=r,o.x=[n],o.y=[r],o.imageData=t.getImageData(0,0,o.initialWidth,o.initialHeight)},o.handleMouseMove=function(e){var t=o.state.context,n=o.state.wrapperContext,r=o.prevX,i=o.prevY,a=((e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageX:e.pageX)-o.props.drawAreaPositionX)/o.props.sizeRatio,u=((e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageY:e.pageY)-o.props.drawAreaPositionY-o.props.headerHeight)/o.props.sizeRatio;if(o.state.mousedown)if(t.strokeStyle=o.props.color,t.lineWidth=o.props.strokeWidth,t.lineJoin="round",t.lineCap="round",o.props.flagBrush){n.clearRect(0,0,o.initialWidth,o.initialHeight),o.x.push(a),o.y.push(u),t.putImageData(o.imageData,0,0),t.beginPath();for(var c=0;c<o.x.length-1;c++)t.moveTo(o.x[c],o.y[c]),t.lineTo(o.x[c+1],o.y[c+1]);t.stroke(),t.closePath()}else o.props.flagRect?(n.fillStyle=o.props.color,n.clearRect(0,0,o.initialWidth,o.initialHeight),n.fillRect(r,i,a-r,u-i)):o.props.flagCircle?(n.fillStyle=o.props.color,n.clearRect(0,0,o.initialWidth,o.initialHeight),n.beginPath(),n.arc(r,i,ot(a,u,r,i),0,2*Math.PI,!0),n.fill()):o.props.flagLine&&(n.fillStyle=o.props.color,n.clearRect(0,0,o.initialWidth,o.initialHeight),n.strokeStyle=o.props.color,n.lineWidth=o.props.strokeWidth,n.beginPath(),n.moveTo(r,i),n.lineTo(a,u),n.stroke(),n.closePath());else o.props.flagRect||o.props.flagCircle||o.props.flagColorpicker||(n.fillStyle=o.props.color,n.clearRect(0,0,o.initialWidth,o.initialHeight),n.beginPath(),n.arc(a,u,o.props.strokewidth/2,0,2*Math.PI,!0),n.fill())},o.handleMouseUp=function(e){var t=o.canvas,n=o.state.context,r=o.state.wrapperContext,i=o.prevX,a=o.prevY,u=((e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageX:e.pageX)-o.props.drawAreaPositionX)/o.props.sizeRatio,c=((e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageY:e.pageY)-o.props.drawAreaPositionY-o.props.headerHeight)/o.props.sizeRatio,s=o.props.undoManager;r.clearRect(0,0,o.initialWidth,o.initialHeight),o.props.flagRect?(n.fillStyle=o.props.color,n.fillRect(i,a,u-i,c-a)):o.props.flagCircle?(n.fillStyle=o.props.color,n.beginPath(),n.arc(i,a,ot(u,c,i,a),0,2*Math.PI,!0),n.fill()):o.props.flagLine?(n.lineJoin="butt",n.lineCap="butt",n.strokeStyle=o.props.color,n.lineWidth=o.props.strokewidth,n.beginPath(),n.moveTo(i,a),n.lineTo(u,c),n.stroke(),n.closePath()):o.props.flagColorPicker&&o.readColor(u,c),s.execute(null,t.toDataURL("image/png"),n.getImageData(0,0,o.initialWidth,o.initialHeight)),o.props.updateUndoManager(s),o.setState({mousedown:!1}),o.props.visualizeTreeUndo(s.undoStack[0],s.redoStack,o.props.imgSize,s.undoStack[0].stackWidth/2*(o.props.imgSize/2*3))},o.readColor=function(e,t){var n=o.state.context;o.props.updateColor(n.getImageData(e,t,1,1).data.slice(0,3))},o.handleKeyDown=function(e){"z"===e.key&&(e.ctrlKey||e.metaKey)&&e.shiftKey||"Z"===e.key&&(e.ctrlKey||e.metaKey)&&e.shiftKey?o.props.redo():"z"===e.key&&(e.ctrlKey||e.metaKey)?o.props.undo():"¸"===e.key&&e.altKey&&e.shiftKey||"Z"===e.key&&e.altKey&&e.shiftKey?o.props.rebra():("Ω"===e.key&&e.altKey||"z"===e.key&&e.altKey)&&o.props.unbra()},o.clear=function(){var e=o.canvas,t=o.state.context,n=o.props.undoManager;t.fillStyle=o.props.color,t.fillRect(0,0,o.initialWidth,o.initialHeight),o.props.undoManager.execute(null,e.toDataURL("image/png"),t.getImageData(0,0,o.initialWidth,o.initialHeight)),o.props.updateUndoManager(n)},o.updateRender=function(e){var t=o.state.context,n=e.state;t.putImageData(n,0,0)},o.initialWidth=o.props.drawAreaWidth,o.initialHeight=o.props.drawAreaWidth,o.state={mousedown:!1,prevCanvas:null,context:null,wrapperContext:null},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){var e=this.canvas,t=this.canvasWrapper,o=e.getContext("2d"),n=t.getContext("2d");e.width=this.props.drawAreaWidth,e.height=this.props.drawAreaWidth,t.width=this.props.drawAreaWidth,t.height=this.props.drawAreaWidth,o.fillStyle="#fff",o.fillRect(0,0,e.width,e.height),this.setState({context:o,wrapperContext:n}),this.props.updateUndoManager(new Be(e.toDataURL("image/png"),o.getImageData(0,0,this.initialWidth,this.initialHeight))),this.props.updateUpdateRenderFunction(this.updateRender),this.props.updateClearFunction(this.clear),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{"touch-action":"none",style:{width:this.props.drawAreaWidth,height:this.props.drawAreaWidth+this.props.headerHeight,position:"absolute",top:this.props.drawAreaPositionY,left:this.props.drawAreaPositionX}},i.a.createElement(Je,{style:{width:this.props.drawAreaWidth,height:this.props.headerHeight,backgroundColor:"#ddd",position:"absolute",borderTopLeftRadius:5,borderTopRightRadius:5}}),i.a.createElement("canvas",{style:{width:this.props.drawAreaWidth,height:this.props.drawAreaWidth,position:"absolute",top:this.props.headerHeight,backgroundColor:"#fff",borderBottomLeftRadius:5,borderBottomRightRadius:5},ref:function(t){e.canvas=t}}),i.a.createElement("canvas",{style:{width:this.props.drawAreaWidth,height:this.props.drawAreaWidth,position:"absolute",top:this.props.headerHeight,backgroundColor:"rgba(255,255,255,0)",borderBottomRadius:5},ref:function(t){e.canvasWrapper=t},onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onMouseMove:this.handleMouseMove,onTouchMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleMouseUp}))}}])&&Ze(o.prototype,n),r&&Ze(o,r),t}())||Ve)||Ve;o(99),o(315),o(259);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function at(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st,lt=Object(a.b)(function(e){var t=e.state;return{guiAreaPositionX:t.guiAreaPosition.x,guiAreaPositionY:t.guiAreaPosition.y,updateGuiAreaPosition:t.updateGuiAreaPosition}})(tt=Object(a.c)(tt=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=at(this,ut(t).call(this,e))).handleMouseAndTouchDown=function(e){document.body.addEventListener("mousemove",o.handleMouseAndTouchMove),document.body.addEventListener("touchmove",o.handleMouseAndTouchMove),document.body.addEventListener("mouseup",o.handleMouseAndTouchUp),document.body.addEventListener("touchend",o.handleMouseAndTouchUp),o.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},o.handleMouseAndTouchMove=function(e){o.props.updateGuiAreaPosition(o.props.guiAreaPositionX+("changedTouches"in e?e.changedTouches[0].pageX:e.pageX)-o.state.x,o.props.guiAreaPositionY+("changedTouches"in e?e.changedTouches[0].pageY:e.pageY)-o.state.y),o.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},o.handleMouseAndTouchUp=function(){document.body.removeEventListener("mousemove",o.handleMouseAndTouchMove),document.body.removeEventListener("touchmove",o.handleMouseAndTouchMove),document.body.removeEventListener("mouseup",o.handleMouseAndTouchUp),document.body.removeEventListener("touchend",o.handleMouseAndTouchUp)},o.state={x:0,y:0},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"none",onMouseDown:this.handleMouseAndTouchDown,onTouchStart:this.handleMouseAndTouchDown,style:this.props.style})}}])&&it(o.prototype,n),r&&it(o,r),t}())||tt)||tt;function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var bt,mt=Object(a.b)(function(e,t){var o=e.state;return{undoManager:o.undoManager,updateRender:o.updateRender,updateVisualizeTreeUndoFunction:o.updateVisualizeTreeUndoFunction,updateUpdateCommandTextFunction:o.updateUpdateCommandTextFunction,imgSize:o.imgSize,guiAreaWidth:o.guiAreaWidth,guiAreaHeight:o.guiAreaHeight,currentStackBackgroundSize:o.currentStackBackgroundSize,guiAreaPositionX:o.guiAreaPosition.x,guiAreaPositionY:o.guiAreaPosition.y,headerHeight:o.headerHeight}})(st=function(e){function t(e){var o,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=ft(t).call(this,e),(o=!r||"object"!==pt(r)&&"function"!=typeof r?gt(n):r).visualizeTreeUndo=function(e,t,n,r){var i=gt(gt(o)),a=[],u=[],c=o.lastUndoStack;o.lastUndoStack=o.props.undoManager.lastUndoStack();var s=[3*o.props.imgSize/2,5*o.props.imgSize/4],l=[3*o.props.imgSize/2-o.props.currentStackBackgroundSize/2,5*o.props.imgSize/4-o.props.currentStackBackgroundSize/2];!function e(o,n,r){if(a.push({stack:o,x:n,y:r,width:i.props.imgSize,height:i.props.imgSize}),o==c&&(s=[n+i.props.imgSize/2,r+i.props.imgSize/2]),o==i.props.undoManager.lastUndoStack()&&(i.lastUndoStack=i.props.undoManager.lastUndoStack(),l=[n-(i.props.currentStackBackgroundSize-i.props.imgSize)/2,r-(i.props.currentStackBackgroundSize-i.props.imgSize)/2]),o.nextStack.length>0){var p=-(o.stackWidth-1)/2+(i.props.undoManager.getNextBranchPoint(o.nextStack[0]).stackWidth-1)/2,h=0;o.nextStack.forEach(function(a,c){0!==c&&(p+=(i.props.undoManager.getNextBranchPoint(o.nextStack[c-1]).stackWidth-1)/2+(i.props.undoManager.getNextBranchPoint(o.nextStack[c]).stackWidth-1)/2),h=p+c,u.push({x1:n+i.props.imgSize,y1:r+i.props.imgSize/2,x2:n+i.props.imgSize/2*3,y2:r+i.props.imgSize/2*3*h+i.props.imgSize/2,x3:n+i.props.imgSize+i.props.imgSize/10*3,y3:r+i.props.imgSize/2,x4:n+i.props.imgSize/2*3-i.props.imgSize/10*3,y4:r+i.props.imgSize/2*3*h+i.props.imgSize/2,stroke:i.props.undoManager.undoStack.some(function(e){return e===o.nextStack[c]})?"#f26":t.some(function(e){return e===o.nextStack[c]})?"#4f2":"#24f"}),e(a,n+i.props.imgSize/2*3,r+i.props.imgSize/2*3*h)})}}(e,n,r),o.setState({lastVisualizeUndoStackCoord:l,visualizeUndoStack:a,visualizeBranch:u,visualizeFlowArrow:[s[0],s[1],l[0]+o.props.currentStackBackgroundSize/2,l[1]+o.props.currentStackBackgroundSize/2]})},o.imgHandleClick=function(e){return function(t){o.props.undoManager.recomposeUndoStack(e),o.props.updateRender(e),o.visualizeTreeUndo(o.props.undoManager.undoStack[0],o.props.undoManager.redoStack,o.props.imgSize,o.props.undoManager.undoStack[0].stackWidth/2*(o.props.imgSize/2*3))}},o.handleScroll=function(e){return function(t){e.setState({scrollLeft:this.scrollLeft,scrollTop:this.scrollTop})}},o.updateCommandText=function(e){o.setState({commandText:e})},o.state={visualizeUndoStack:[],lastVisualizeUndoStackCoord:[3*o.props.imgSize/2-o.props.imgSize/2,5*o.props.imgSize/4-o.props.imgSize/2],visualizeBranch:[],visualizeFlowArrow:[0,0,10,10],scrollLeft:0,scrollTop:0,commandText:""},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.updateVisualizeTreeUndoFunction(this.visualizeTreeUndo),this.props.updateUpdateCommandTextFunction(this.updateCommandText),setTimeout(function(){e.visualizeTreeUndo(e.props.undoManager.undoStack[0],e.props.undoManager.redoStack,e.props.imgSize,e.props.undoManager.undoStack[0].stackWidth/2*(e.props.imgSize/2*3))},10),this.wrapperDivArea.addEventListener("scroll",this.handleScroll(this))}},{key:"componentWillUnmount",value:function(){this.wrapperDivArea.removeEventListener("scroll",this.handleScroll(this))}},{key:"render",value:function(){var e,t,o=this;return i.a.createElement("div",{"touch-action":"none",ref:function(e){return o.wrapperDivArea=e},style:{overflow:"auto",width:this.props.guiAreaWidth,height:this.props.guiAreaHeight+this.props.headerHeight,position:"absolute",top:this.props.guiAreaPositionY,left:this.props.guiAreaPositionX,borderRadius:5}},i.a.createElement(lt,{style:{width:this.props.guiAreaWidth,height:this.props.headerHeight,backgroundColor:"#ddd",position:"absolute",left:this.state.scrollLeft,top:this.state.scrollTop}}),i.a.createElement("svg",{"touch-action":"auto",style:{width:this.props.guiAreaWidth,height:this.props.guiAreaHeight,backgroundColor:"#111",position:"absolute",left:this.state.scrollLeft,top:this.state.scrollTop+this.props.headerHeight,userSelect:"none"},xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},this.state.visualizeBranch.map(function(e,t){var n=Math.min(e.x1,e.x2,e.x3,e.x4),r=Math.max(e.x1,e.x2,e.x3,e.x4),a=Math.min(e.y1,e.y2,e.y3,e.y4),u=Math.max(e.y1,e.y2,e.y3,e.y4);if(n-o.state.scrollLeft<o.props.guiAreaWidth&&r-o.state.scrollLeft>0&&a-o.state.scrollTop<o.props.guiAreaHeight&&u-o.state.scrollTop>0)return i.a.createElement("path",{key:t,stroke:e.stroke,strokeWidth:"3",d:"M ".concat(e.x1-o.state.scrollLeft,",").concat(e.y1-o.state.scrollTop,"\n                                C ").concat(e.x3-o.state.scrollLeft,",").concat(e.y3-o.state.scrollTop," ").concat(e.x4-o.state.scrollLeft,",").concat(e.y4-o.state.scrollTop," ").concat(e.x2-o.state.scrollLeft,",").concat(e.y2-o.state.scrollTop)})}),i.a.createElement("rect",{x:this.state.lastVisualizeUndoStackCoord[0]-this.state.scrollLeft,y:this.state.lastVisualizeUndoStackCoord[1]-this.state.scrollTop,width:this.props.currentStackBackgroundSize,height:this.props.currentStackBackgroundSize,fill:"#f50"}),this.state.visualizeUndoStack.map(function(e,t){if(e.x-o.state.scrollLeft<o.props.guiAreaWidth&&e.x-o.state.scrollLeft+o.props.imgSize>0&&e.y-o.state.scrollTop<o.props.guiAreaHeight&&e.y-o.state.scrollTop+o.props.imgSize>0)return i.a.createElement(i.a.Fragment,{key:t},i.a.createElement("image",{xlinkHref:e.stack.img,x:e.x-o.state.scrollLeft,y:e.y-o.state.scrollTop,width:o.props.imgSize,height:o.props.imgSize}))}),function(e,t,n,r){var a=180*Math.atan2(r-t,n-e)/Math.PI;if(e!==n||t!==r)return i.a.createElement(i.a.Fragment,null,i.a.createElement("line",{x1:e,y1:t,x2:n,y2:r,stroke:"rgba(70,30,200,0.7)",strokeWidth:o.props.currentStackBackgroundSize}),i.a.createElement("polygon",{transform:"translate(".concat(n," ").concat(r,") rotate(").concat(a,")"),fill:"rgba(70,30,200,0.7)",points:"".concat(0,",",-o.props.imgSize," ",0,",").concat(o.props.imgSize," ").concat(o.props.imgSize,",",0)}))}(this.state.visualizeFlowArrow[0]-this.state.scrollLeft,this.state.visualizeFlowArrow[1]-this.state.scrollTop,this.state.visualizeFlowArrow[2]-this.state.scrollLeft,this.state.visualizeFlowArrow[3]-this.state.scrollTop)),(e=Math.max.apply(Math,ht(o.state.visualizeUndoStack.map(function(e){return e.x}))),t=Math.max.apply(Math,ht(o.state.visualizeUndoStack.map(function(e){return e.y}))),o.state.visualizeUndoStack.map(function(n,r){if(n.x-o.state.scrollLeft<o.props.guiAreaWidth&&n.x-o.state.scrollLeft+o.props.imgSize>0&&n.y-o.state.scrollTop<o.props.guiAreaHeight&&n.y-o.state.scrollTop+o.props.imgSize>0||n.x===e||n.y===t)return i.a.createElement("div",{key:r,style:{position:"absolute",left:n.x,top:n.y+o.props.headerHeight,width:o.props.imgSize,height:o.props.imgSize},onClick:o.imgHandleClick(n.stack),onTouchStart:o.imgHandleClick(n.stack)})})))}}])&&dt(o.prototype,n),r&&dt(o,r),t}())||st;function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function St(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ot,Pt=Object(a.b)(function(e){var t=e.state;return{gestureAreaPositionX:t.gestureAreaPosition.x,gestureAreaPositionY:t.gestureAreaPosition.y,updateGestureAreaPosition:t.updateGestureAreaPosition}})(bt=Object(a.c)(bt=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=St(this,kt(t).call(this,e))).handleMouseAndTouchDown=function(e){document.body.addEventListener("mousemove",o.handleMouseAndTouchMove),document.body.addEventListener("touchmove",o.handleMouseAndTouchMove),document.body.addEventListener("mouseup",o.handleMouseAndTouchUp),document.body.addEventListener("touchend",o.handleMouseAndTouchUp),o.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},o.handleMouseAndTouchMove=function(e){o.props.updateGestureAreaPosition(o.props.gestureAreaPositionX+("changedTouches"in e?e.changedTouches[0].pageX:e.pageX)-o.state.x,o.props.gestureAreaPositionY+("changedTouches"in e?e.changedTouches[0].pageY:e.pageY)-o.state.y),o.setState({x:"changedTouches"in e?e.changedTouches[0].pageX:e.pageX,y:"changedTouches"in e?e.changedTouches[0].pageY:e.pageY})},o.handleMouseAndTouchUp=function(){document.body.removeEventListener("mousemove",o.handleMouseAndTouchMove),document.body.removeEventListener("touchmove",o.handleMouseAndTouchMove),document.body.removeEventListener("mouseup",o.handleMouseAndTouchUp),document.body.removeEventListener("touchend",o.handleMouseAndTouchUp)},o.state={x:0,y:0},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"none",onMouseDown:this.handleMouseAndTouchDown,onTouchStart:this.handleMouseAndTouchDown,style:this.props.style})}}])&&wt(o.prototype,n),r&&wt(o,r),t}())||bt)||bt;function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt,Wt=Object(a.b)(function(e){var t=e.state;return{gestureAreaPositionX:t.gestureAreaPosition.x,gestureAreaPositionY:t.gestureAreaPosition.y,gestureAreaWidth:t.gestureAreaWidth,gestureAreaHeight:t.gestureAreaHeight,undo:t.undo,redo:t.redo,unbra:t.unbra,rebra:t.rebra,headerHeight:t.headerHeight}})(Ot=Object(a.c)(Ot=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Mt(this,jt(t).call(this,e))).handleMouseDown=function(e){var t=(e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageX:e.pageX)-o.props.gestureAreaPositionX,n=(e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageY:e.pageY)-o.props.gestureAreaPositionY;o.x=[t],o.y=[n],o.setState({mouseDown:!0}),o.eventNums=[]},o.handleMouseMove=function(e){if(o.state.mouseDown){var t,n=o.state.context,r=(e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageX:e.pageX)-o.props.gestureAreaPositionX,i=(e.hasOwnProperty("changedTouches")?e.changedTouches[0].pageY:e.pageY)-o.props.gestureAreaPositionY;n.strokeStyle="#eee",n.lineWidth=10,n.lineJoin="round",n.lineCap="round",o.x.push(r),o.y.push(i),n.beginPath();for(var a=0;a<o.x.length-1;a++)n.moveTo(o.x[a],o.y[a]),n.lineTo(o.x[a+1],o.y[a+1]);if(n.stroke(),n.closePath(),o.x[o.x.length-1]-o.x[o.x.length-2]>=0&&o.y[o.y.length-1]-o.y[o.y.length-2]>=0?t=Math.abs((o.y[o.y.length-1]-o.y[o.y.length-2])/(o.x[o.x.length-1]-o.x[o.x.length-2]))>1?2:1:o.x[o.x.length-1]-o.x[o.x.length-2]<0&&o.y[o.y.length-1]-o.y[o.y.length-2]>0?t=Math.abs((o.y[o.y.length-1]-o.y[o.y.length-2])/(o.x[o.x.length-1]-o.x[o.x.length-2]))>1?2:3:o.x[o.x.length-1]-o.x[o.x.length-2]<=0&&o.y[o.y.length-1]-o.y[o.y.length-2]<=0?t=Math.abs((o.y[o.y.length-1]-o.y[o.y.length-2])/(o.x[o.x.length-1]-o.x[o.x.length-2]))>1?4:3:o.x[o.x.length-1]-o.x[o.x.length-2]>0&&o.y[o.y.length-1]-o.y[o.y.length-2]<0&&(t=Math.abs((o.y[o.y.length-1]-o.y[o.y.length-2])/(o.x[o.x.length-1]-o.x[o.x.length-2]))>1?4:1),o.eventNums.push(t),o.eventNums.length%10==0){var u=o.eventNums.slice(o.eventNums.length-10,o.eventNums.length).reduce(function(e,t){return e+t},0)/10;switch(Math.round(u)){case 1:o.props.redo();break;case 2:o.props.rebra();break;case 3:o.props.undo();break;case 4:o.props.unbra()}}}},o.handleMouseUp=function(){var e=o.state.context;e.fillStyle="#111",e.fillRect(0,0,o.props.gestureAreaWidth,o.props.gestureAreaHeight),o.setState({mouseDown:!1})},o.state={context:null,mouseDown:!1},o.eventNums=[],o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){var e=this.canvas;e.width=this.props.gestureAreaWidth,e.height=this.props.gestureAreaHeight;var t=e.getContext("2d");t.fillStyle="#111",t.fillRect(0,0,e.width,e.height),this.setState({context:t})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{"touch-action":"none",style:{width:this.props.gestureAreaWidth,height:this.props.gestureAreaHeight+this.props.headerHeight,position:"absolute",top:this.props.gestureAreaPositionY,left:this.props.gestureAreaPositionX}},i.a.createElement(Pt,{"touch-action":"auto",style:{width:this.props.gestureAreaWidth,height:this.props.headerHeight,backgroundColor:"#ddd",position:"absolute",borderTopLeftRadius:5,borderTopRightRadius:5}}),i.a.createElement("canvas",{ref:function(t){e.canvas=t},onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onMouseMove:this.handleMouseMove,onTouchMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleMouseUp,style:{backgroundColor:"#fff",width:this.props.gestureAreaWidth,height:this.props.gestureAreaHeight,borderRadius:5}}))}}])&&Tt(o.prototype,n),r&&Tt(o,r),t}())||Ot)||Ot;function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ut(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lt,_t,Ft,Yt,Bt,Xt,It,Gt,Nt,Kt,Vt,Jt,qt,Zt,Qt,$t,eo,to,oo,no,ro,io,ao,uo,co,so,lo,po,ho,fo,yo,go,bo,mo,vo,wo,So,ko,Ao,Oo,Po,Eo,To,Mo,jo,zo,Ro,Wo,xo,Co,Uo,Do,Ho,Lo,_o,Fo,Yo,Bo,Xo,Io,Go,No=Object(a.b)(function(e,t){var o=e.state;return{headerHeight:o.headerHeight,windowWidth:o.windowWidth,windowHeight:o.windowHeight,windowResize:o.windowResize,drawAreaWidth:o.drawAreaWidth,propertyAreaWidth:o.propertyAreaWidth,guiAreaWidth:o.guiAreaWidth}})(Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ut(this,Dt(t).apply(this,arguments))}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){this.props.windowResize(),window.addEventListener("resize",this.props.windowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.props.windowResize)}},{key:"render",value:function(){return i.a.createElement("div",{"touch-action":"none",style:{width:this.props.windowWidth,height:this.props.windowHeight-this.props.headerHeight,backgroundColor:"#222"}},i.a.createElement(_e,{style:{width:this.props.propertyAreaWidth,height:this.props.windowHeight-this.props.headerHeight,backgroundColor:"#aaa",float:"left"}}),i.a.createElement(mt,null),i.a.createElement(Wt,null),i.a.createElement(nt,null))}}])&&Ct(o.prototype,n),r&&Ct(o,r),t}())||Rt,Ko=(o(38),o(96),o(2));function Vo(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function Jo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qo(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Zo=(Lt=Ko.d.bound,_t=Ko.d.bound,Ft=Ko.d.bound,Yt=Ko.d.bound,Bt=Ko.d.bound,Xt=Ko.d.bound,It=Ko.d.bound,Gt=Ko.d.bound,Nt=Ko.d.bound,Kt=Ko.d.bound,Vt=Ko.d.bound,Jt=Ko.d.bound,qt=Ko.d.bound,Zt=Ko.d.bound,Qt=Ko.d.bound,$t=Ko.d.bound,eo=Ko.d.bound,to=Ko.d.bound,oo=Ko.d.bound,no=Ko.d.bound,ro=Ko.d.bound,io=Ko.d.bound,ao=Ko.d.bound,uo=Ko.d.bound,co=Ko.d.bound,so=Ko.d.bound,lo=Ko.d.bound,po=Ko.d.bound,ho=Ko.d.bound,yo=qo((fo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vo(this,"headerHeight",yo,this),Vo(this,"windowWidth",go,this),Vo(this,"windowHeight",bo,this),Vo(this,"propertyAreaWidth",mo,this),Vo(this,"initialDrawAreaWidth",vo,this),Vo(this,"drawAreaWidth",wo,this),Vo(this,"drawAreaPosition",So,this),Vo(this,"guiAreaWidth",ko,this),Vo(this,"guiAreaHeight",Ao,this),Vo(this,"guiAreaPosition",Oo,this),Vo(this,"gestureAreaWidth",Po,this),Vo(this,"gestureAreaHeight",Eo,this),Vo(this,"gestureAreaPosition",To,this),Vo(this,"imgSize",Mo,this),Vo(this,"currentStackBackgroundSize",jo,this),Vo(this,"undoManager",zo,this),Vo(this,"visualizeTreeUndo",Ro,this),Vo(this,"updateCommandText",Wo,this),Vo(this,"updateRender",xo,this),Vo(this,"strokeWidth",Co,this),Vo(this,"previewStrokeWidth",Uo,this),Vo(this,"sizeRatio",Do,this),Vo(this,"color",Ho,this),Vo(this,"colorArray",Lo,this),Vo(this,"opacity",_o,this),Vo(this,"opaityAreaRender",Fo,this),Vo(this,"opacityAreaGlContext",Yo,this),Vo(this,"opacityAreaUniLocation",Bo,this),Vo(this,"flag",Xo,this),Vo(this,"background",Io,this),Vo(this,"clear",Go,this)}var t,o,n;return t=e,(o=[{key:"updateWindowWidth",value:function(e){this.windowWidth=e}},{key:"updateWindowHeight",value:function(e){this.windowHeight=e}},{key:"updateDrawAreaWidth",value:function(e){this.drawAreaWidth=e}},{key:"updateDrawAreaPosition",value:function(e,t){this.drawAreaPosition.x=e,this.drawAreaPosition.y=t}},{key:"updateGuiAreaPosition",value:function(e,t){this.guiAreaPosition.x=e,this.guiAreaPosition.y=t}},{key:"updateGestureAreaPosition",value:function(e,t){this.gestureAreaPosition.x=e,this.gestureAreaPosition.y=t}},{key:"windowResize",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}},{key:"updateUndoManager",value:function(e){this.undoManager=e}},{key:"updateVisualizeTreeUndoFunction",value:function(e){this.visualizeTreeUndo=e}},{key:"updateUpdateCommandTextFunction",value:function(e){this.updateCommandText=e}},{key:"undo",value:function(){this.undoManager.undo(),this.visualizeTreeUndo(this.undoManager.undoStack[0],this.undoManager.redoStack,this.imgSize,this.undoManager.undoStack[0].stackWidth/2*(this.imgSize/2*3));var e=this.undoManager;this.updateRender(e.lastUndoStack()),this.updateCommandText("undo"),this.updateUndoManager(e)}},{key:"redo",value:function(){this.undoManager.redo(),this.visualizeTreeUndo(this.undoManager.undoStack[0],this.undoManager.redoStack,this.imgSize,this.undoManager.undoStack[0].stackWidth/2*(this.imgSize/2*3));var e=this.undoManager;this.updateRender(e.lastUndoStack()),this.updateCommandText("redo"),this.updateUndoManager(e)}},{key:"unbra",value:function(){this.undoManager.unbra(),this.visualizeTreeUndo(this.undoManager.undoStack[0],this.undoManager.redoStack,this.imgSize,this.undoManager.undoStack[0].stackWidth/2*(this.imgSize/2*3));var e=this.undoManager;this.updateRender(e.lastUndoStack()),this.updateCommandText("unbra"),this.updateUndoManager(e)}},{key:"rebra",value:function(){this.undoManager.rebra(),this.visualizeTreeUndo(this.undoManager.undoStack[0],this.undoManager.redoStack,this.imgSize,this.undoManager.undoStack[0].stackWidth/2*(this.imgSize/2*3));var e=this.undoManager;this.updateRender(e.lastUndoStack()),this.updateCommandText("rebra"),this.updateUndoManager(e)}},{key:"updateUpdateRenderFunction",value:function(e){this.updateRender=e}},{key:"updateSizeRatio",value:function(e){this.strokeWidth=this.strokeWidth,this.previewStrokeWidth=this.strokeWidth*e,this.sizeRatio=e}},{key:"updateStrokeWidth",value:function(e){this.strokeWidth=e,this.previewStrokeWidth=e*this.sizeRatio}},{key:"updateColor",value:function(e){this.color="rgba(".concat(e[0],",").concat(e[1],",").concat(e[2],",").concat(this.opacity,")"),this.colorArray=e,this.opacityAreaRender(this.opacityAreaGlContext,e.map(function(e){return e/255}),this.opacityAreaUniLocation)}},{key:"updateOpacity",value:function(e){this.opacity=e,this.color="rgba(".concat(this.colorArray[0],",").concat(this.colorArray[1],",").concat(this.colorArray[2],",").concat(e,")")}},{key:"updateOpacityAreaRender",value:function(e){this.opacityAreaRender=e}},{key:"updateOpacityAreaGlContext",value:function(e){this.opacityAreaGlContext=e}},{key:"updateOpacityAreaUniLocation",value:function(e){this.opacityAreaUniLocation=e}},{key:"brushEvent",value:function(){for(var e in this.flag)this.flag[e]="brush"===e;for(var t in this.background)this.background[t]="brush"===t?"#eee":"#bbb"}},{key:"rectEvent",value:function(){for(var e in this.flag)this.flag[e]="rect"===e;for(var t in this.background)this.background[t]="rect"===t?"#eee":"#bbb"}},{key:"circleEvent",value:function(){for(var e in this.flag)this.flag[e]="circle"===e;for(var t in this.background)this.background[t]="circle"===t?"#eee":"#bbb"}},{key:"lineEvent",value:function(){for(var e in this.flag)this.flag[e]="line"===e;for(var t in this.background)this.background[t]="line"===t?"#eee":"#bbb"}},{key:"colorPickerEvent",value:function(){for(var e in this.flag)this.flag[e]="colorPicker"===e;for(var t in this.background)this.background[t]="colorPicker"===t?"#eee":"#bbb"}},{key:"clearEvent",value:function(){for(var e in this.flag)this.flag[e]="clear"===e;for(var t in this.background)this.background[t]="clear"===t?"#eee":"#bbb";this.clear()}},{key:"updateClearFunction",value:function(e){this.clear=e}}])&&Jo(t.prototype,o),n&&Jo(t,n),e}()).prototype,"headerHeight",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),go=qo(fo.prototype,"windowWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.innerWidth}}),qo(fo.prototype,"updateWindowWidth",[Lt],Object.getOwnPropertyDescriptor(fo.prototype,"updateWindowWidth"),fo.prototype),bo=qo(fo.prototype,"windowHeight",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.innerHeight}}),qo(fo.prototype,"updateWindowHeight",[_t],Object.getOwnPropertyDescriptor(fo.prototype,"updateWindowHeight"),fo.prototype),mo=qo(fo.prototype,"propertyAreaWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),vo=qo(fo.prototype,"initialDrawAreaWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.windowHeight<this.windowWidth?2*this.windowHeight/3:this.windowWidth-this.propertyAreaWidth-20}}),wo=qo(fo.prototype,"drawAreaWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initialDrawAreaWidth}}),qo(fo.prototype,"updateDrawAreaWidth",[Ft],Object.getOwnPropertyDescriptor(fo.prototype,"updateDrawAreaWidth"),fo.prototype),So=qo(fo.prototype,"drawAreaPosition",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:this.propertyAreaWidth+10,y:this.headerHeight+10}}}),qo(fo.prototype,"updateDrawAreaPosition",[Yt],Object.getOwnPropertyDescriptor(fo.prototype,"updateDrawAreaPosition"),fo.prototype),ko=qo(fo.prototype,"guiAreaWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.windowWidth>this.windowHeight?this.windowWidth-this.drawAreaPosition.x-this.drawAreaWidth-20:this.drawAreaWidth}}),Ao=qo(fo.prototype,"guiAreaHeight",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.windowWidth>this.windowHeight?this.windowHeight-this.headerHeight-this.headerHeight-20:(this.windowHeight-this.drawAreaWidth)/2}}),Oo=qo(fo.prototype,"guiAreaPosition",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.windowWidth>this.windowHeight?{x:this.drawAreaPosition.x+this.drawAreaWidth+10,y:this.headerHeight+10}:{x:this.drawAreaPosition.x,y:this.drawAreaPosition.y+this.drawAreaWidth+this.headerHeight+10}}}),qo(fo.prototype,"updateGuiAreaPosition",[Bt],Object.getOwnPropertyDescriptor(fo.prototype,"updateGuiAreaPosition"),fo.prototype),Po=qo(fo.prototype,"gestureAreaWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.drawAreaWidth}}),Eo=qo(fo.prototype,"gestureAreaHeight",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.windowWidth>this.windowHeight?this.windowHeight-this.drawAreaWidth-3*this.headerHeight-10:this.windowHeight-this.drawAreaWidth-this.guiAreaHeight-3*this.headerHeight-40}}),To=qo(fo.prototype,"gestureAreaPosition",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.windowWidth>this.windowHeight?{x:this.drawAreaPosition.x,y:this.drawAreaPosition.y+this.drawAreaWidth+this.headerHeight+10}:{x:this.drawAreaPosition.x,y:this.guiAreaPosition.y+this.guiAreaHeight+this.headerHeight+10}}}),qo(fo.prototype,"updateGestureAreaPosition",[Xt],Object.getOwnPropertyDescriptor(fo.prototype,"updateGestureAreaPosition"),fo.prototype),qo(fo.prototype,"windowResize",[It],Object.getOwnPropertyDescriptor(fo.prototype,"windowResize"),fo.prototype),Mo=qo(fo.prototype,"imgSize",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),jo=qo(fo.prototype,"currentStackBackgroundSize",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.imgSize+10}}),zo=qo(fo.prototype,"undoManager",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateUndoManager",[Gt],Object.getOwnPropertyDescriptor(fo.prototype,"updateUndoManager"),fo.prototype),Ro=qo(fo.prototype,"visualizeTreeUndo",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateVisualizeTreeUndoFunction",[Nt],Object.getOwnPropertyDescriptor(fo.prototype,"updateVisualizeTreeUndoFunction"),fo.prototype),Wo=qo(fo.prototype,"updateCommandText",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateUpdateCommandTextFunction",[Kt],Object.getOwnPropertyDescriptor(fo.prototype,"updateUpdateCommandTextFunction"),fo.prototype),qo(fo.prototype,"undo",[Vt],Object.getOwnPropertyDescriptor(fo.prototype,"undo"),fo.prototype),qo(fo.prototype,"redo",[Jt],Object.getOwnPropertyDescriptor(fo.prototype,"redo"),fo.prototype),qo(fo.prototype,"unbra",[qt],Object.getOwnPropertyDescriptor(fo.prototype,"unbra"),fo.prototype),qo(fo.prototype,"rebra",[Zt],Object.getOwnPropertyDescriptor(fo.prototype,"rebra"),fo.prototype),xo=qo(fo.prototype,"updateRender",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateUpdateRenderFunction",[Qt],Object.getOwnPropertyDescriptor(fo.prototype,"updateUpdateRenderFunction"),fo.prototype),Co=qo(fo.prototype,"strokeWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Uo=qo(fo.prototype,"previewStrokeWidth",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Do=qo(fo.prototype,"sizeRatio",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qo(fo.prototype,"updateSizeRatio",[$t],Object.getOwnPropertyDescriptor(fo.prototype,"updateSizeRatio"),fo.prototype),qo(fo.prototype,"updateStrokeWidth",[eo],Object.getOwnPropertyDescriptor(fo.prototype,"updateStrokeWidth"),fo.prototype),Ho=qo(fo.prototype,"color",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"rgba(0,0,0,1.0)"}}),Lo=qo(fo.prototype,"colorArray",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,0]}}),qo(fo.prototype,"updateColor",[to],Object.getOwnPropertyDescriptor(fo.prototype,"updateColor"),fo.prototype),_o=qo(fo.prototype,"opacity",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qo(fo.prototype,"updateOpacity",[oo],Object.getOwnPropertyDescriptor(fo.prototype,"updateOpacity"),fo.prototype),Fo=qo(fo.prototype,"opaityAreaRender",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateOpacityAreaRender",[no],Object.getOwnPropertyDescriptor(fo.prototype,"updateOpacityAreaRender"),fo.prototype),Yo=qo(fo.prototype,"opacityAreaGlContext",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateOpacityAreaGlContext",[ro],Object.getOwnPropertyDescriptor(fo.prototype,"updateOpacityAreaGlContext"),fo.prototype),Bo=qo(fo.prototype,"opacityAreaUniLocation",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateOpacityAreaUniLocation",[io],Object.getOwnPropertyDescriptor(fo.prototype,"updateOpacityAreaUniLocation"),fo.prototype),Xo=qo(fo.prototype,"flag",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{brush:!0,rect:!1,circle:!1,line:!1,colorPicker:!1,clear:!1}}}),Io=qo(fo.prototype,"background",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{brush:"#eee",rect:"#bbb",circle:"#bbb",line:"#bbb",colorPicker:"#bbb",clear:"#bbb"}}}),qo(fo.prototype,"brushEvent",[ao],Object.getOwnPropertyDescriptor(fo.prototype,"brushEvent"),fo.prototype),qo(fo.prototype,"rectEvent",[uo],Object.getOwnPropertyDescriptor(fo.prototype,"rectEvent"),fo.prototype),qo(fo.prototype,"circleEvent",[co],Object.getOwnPropertyDescriptor(fo.prototype,"circleEvent"),fo.prototype),qo(fo.prototype,"lineEvent",[so],Object.getOwnPropertyDescriptor(fo.prototype,"lineEvent"),fo.prototype),qo(fo.prototype,"colorPickerEvent",[lo],Object.getOwnPropertyDescriptor(fo.prototype,"colorPickerEvent"),fo.prototype),qo(fo.prototype,"clearEvent",[po],Object.getOwnPropertyDescriptor(fo.prototype,"clearEvent"),fo.prototype),Go=qo(fo.prototype,"clear",[Ko.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qo(fo.prototype,"updateClearFunction",[ho],Object.getOwnPropertyDescriptor(fo.prototype,"updateClearFunction"),fo.prototype),fo),Qo=(o(314),o(1094)),$o=o.n(Qo);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function on(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}o.d(t,"default",function(){return un});var an={state:new Zo},un=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),on(this,nn(t).apply(this,arguments))}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){$o.a.use()}},{key:"componentWillUnmount",value:function(){$o.a.unuse()}},{key:"render",value:function(){return i.a.createElement(a.a,an,i.a.createElement(i.a.Fragment,null,i.a.createElement(d,null),i.a.createElement(No,null)))}}])&&tn(o.prototype,n),r&&tn(o,r),t}()},221:function(e,t,o){var n=o(20);n(n.P,"Array",{fill:o(66)}),o(95)("fill")},315:function(e,t,o){"use strict";var n=o(22),r=o(20),i=o(21),a=o(98),u=o(67),c=o(16),s=o(316),l=o(68);r(r.S+r.F*!o(69)(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,r,p,h=i(e),d="function"==typeof this?this:Array,f=arguments.length,y=f>1?arguments[1]:void 0,g=void 0!==y,b=0,m=l(h);if(g&&(y=n(y,f>2?arguments[2]:void 0,2)),null==m||d==Array&&u(m))for(o=new d(t=c(h.length));t>b;b++)s(o,b,g?y(h[b],b):h[b]);else for(p=m.call(h),o=new d;!(r=p.next()).done;b++)s(o,b,g?a(p,y,[r.value,b],!0):r.value);return o.length=b,o}})},316:function(e,t,o){"use strict";var n=o(11),r=o(34);e.exports=function(e,t,o){t in e?n.f(e,t,r(0,o)):e[t]=o}},424:function(e,t,o){o(73)("Uint8",1,function(e){return function(t,o,n){return e(this,t,o,n)}})}}]);